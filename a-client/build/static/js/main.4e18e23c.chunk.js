(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{177:function(e,t,n){},187:function(e,t){t.cutSpaceInString=function(e){for(var t=0,n=e.split("");t<n.length;)" "===n[t]&&(n.splice(t,1),t-=1),t+=1;return n.join("").toLowerCase()},t.replaceTelex=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")}},315:function(e,t,n){},316:function(e,t,n){},322:function(e,t){},324:function(e,t){},335:function(e,t){},337:function(e,t){},365:function(e,t){},367:function(e,t){},368:function(e,t){},373:function(e,t){},375:function(e,t){},394:function(e,t){},406:function(e,t){},409:function(e,t){},504:function(e,t,n){},510:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n.n(a),i=n(21),r=n.n(i),o=(n(315),n(15)),l=(n(316),n(25)),j=n(26),b=n(9),d=n(290),u=n.n(d),h=n(18),O=n(27),p=n.n(O),m=n(149),f=n.n(m),x=n(187),g=function(e){if("undefined"!==window)return f.a.get(e)},v=function(e,t){var n,c,a;n=e.data.user.name?Object(x.replaceTelex)(e.data.user.name):Object(x.replaceTelex)(e.data.user),c="token",a=e.data.token,"undefined"!==window&&f.a.set(c,a,{expires:7}),function(e,t){"undefined"!==window&&localStorage.setItem(e,JSON.stringify(t))}("user",n)},N=function(e){var t;t="token","undefined"!==window&&f.a.remove(t,{expires:1}),function(e){"undefined"!==window&&localStorage.removeItem(e)}("user")},w=function(){if("undefined"!==window&&g("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))};var k=function(e){var t=Object(a.useState)({name:"",token:""}),n=Object(b.a)(t,2),s=n[0],i=n[1];Object(a.useEffect)((function(){var t=e.match.params.token,n=u.a.decode(t);t&&i(Object(o.a)(Object(o.a)({},s),{},{name:n,token:t}))}),[]);var r=s.token;return Object(c.jsxs)("div",{children:[w()?Object(c.jsx)(j.a,{to:"/"}):null,Object(c.jsx)(h.a,{}),Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),p.a.post("http://localhost:2704/api/activision",{token:r}).then((function(e){h.b.success(e.data.message),v(e)})).catch((function(e){h.b.error(e.response.data.error)}))},children:Object(c.jsx)("button",{type:"submit",children:"active"})}),Object(c.jsx)("h1",{children:"Nguyendutyhas"})]})},y=n(50),_=(n(177),n(549));var S=function(){var e,t=Object(a.useState)({email:""}),n=Object(b.a)(t,2),s=n[0],i=n[1],r=s.email;return Object(c.jsxs)("div",{className:"forget_container",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r?p.a.put("http://localhost:2704/api/password/forget",{email:r}).then((function(e){i(Object(o.a)(Object(o.a)({},s),{},{email:""})),h.b.success(e.data.message)})).catch((function(e){h.b.error(e.response.data.error)})):h.b.error("Please fill all text field")},children:[Object(c.jsx)("p",{children:"Qu\xean m\u1eadt kh\u1ea9u"}),Object(c.jsx)(_.a,{id:"standard-basic",onChange:(e="email",function(t){i(Object(o.a)(Object(o.a)({},s),{},Object(y.a)({},e,t.target.value)))}),label:"Email"}),Object(c.jsx)("div",{className:"button-sign",children:Object(c.jsx)("button",{className:"treat-button",id:"forget_button",type:"submit",children:" Submit "})})]})]})},C=n(544);var I=function(e){var t=e.match,n=Object(a.useState)({password1:"",password2:"",token:""}),s=Object(b.a)(n,2),i=s[0],r=s[1],j=i.password1,d=i.password2,u=i.token;Object(a.useEffect)((function(){var e=t.params.token;e&&r(Object(o.a)(Object(o.a)({},i),{},{token:e}))}),[]);var O=function(e){return function(t){r(Object(o.a)(Object(o.a)({},i),{},Object(y.a)({},e,t.target.value)))}};return Object(c.jsxs)("div",{className:"forget_password_page",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)(C.a,{elevation:3,children:[Object(c.jsx)("h6",{children:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n "}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j===d&&j?p.a.put("http://localhost:2704/api/change/password",{newPassword:j,passwordLink:u}).then((function(e){r({password1:"",password2:""}),h.b.success(e.data.message)})).catch((function(e){console.log(e),h.b.error(e.response.data.error)})):h.b.error("Password does not match")},className:"form__group field",children:[Object(c.jsxs)("div",{className:"changePassword_input_div",children:[Object(c.jsx)("input",{value:j,onChange:O("password1"),type:"password",className:"form__field",placeholder:"M\u1eadt kh\u1ea9u m\u1edbi",name:"name"}),Object(c.jsx)("label",{className:"form__label",children:"M\u1eadt kh\u1ea9u m\u1edbi"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{value:d,onChange:O("password2"),type:"password",className:"form__field",placeholder:"Nh\u1eadp l\u1ea1i",name:"password"}),Object(c.jsx)("label",{className:"form__label",children:"Nh\u1eadp l\u1ea1i"})]}),Object(c.jsx)("div",{className:"button-sign",children:Object(c.jsx)("button",{id:"button_change_password",className:"treat-button",type:"submit",children:"Thay \u0111\u1ed5i"})}),Object(c.jsx)(l.b,{className:"href_link",to:"/",children:"Quay tr\u1edf l\u1ea1i trang ch\u1ee7"})]})]})]})},L=(n(449),n(52)),E=n(94),P=n.n(E),T=n(138),B=n(48),F=n.n(B),R=n(139),D=n.n(R),A=n(141),M=n.n(A),U=n(291),H=n.n(U),J=function(){var e=H()("http://localhost:2704",{withCredentials:!0});return{getSocket:function(){return e}}}(),Q=n(140),Y=n.n(Q),G=n(545);var V=function(){var e=J.getSocket(),t=g().token,n=Object(a.useState)([]),s=Object(b.a)(n,2),i=s[0],r=s[1],o=Object(a.useState)(0),l=Object(b.a)(o,2),j=l[0],d=l[1],u=Object(a.useRef)(null),h=Object(a.useState)(""),O=Object(b.a)(h,2),m=O[0],f=O[1],x=Object(a.useState)(""),v=Object(b.a)(x,2),N=v[0],w=v[1],k=Object(a.useState)(!1),y=Object(b.a)(k,2),_=y[0],S=y[1],C=Object(a.useState)(!1),I=Object(b.a)(C,2),E=I[0],B=I[1],R=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=p.a.CancelToken.source();return function(){var e=Object(T.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("http://localhost:2704/api/msgC/getIdRoom",{id:t}).then((function(e){d(e.data.len)}));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()(),function(){e.cancel()}}),[]),Object(a.useEffect)((function(){e.on("message",(function(e){e.roomId&&(S(!1),B(!0),w(e.roomId)),e.image?r((function(t){return[].concat(Object(L.a)(t),[e.image+";"+e.user])})):e.text&&(r((function(t){return[].concat(Object(L.a)(t),[e.text+","+e.user])})),function(){try{R.current.scrollIntoView()}catch(e){}}())}))}),[]);var A=D()({onclic:_});return Object(c.jsxs)("div",{className:"message_container",children:[Object(c.jsx)("div",{className:"container_button",children:Object(c.jsx)("button",{style:!0===E?{display:"none"}:{},id:"button_find_partner",className:A,onClick:function(n){!0!==_?e.emit("join",{id:t,len:j,ipOfUser:"Dong nai"},(function(e){"error"===e?S(!0):(B(!0),w(e))})):S(!1)}})}),Object(c.jsx)("ul",{style:!1===E?{display:"none"}:{},children:Object.values(i).map((function(e,n){var a=e.split(",");if("image"===a[0]){var s=a[1]+","+a[2].split(";")[0];return a[2].split(";")[1]===t?Object(c.jsx)("li",{className:"messageImageOwn",children:Object(c.jsx)("img",{src:s},n)}):Object(c.jsx)("li",{className:"messageImageOther",children:Object(c.jsx)("img",{src:s},n)})}var i,r=(i=a[0],F.a.AES.decrypt(i,"123nguyenduythaise1").toString(F.a.enc.Utf8));return a[1]===t?Object(c.jsxs)("li",{className:"messageLiOwn",ref:R,children:[r.length>60?Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnm60",children:Object(c.jsx)("span",{children:r})}):Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnl60",children:Object(c.jsx)("span",{children:r})}),")"]},n):Object(c.jsxs)("li",{className:"messageLiOther",ref:R,children:[r.length>60?Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherm60",children:Object(c.jsx)("span",{children:r})}):Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherl60",children:Object(c.jsx)("span",{children:r})}),")"]},n)}))}),Object(c.jsxs)("form",{className:"formMessage",style:!1===E?{display:"none"}:{},onSubmit:function(n){if(n.preventDefault(),m){var c=(a=m,F.a.AES.encrypt(a,"123nguyenduythaise1").toString());e.emit("sendMessage",{room:N,message:c,id:t},(function(){return f("")}))}var a},children:[Object(c.jsxs)("span",{className:"input",children:[Object(c.jsx)("input",{value:m,onChange:function(e){return f(e.target.value)},type:"text",placeholder:"Enter text"}),Object(c.jsx)("span",{})]}),Object(c.jsxs)("div",{className:"extension_input",children:[Object(c.jsx)("input",{id:"icon_button_file",type:"file",onChange:function(n){for(var c=n.target.files,a=new FileReader,s=0;s<c.length;s++)a.readAsDataURL(c[s]),a.onloadend=function(){console.log(a.result),e.emit("sendImageOff",{room:N,image:a.result,userId:t})}},ref:u}),Object(c.jsx)(G.a,{onClick:function(){u.current.click()},children:Object(c.jsx)(Y.a,{})})]}),Object(c.jsx)("button",{type:"submit",children:Object(c.jsx)(M.a,{})})]})]})},W=n(546),X=n(298),q=n(551),z=n(550);function K(e){var t=e.id,n=e.onClick,a=s.a.useState(null),i=Object(b.a)(a,2),r=i[0],o=i[1],l=s.a.useState(!1),j=Object(b.a)(l,2),d=j[0],u=j[1],O=function(){o(null)},m=function(){var e=Object(T.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g().token,p.a.post("http://localhost:2704/api/msgC/blockUser",{idSend:n,id:t}).then((function(e){h.b.success("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n"),u(!1),o(null)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){u(!1)};return Object(c.jsxs)("div",{className:"menuMessage",children:[Object(c.jsx)(h.a,{}),Object(c.jsx)(W.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},children:"\u2630"}),Object(c.jsxs)(X.a,{id:"menuContainerMessage",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:O,children:[Object(c.jsx)(q.a,{onClick:O,children:Object(c.jsx)("span",{className:"simple_menu_span",onClick:function(){return n("")},to:"/",children:"Quay v\u1ec1"})}),Object(c.jsxs)(q.a,{children:[Object(c.jsx)("span",{className:"simple_menu_span",onClick:function(){t.length>2&&(u(!0),console.log(t))},children:"Ch\u1eb7n"}),Object(c.jsx)(z.a,{open:d,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(c.jsxs)("div",{className:"contain_block",children:[Object(c.jsx)("div",{className:"head",children:Object(c.jsx)("button",{onClick:f,children:"\u2715"})}),Object(c.jsx)("div",{className:"middle",children:Object(c.jsx)("p",{children:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n ch\u1eb7n ng\u01b0\u1eddi n\xe0y, n\u1ebfu ng\u01b0\u1eddi n\xe0y g\xe2y h\u1ea1i cho b\u1ea1n b\u1ea1n c\xf3 th\u1ec3 b\xe1o c\xe1o ch\xfang t\xf4i s\u1ebd gi\xfap b\u1ea1n"})}),Object(c.jsxs)("div",{className:"bottom",children:[Object(c.jsx)("button",{onClick:m,children:"X\xe1c nh\u1eadn"}),Object(c.jsx)("button",{onClick:f,className:"cancel",children:"H\u1ee7y b\u1ecf"})]})]})})]}),Object(c.jsx)(q.a,{children:Object(c.jsx)("span",{className:"simple_menu_span",children:"B\xe1o c\xe1o"})}),Object(c.jsx)(q.a,{onClick:function(){N(),window.location.reload(!1)},children:Object(c.jsx)("span",{className:"simple_menu_span",children:"\u0110\u0103ng xu\u1ea5t"})})]})]})}var Z=n(142),$=n.n(Z),ee=n(143),te=n.n(ee),ne=n(53),ce=n.n(ne),ae=J.getSocket();var se=function(e){var t,n=e.onClick,s=e.message,i=e.user1,r=e.user2,o=e.idRoom,l=e.target,j=Object(a.useState)(!1),d=Object(b.a)(j,2),u=d[0],h=d[1],O=Object(a.useState)(!1),p=Object(b.a)(O,2),m=p[0],f=p[1],x=Object(a.useState)(""),v=Object(b.a)(x,2),N=v[0],w=v[1],k=g().token,y=s.split(","),_=function(e){var t,n=F.a.AES.decrypt(e,"123nguyenduythaise1");try{t=n.toString(F.a.enc.Utf8)}catch(c){t=""}return t};Object(a.useEffect)((function(){if(ae.emit("joinBack",{idRoom:o}),y[1]===k){var e=_(y[0]);if(e.length>0){var t=e.length>10?e.slice(0,10)+".....":e.split(",")[0];w("B\u1ea1n:  "+t)}else w("B\u1ea1n:  da gui hinh anh")}else{var n=_(y[0]);if(n.length>0){var c=n.length>10?n.slice(0,10)+".....":n.split(",")[0];w("\u0110\u1eb1ng \u1ea5y:  "+c)}else w("\u0110\u1eb1ng \u1ea5y:  da gui hinh anh");"false"===y[2]&&h(!0)}}),[]),Object(a.useEffect)((function(){ae.on("message",(function(e){var n;if(e.idRoom===o)if(t=e.user,n=e.text?_(e.text):"",t===k)if(n.length>0){var c=n.length>10?n.slice(0,10)+".....":n.split(",")[0];w("B\u1ea1n:  "+c)}else w("B\u1ea1n:  da gui hinh anh");else{if(n.length>0){var a=n.length>10?n.slice(0,10)+".....":n.split(",")[0];w("\u0110\u1eb1ng \u1ea5y:  "+a)}else w("\u0110\u1eb1ng \u1ea5y:  da gui hinh anh");"false"===y[2]&&h(!0)}}))}),[]),Object(a.useEffect)((function(){l===o?(f(!0),h(!1),ae.emit("seenMessage",{id:o,user1:i,user2:r})):f(!1)}),[l]);var S=D()({contact_container:!0,active_contact:m,not_read_contact:u});return Object(c.jsx)("div",{className:S,onClick:function(){n(o+","+i+";"+r+";"+k)},children:Object(c.jsxs)("div",{className:"contact_contain_text",children:[Object(c.jsx)("p",{children:N}),Object(c.jsx)("img",{src:"./demo.jpeg"})]})})};var ie=function(e){var t=g().token,n=J.getSocket(),s=e.id,i=Object(a.useState)(0),r=Object(b.a)(i,2),o=r[0],l=(r[1],Object(a.useState)(10)),j=Object(b.a)(l,2),d=j[0],u=j[1],h=Object(a.useState)([]),O=Object(b.a)(h,2),m=O[0],f=O[1],x=Object(a.useState)(""),v=Object(b.a)(x,2),N=v[0],w=v[1],k=Object(a.useRef)(null),y=Object(a.useRef)(null),_=Object(a.useState)(!1),S=Object(b.a)(_,2),C=S[0],I=S[1];return Object(a.useEffect)((function(){p.a.post("http://localhost:2704/api/msgC/sendContact?id="+s+"&start="+o+"&end="+d).then((function(e){f(e.data.reverse().slice(2,e.data.length)),I(!1)})).catch((function(e){}))}),[s,o,d]),Object(a.useEffect)((function(){n.on("message",(function(e){e.image?f((function(t){return[].concat(Object(L.a)(t),[e.image+";"+e.user])})):f((function(t){return[].concat(Object(L.a)(t),[e.text+","+e.user])})),function(){try{k.current.scrollIntoView()}catch(e){}}()}))}),[]),Object(c.jsxs)("div",{className:"message_container",children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("div",{className:"button_load_more",children:!1===C?Object(c.jsx)("button",{onClick:function(){I(!0),u(d+10)},children:"T\u1ea3i th\xeam"}):Object(c.jsxs)("div",{className:"loaderBalls",children:[Object(c.jsx)("div",{className:"yellow"}),Object(c.jsx)("div",{className:"red"}),Object(c.jsx)("div",{className:"blue"})]})}),m.length>0?m.map((function(e,n){var a=e.split(",");if("image"===a[0]){var s=a[1]+","+a[2].split(";")[0];return a[2].split(";")[1]===t?Object(c.jsxs)("li",{ref:k,className:"messageImage mIOwn",children:[Object(c.jsx)("input",{type:"checkbox",id:n}),Object(c.jsx)("label",{for:n,children:Object(c.jsx)("img",{src:s})})]},n):Object(c.jsx)("li",{ref:k,className:"messageImage mIOther",children:Object(c.jsx)("img",{src:s})},n)}var i=function(e){var t,n=F.a.AES.decrypt(e,"123nguyenduythaise1");try{t=n.toString(F.a.enc.Utf8)}catch(c){t=""}return t}(a[0]);return a[1]===t?Object(c.jsxs)("li",{className:"messageLiOwn",ref:k,children:[i.length>60?Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnm60",children:Object(c.jsx)("span",{children:i})}):Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnl60",children:Object(c.jsx)("span",{children:i})}),")"]},n):Object(c.jsxs)("li",{className:"messageLiOther",ref:k,children:[i.length>60?Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherm60",children:Object(c.jsx)("span",{children:i})}):Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherl60",children:Object(c.jsx)("span",{children:i})}),")"]},n)})):console.log()]}),Object(c.jsxs)("form",{className:"formMessage",onSubmit:function(e){if(e.preventDefault(),w(""),N){var c=(a=N,F.a.AES.encrypt(a,"123nguyenduythaise1").toString());n.emit("sendMessageOff",{room:s,message:c,userId:t})}var a},children:[Object(c.jsxs)("span",{className:"input",children:[Object(c.jsx)("input",{value:N,onChange:function(e){return w(e.target.value)},type:"text",placeholder:"Enter text"}),Object(c.jsx)("span",{})]}),Object(c.jsxs)("div",{className:"extension_input",children:[Object(c.jsx)("input",{id:"icon_button_file",type:"file",onChange:function(e){for(var c=e.target.files,a=new FileReader,i=0;i<c.length;i++)a.readAsDataURL(c[i]),a.onloadend=function(){n.emit("sendImageOff",{room:s,image:a.result,userId:t})}},ref:y}),Object(c.jsx)(G.a,{onClick:function(){y.current.click()},children:Object(c.jsx)(Y.a,{})})]}),Object(c.jsx)("button",{type:"submit",children:Object(c.jsx)(M.a,{})})]})]})};var re=function(){var e=Object(j.g)(),t=Object(a.useState)(""),n=Object(b.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(!0),o=Object(b.a)(r,2),d=o[0],u=o[1],h=g().token,O=Object(a.useState)(0),m=Object(b.a)(O,2),f=m[0],x=(m[1],Object(a.useState)(10)),v=Object(b.a)(x,2),N=v[0],w=(v[1],Object(a.useState)([])),k=Object(b.a)(w,2),y=k[0],_=k[1],S=Object(a.useState)("Recal"),C=Object(b.a)(S,2),I=C[0],E=C[1],P=Object(a.useState)(""),T=Object(b.a)(P,2),B=T[0],F=T[1];Object(a.useEffect)((function(){p.a.post("http://localhost:2704/api/msgC/contactL?start="+f+"&end="+N,{id:h}).then((function(t){t.data.message?e.push("/report"):_((function(e){return[].concat(Object(L.a)(e),[t.data])}))})).catch((function(e){}))}),[f]);var R=function(e){var t=e.split(",");i(t[0]),F(t[1])};return Object(c.jsxs)("div",{className:"main_page_auth",children:[Object(c.jsx)("header",{children:Object(c.jsxs)("div",{className:"navbar_auth",children:[Object(c.jsx)(K,{onClick:function(e){return R("")},id:s+";"+B}),Object(c.jsxs)("p",{children:[" ",I," "]})]})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"navbar_right",style:!0===d?{width:"15%"}:{overflowY:"hidden",width:"0px"},children:[Object(c.jsx)("div",{onClick:function(e){u(!d)},id:"triangle-right",style:!0===d?{left:"185px"}:{left:"0",borderLeft:"20px solid yellow",borderRight:"0"}}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)($.a,{}),Object(c.jsx)(l.b,{to:"/",children:"Tr\xf2 chuy\u1ec7n"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(te.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"Trang ch\u1ee7"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/friend",children:"B\u1ea1n b\xe8"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"C\xe0i \u0111\u1eb7t"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"H\u1ed7 tr\u1ee3"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"\u0110i\u1ec1u kho\u1ea3n "})]})]})]}),s?Object(c.jsx)(ie,{id:s,name:function(e){return E(e)}}):Object(c.jsx)(V,{}),Object(c.jsx)("div",{className:"contact",style:!0===d?{width:"20%"}:{width:"35%"},children:y.length>0?y[0].map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(se,{onClick:function(e){return R(e)},message:e[2],user1:e[0],user2:e[1],idRoom:e[3],target:s})},t)})):console.log()})]})]})},oe=n(150),le=n.n(oe),je=n(547),be=n(548),de=n(513),ue=n(144),he=n.n(ue),Oe=n(145),pe=n.n(Oe),me=Object(je.a)((function(e){return{floatingLabelFocusStyle:{color:"#fff"}}}));var fe=function(){var e=me(),t=Object(j.g)(),n=Object(a.useState)({email:"",password:""}),s=Object(b.a)(n,2),i=s[0],r=s[1],d=i.email,u=i.password,O=function(e){return function(t){r(Object(o.a)(Object(o.a)({},i),{},Object(y.a)({},e,t.target.value)))}};return Object(c.jsxs)("form",{className:"form_signIn",onSubmit:function(e){e.preventDefault(),d&&u?p.a.post("http://localhost:2704/api/login",{email:d,password:u}).then((function(e){r(Object(o.a)(Object(o.a)({},i),{},{email:"",password:""})),h.b.success(e.data.message),e.data.blockN>3&&t.push("/report"),v(e),window.location.reload(!1)})).catch((function(e){h.b.error(e.response.data.error)})):h.b.error("Please fill all text field")},children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("p",{className:"sign_in_title",children:"Sign In"}),Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(_.a,{value:d,onChange:O("email"),id:"outlined-basic",label:"Email",variant:"outlined",InputLabelProps:{className:e.floatingLabelFocusStyle}})}),Object(c.jsxs)("div",{className:"inputField",children:[Object(c.jsx)(_.a,{value:u,onChange:O("password"),id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",InputLabelProps:{className:e.floatingLabelFocusStyle}}),Object(c.jsxs)("div",{className:"button-sign",children:[Object(c.jsx)(l.b,{to:"/users/forget",children:"Qu\xean m\u1eadt kh\u1ea9u"}),Object(c.jsx)("button",{className:"treat-button",type:"submit",children:"\u0110\u0103ng nh\u1eadp"})]})]}),Object(c.jsx)("div",{className:"divider"}),Object(c.jsx)(he.a,{className:"google_login",clientId:"583969708221-h0kl5ki0e91mkb3mafoecak1sj8b4ih3.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){var t;t=e.tokenId,p.a.post("http://localhost:2704/api/googlelogin",{idToken:t}).then((function(e){v(e),window.location.reload(!1)})).catch((function(e){console.log(e),h.b.error("Login with Google failed")}))},cookiePolicy:"single_host_origin"}),Object(c.jsx)(pe.a,{appId:"688117411891893",fields:"name,email,picture",callback:function(e){var t,n;console.log(e),t=e.userID,n=e.accessToken,p.a.post("http://localhost:2704/api/facebooklogin",{userID:t,accessToken:n}).then((function(e){v(e),window.location.reload(!1)})).catch((function(e){h.b.error("Login with Facebook failed")}))},cssClass:"facebook_login",icon:"fa-facebook"})]})};n(501).config({path:"./config/config.env"});var xe=Object(je.a)((function(e){return{floatingLabelFocusStyle:{color:"rgb(167, 166, 166);"}}}));var ge=function(){var e=Object(a.useState)({email:"",name:"",password1:"",password2:""}),t=Object(b.a)(e,2),n=t[0],s=t[1],i=n.email,r=n.name,l=n.password1,j=n.password2,d=function(e){return function(t){s(Object(o.a)(Object(o.a)({},n),{},Object(y.a)({},e,t.target.value)))}},u=xe(),O=function(e){console.log(e)};return Object(c.jsxs)("form",{className:"form_signIn",onSubmit:function(e){e.preventDefault(),r&&i&&l?l!==j?h.b.error("Password does not match"):p.a.post("http://localhost:2704/api/register",{name:r,email:i,password:l}).then((function(e){s(Object(o.a)(Object(o.a)({},n),{},{name:"",email:"",password1:"",password2:""})),h.b.success(e.data.message)})).catch((function(e){h.b.error(e.response.data.error)})):h.b.error("Please fill all text field")},children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("p",{className:"sign_in_title",children:"\u0110\u0103ng k\xfd"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(_.a,{value:i,onChange:d("email"),id:"outlined-basic",label:"Email ",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}})}),Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(_.a,{value:r,onChange:d("name"),id:"outlined-basic-name",label:"T\xean \u0111\u0103ng nh\u1eadp ",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}})}),Object(c.jsxs)("div",{className:"inputField",children:[Object(c.jsx)(_.a,{value:l,onChange:d("password1"),id:"outlined-password-input",label:"M\u1eadt kh\u1ea9u",type:"password",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}}),Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(_.a,{value:j,onChange:d("password2"),id:"outlined-repeatPassword-input",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",type:"password",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}})}),Object(c.jsx)("div",{className:"button-sign",children:Object(c.jsx)("button",{className:"treat-button",type:"submit",children:"\u0110\u0103ng k\xfd"})})]})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)(he.a,{className:"google_login",clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:O,onFailure:O,cookiePolicy:"single_host_origin"}),Object(c.jsx)(pe.a,{appId:"1088597931155576",fields:"name,email,picture",onClick:function(e){console.log(e)},cssClass:"facebook_login",icon:"fa-facebook"})]})]})]})},ve=Object(je.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",padding:e.spacing(1,10,10)}}}));var Ne=function(){var e=ve(),t=s.a.useState(null),n=Object(b.a)(t,2),a=n[0],i=n[1],r=s.a.useState(!1),o=Object(b.a)(r,2),l=o[0],j=o[1],d=s.a.useState(!1),u=Object(b.a)(d,2),h=u[0],O=u[1],p=function(){i(null)};return Object(c.jsx)("div",{className:"main_page",children:Object(c.jsx)("div",{className:"homepage",children:Object(c.jsxs)("header",{className:"header_notAuth",children:[Object(c.jsxs)("div",{className:"navbar",children:[Object(c.jsx)("p",{children:Object(c.jsx)("a",{href:"/",children:" Sadnessly "})}),Object(c.jsx)("span",{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:"\u2630"}),Object(c.jsxs)(X.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:p,children:[Object(c.jsx)(q.a,{onClick:p,children:Object(c.jsxs)("a",{href:"/",children:[Object(c.jsx)(le.a,{}),Object(c.jsx)("p",{children:"Profile Of me"})]})}),Object(c.jsx)(q.a,{onClick:p,children:Object(c.jsxs)("a",{href:"/",children:[Object(c.jsx)(le.a,{}),Object(c.jsx)("p",{children:"What do you think"})]})}),Object(c.jsx)(q.a,{onClick:p,children:Object(c.jsxs)("a",{href:"/",children:[Object(c.jsx)(le.a,{}),Object(c.jsx)("p",{children:"Profile"})]})})]})]}),Object(c.jsxs)("div",{className:"text-navbar",children:[Object(c.jsx)("p",{className:"text-navbar-first",children:"B\u1ea1n c\xf3 th\u1ec3 chia s\u1ebb c\xe2u chuy\u1ec7n c\u1ee7a m\xecnh m\xe0 kh\xf4ng ai bi\u1ebft b\u1ea1n l\xe0 ai!!"}),Object(c.jsx)("p",{className:"text-navbar-second",children:"\u0110\u1eebng \u0111\u1ec3 b\u1ea3n th\xe2n qu\xe1 n\u1eb7ng l\xf2ng h\xe3y m\u1edf l\xf2ng v\xe0 b\u1ea1n s\u1ebd th\u1ea5y tho\u1ea3i m\xe1i h\u01a1n. Cho \u0111i l\xe0 nh\u1eadn l\u1ea1i!"})]}),Object(c.jsxs)("div",{className:"button-navbar treat-wrapper row",children:[Object(c.jsx)("button",{className:"signIn-navbar treat-button col-sm-12 col-md-6",type:"button",onClick:function(){j(!0)},children:"\u0110\u0103ng nh\u1eadp"}),Object(c.jsx)(z.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:l,onClose:function(){j(!1)},closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(c.jsx)(de.a,{in:l,children:Object(c.jsx)("div",{className:e.paper,children:Object(c.jsx)(fe,{})})})}),Object(c.jsx)("button",{className:"signUp-navbar treat-button col-sm-12 col-md-6",type:"button",onClick:function(){O(!0)},children:"\u0110\u0103ng k\xfd"}),Object(c.jsx)(z.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:h,onClose:function(){O(!1)},closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(c.jsx)(de.a,{in:h,children:Object(c.jsx)("div",{className:e.paper,children:Object(c.jsx)(ge,{})})})})]})]})})})};var we=function(){return Object(c.jsx)("div",{className:"main_page",children:w()?Object(c.jsx)(re,{}):Object(c.jsx)(Ne,{})})},ke=(n(504),n(297)),ye=n(293),_e=n.n(ye),Se=n(294),Ce=n.n(Se);var Ie=function(e){var t=Object(a.useState)([]),n=Object(b.a)(t,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){if(e.props){console.log(e.props);var t=e.props[0],n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){i((function(e){return[].concat(Object(L.a)(e),[n.result])}))}}}),[e.props]),Object(c.jsx)("div",{children:"undefined"!==typeof s?Object.values(s).map((function(e,t){return Object(c.jsx)("div",{children:"value"})})):{}})};var Le=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=(t[0],t[1]),s=Object(a.useState)(""),i=Object(b.a)(s,2),r=i[0],l=i[1],j=Object(a.useState)(!1),d=Object(b.a)(j,2),u=d[0],h=d[1];return Object(c.jsxs)("div",{className:"post_data",children:[Object(c.jsx)("button",{type:"button",onClick:function(){h(!0)},children:Object(c.jsx)(_e.a,{})}),Object(c.jsx)(z.a,{className:"modal_post_blog","aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:u,onClose:function(){h(!1)},closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(c.jsx)(de.a,{in:u,children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"form_post_blog",children:[Object(c.jsx)("h4",{children:"Dang tai noi dung cua ban"}),Object(c.jsx)("div",{suppressContentEditableWarning:!0,id:"type_text_div",contentEditable:"true",onChange:function(e){return n(e.target.value)},children:"Ban hay nhap vao day"}),Object(c.jsx)(ke.a,{onDrop:function(e){return function(e){l(e)}(e)},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(c.jsx)("section",{children:Object(c.jsxs)("div",Object(o.a)(Object(o.a)({className:"drag_file"},t()),{},{children:[Object(c.jsx)("input",Object(o.a)({},n())),Object(c.jsx)("div",{className:"icon",children:Object(c.jsx)(Ce.a,{})})]}))})}}),Object(c.jsx)("div",{children:Object(c.jsx)(Ie,{props:r})}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]})})})]})};var Ee=function(){var e=Object(a.useState)(!0),t=Object(b.a)(e,2),n=t[0],s=t[1];return Object(c.jsxs)("div",{className:"news_page",children:[Object(c.jsx)("header",{children:Object(c.jsx)("div",{className:"navbar_auth",children:Object(c.jsx)("p",{children:" Recal "})})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"navbar_right",style:!0===n?{width:"15%"}:{overflowY:"hidden",width:"0px"},children:[Object(c.jsx)("div",{onClick:function(e){s(!n)},id:"triangle-right",style:!0===n?{left:"185px"}:{left:"0",borderLeft:"20px solid yellow",borderRight:"0"}}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)($.a,{}),Object(c.jsx)(l.b,{to:"/",children:"Tr\xf2 chuy\u1ec7n"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(te.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"Trang ch\u1ee7"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/friend",children:"B\u1ea1n b\xe8"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"C\xe0i \u0111\u1eb7t"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"H\u1ed7 tr\u1ee3"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(l.b,{to:"/news",children:"\u0110i\u1ec1u kho\u1ea3n "})]})]})]}),Object(c.jsx)("div",{className:"main_news",children:Object(c.jsx)(Le,{})})]})]})};var Pe=function(){var e=Object(j.g)();return Object(c.jsx)("div",{className:"block_page",children:Object(c.jsxs)("div",{className:"paper",children:[Object(c.jsx)("div",{className:"header"}),Object(c.jsx)("div",{className:"body",children:Object(c.jsxs)("p",{children:[" B\u1ea1n \u0111\xe3 b\u1ecb kh\xf3a t\xe0i kho\u1ea3n trong v\xf2ng 30 ng\xe0y do nh\u1eefng h\xe0nh vi b\u1ea1n \u0111\xe3 ph\u1ea1m ph\u1ea3i",Object(c.jsx)("br",{}),"H\xe3y x\xe2y d\u1ef1ng 1 c\u1ed9ng \u0111\u1ed3ng th\u1ef1c s\u1ef1 l\xe0nh m\u1ea1nh xin c\u1ea3m \u01a1n"]})}),Object(c.jsx)("div",{className:"end",children:Object(c.jsx)("button",{onClick:function(){e.push("/"),N()},children:"X\xe1c nh\u1eadn"})})]})})};var Te=function(){return Object(c.jsx)(l.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(we,{})}),Object(c.jsx)(j.b,{path:"/users/active/:token",exact:!0,render:function(e){return Object(c.jsx)(k,Object(o.a)({},e))}}),Object(c.jsx)(j.b,{path:"/users/forget",exact:!0,render:function(e){return Object(c.jsx)(S,Object(o.a)({},e))}}),Object(c.jsx)(j.b,{path:"/users/password/forget/:token",exact:!0,render:function(e){return Object(c.jsx)(I,Object(o.a)({},e))}}),Object(c.jsx)(j.b,{path:"/chat",component:V}),Object(c.jsx)(j.b,{path:"/news",component:Ee}),Object(c.jsx)(j.b,{path:"/report",component:Pe})]})})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,552)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},Fe=n(110),Re=new Fe.ApolloClient({cache:new Fe.InMemoryCache,link:new Fe.HttpLink({uri:"http://localhost:2704"})});r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Fe.ApolloProvider,{client:Re,children:Object(c.jsx)(Te,{})})}),document.getElementById("root")),Be()}},[[510,1,2]]]);
//# sourceMappingURL=main.4e18e23c.chunk.js.map