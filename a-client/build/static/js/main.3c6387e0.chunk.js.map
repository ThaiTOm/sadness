{"version":3,"sources":["algorithm/algorithm.js","../node_modules/peerjs/dist sync","helpers/auth.js","component/loginComponent/activate.js","component/loginComponent/forget.js","component/loginComponent/changePassword.js","socket.js","helpers/emoji.js","userContext.js","component/chatComponent/miniChatCom/contactContain.js","component/chatComponent/renderChat.js","helpers/message.js","component/chatComponent/chat.js","helpers/audio.js","component/chatComponent/miniChatCom/simpleMenu.js","component/chatComponent/miniChatCom/chatCouple.js","component/chatComponent/miniChatCom/chatGroup.js","component/chatComponent/sendContact.js","helpers/news.js","component/chatComponent/main_page.js","component/loginComponent/LoginForm.js","component/loginComponent/RegisterForm.js","component/loginComponent/PageNotAuth.js","component/HomePage.js","helpers/requireLogin.js","helpers/postBlog.js","helpers/SkeletonShape.js","helpers/Skeleton.js","helpers/seeLike.js","helpers/likeComment.js","helpers/shareBlog.js","component/newsComponents/viewBlog/viewBlog.js","component/newsComponents/newsMain.js","component/main.block.js","helpers/comment.js","component/newsComponents/viewBlog/viewOneBlog.js","component/anotherPage/policy.js","component/anotherPage/suggestPage.js","App.js","reportWebVitals.js","index.js"],"names":["exports","cutSpaceInString","a","i","ans","split","length","splice","join","toLowerCase","replaceTelex","str","replace","webpackEmptyContext","req","e","Error","code","keys","resolve","module","id","getCookie","key","window","cookie","get","authenicate","res","next","userName","value","data","user","name","token","set","expires","localStorage","setItem","JSON","stringify","setLocalStorage","signOut","remove","removeItem","removeLocalStorage","isAuth","getItem","parse","encryptTo","text","CryptoJS","AES","encrypt","toString","decryptWithAES","ciphertext","originalText","bytes","decrypt","enc","Utf8","error","ActivatePage","props","useState","formData","setFormData","useEffect","match","params","jwt","decode","to","className","onSubmit","preventDefault","axios","post","then","toast","success","message","catch","err","type","style","backgroundColor","Forget","email","put","response","TextField","onChange","target","label","ChangePassword","password1","password2","handleChange","Paper","elevation","newPassword","passwordLink","console","log","placeholder","socketApp","socket","io","withCredentials","getSocket","emoji","Notifications","createContext","MessageList","ContactContain","onClick","users","idRoom","nread","read","setRead","active","setActive","setValue","count","setCount","anchorEl","setAnchorEl","onl","setOnl","handleClose","sliceMess","seen","mess","slice","validateImage","emit","userId","classN","classNames","Button","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","alt","src","fontWeight","fontSize","dangerouslySetInnerHTML","__html","RenderChat","msg","setMsg","load","setLoad","start","end","setEnd","render","setRender","myRef","useRef","once","image","img","msgs","executeScroll","func","setTimeout","map","item","imgUrl","messageLiImageRender","messageLiRender","ref","htmlFor","li","one","two","current","scrollIntoView","Spinning","FormSend","fileRef","setMessage","room","file","files","reader","FileReader","readAsDataURL","onloadend","result","handleFileUpload","IconButton","click","emo","emojiSubmit","MessageContainer","setRoom","listMessage","useContext","setOpen","height","display","val","hanldeSetRoom","Chat","ipOfUser","len","SetLen","waitG","setWaitG","setidRoom","wait","setWait","finish","setFinish","source","CancelToken","fetchData","cancel","on","roomId","btnClassFind","callback","width","viewBox","d","r","cy","cx","createEmptyAudioTrack","ctx","AudioContext","oscillator","createOscillator","dst","connect","createMediaStreamDestination","track","stream","getAudioTracks","Object","assign","enabled","SimpleMenu","React","handleCloseBlock","Modal","aria-labelledby","aria-describedby","idSend","location","reload","ChatCouple","peerJS","audio","setAudio","mic","setMic","volumn","setVolumn","setUser","talk","setTalk","accor","setAccor","handleSetVolumn","seleted","writeable","muted","old","createNullStream","audioStream","audioTrack","streamNull","MediaStream","srcObject","playsInline","autoPlay","createCall","call","userVideoStream","speechEvents","hark","plus","peer","destroyed","answer","g","navigator","mediaDevices","getUserMedia","video","maxHeight","userMic","connections","peerConnection","getSenders","replaceTrack","handleSetMic","border","ChatGroup","oldPeer","setOldPeer","arr","obj","push","handleSetMicOther","idMuted","sender","returnAudio","handleSetVolumnOther","SendContact","setPeer","destroy","Peer","host","port","path","ImageRender","cb","idBlog","position","HeaderPage","href","openNoti","setOpenNoti","valueSearch","setValueSearch","number","NavbarRight","setFile","setText","suppressContentEditableWarning","contentEditable","onInput","innerText","marginTop","onDrop","acceptedFiles","dragFile","getRootProps","getInputProps","values","index","handleDeleteImamge","Main_page","setName","useStyles","makeStyles","theme","floatingLabelFocusStyle","color","LoginForm","classes","history","useHistory","password","blockN","variant","InputLabelProps","autoComplete","clientId","buttonText","onSuccess","tokenId","idToken","cookiePolicy","appId","fields","userID","accessToken","cssClass","icon","require","config","RegisterForm","responseGoogle","onFailure","modal","alignItems","justifyContent","paper","padding","spacing","PageNotAuth","openSignIn","setOpenSignIn","openSignUp","setOpenSignUp","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","HomePage","RequireLogin","Index","login","setLogin","handleChangeText","handleCloseEmo","onKeyPress","SkeletonShare","Skeleton","SkeletonShape","SeeLike","likes","like","setLike","isLiked","setIsLiked","handleLike","defaultChecked","LikeComment","idUser","idComment","ShareBlog","data-href","data-layout","data-size","rel","ViewBlog","setStart","blog","setBlog","hasmore","setHasmore","setBlogRes","handleError","undefined","CommentRender","comment","dataLength","hasMore","loader","NewsMain","unshift","Main_block","Comment","setComment","buttonFind","setButtonfind","loadMoreButton","idRecieve","idSent","vari","ViewOneBlog","setData","pathname","Slideshow","indicators","scale","autoplay","time","Policy","SuggestPage","_id","marginBottom","App","setListMessage","notifications","useMemo","messageList","fnc","forLoop","info","Provider","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","onBeforeunload","document","getElementById"],"mappings":"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","file":"static/js/main.3c6387e0.chunk.js","sourcesContent":["exports.cutSpaceInString = (a) => {\n    let i = 0;\n    let ans = a.split(\"\");\n    while (i < ans.length) {\n        if (ans[i] === \" \") {\n            ans.splice(i, 1)\n            i -= 1\n        }\n        i += 1\n    }\n    return ans.join(\"\").toLowerCase();\n}\nexports.replaceTelex = (str) => {\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/đ/g, \"d\");\n    str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\n    str = str.replace(/Đ/g, \"D\");\n    return str;\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 481;","import cookie from \"js-cookie\";\nimport { replaceTelex } from \"../algorithm/algorithm\";\nimport CryptoJS from 'crypto-js';\n\n//Set cookie\nexport const setCookie = (key, value) => {\n    if (window !== \"undefined\") {\n        cookie.set(key, value, {\n            expires: 7\n        })\n    }\n}\nexport const removeCookie = key => {\n    if (window !== \"undefined\") {\n        cookie.remove(key, {\n            expires: 1\n        })\n    }\n}\nexport const getCookie = key => {\n    if (window !== \"undefined\") {\n        return cookie.get(key)\n    }\n}\nexport const setLocalStorage = (key, value) => {\n    if (window !== \"undefined\") {\n        localStorage.setItem(key, JSON.stringify(value))\n    }\n}\nexport const removeLocalStorage = key => {\n    if (window !== \"undefined\") {\n        localStorage.removeItem(key)\n    }\n}\n\n// Auth user after login\nexport const authenicate = (res, next) => {\n    let userName;\n    if (res.data.user.name) {\n        userName = replaceTelex(res.data.user.name)\n    } else {\n        userName = replaceTelex(res.data.user)\n    }\n    setCookie(\"token\", res.data.token);\n    setLocalStorage(\"user\", userName);\n}\n\n// Sign out\nexport const signOut = next => {\n    removeCookie(\"token\");\n    removeLocalStorage(\"user\");\n}\n\nexport const isAuth = () => {\n    if (window !== \"undefined\") {\n        const cookieChecked = getCookie(\"token\")\n        if (cookieChecked) {\n            if (localStorage.getItem(\"user\")) {\n                return JSON.parse(localStorage.getItem(\"user\"))\n            } else {\n                return false\n            }\n        }\n    }\n}\nexport const updateUser = (res, next) => {\n    if (window !== \"undefined\") {\n        let auth = JSON.parse(localStorage.getItem(\"user\"))\n        auth = res.data\n        localStorage.setItem(\"user\", JSON.stringify(auth))\n    }\n    next()\n}\n//  \nexport const encryptTo = text => {\n    const passphrase = '123nguyenduythaise1';\n    return CryptoJS.AES.encrypt(text, passphrase).toString();\n}\nexport const decryptWithAES = ciphertext => {\n    const passphrase = '123nguyenduythaise1';\n    const bytes = CryptoJS.AES.decrypt(ciphertext, passphrase);\n    let originalText\n    //if original text is defined that assign it\n    try {\n        originalText = bytes.toString(CryptoJS.enc.Utf8);\n    } catch (error) {\n        originalText = \"\"\n    }\n    return originalText;\n};","import React, { useState, useEffect } from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { isAuth, authenicate } from \"../../helpers/auth\";\n\nfunction ActivatePage(props) {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    token: \"\",\n  });\n  useEffect(() => {\n    let token = props.match.params.token;\n    let name = jwt.decode(token);\n    if (token) {\n      setFormData({ ...formData, name, token });\n    }\n  }, []);\n  const { token } = formData;\n  const hanldeSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"http://localhost:2704/api/activision\", {\n        token,\n      })\n      .then((res) => {\n        toast.success(res.data.message);\n        authenicate(res);\n      })\n      .catch((err) => {\n        toast.error(\"Something went wrong please try again\");\n      });\n  };\n  return (\n    <>\n      {isAuth() ? <Redirect to=\"/\" /> : null}\n      <ToastContainer />\n      <form className=\"active_page\" onSubmit={hanldeSubmit}>\n        <p>Active page</p>\n        <button\n          type=\"submit\"\n          style={{ backgroundColor: \"rgba(46, 229, 156, 0.788)\" }}\n          className=\"facebook_login\"\n        >\n          Xác nhận\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default ActivatePage;\n","import React, { useState } from 'react'\nimport \"../style/homepage.css\"\nimport TextField from '@material-ui/core/TextField';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport axios from \"axios\";\n\n\nfunction Forget() {\n    const [formData, setFormData] = useState({\n        email: \"\"\n    })\n    const { email } = formData;\n    const handleChange = text => e => {\n        setFormData({ ...formData, [text]: e.target.value })\n    }\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (email) {\n            axios.put(`http://localhost:2704/api/password/forget`, {\n                email\n            }).then(res => {\n                setFormData({\n                    ...formData,\n                    email: \"\"\n                })\n                toast.success(res.data.message)\n            }).catch(err => {\n                toast.error(err.response.data.error)\n            })\n        }\n        else {\n            toast.error(\"Please fill all text field\")\n        }\n    }\n    return (\n        <div className=\"forget_container\">\n            <ToastContainer />\n            <form onSubmit={handleSubmit}>\n                <p>Quên mật khẩu</p>\n                <TextField id=\"standard-basic\" onChange={handleChange(\"email\")} label=\"Email\" />\n                <div className=\"button-sign\">\n                    <button className=\"treat-button\" id=\"forget_button\" type=\"submit\"> Submit </button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Forget\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Paper from '@material-ui/core/Paper';\nimport { Link } from 'react-router-dom';\n\nfunction ChangePassword({ match }) {\n    const [formData, setFormData] = useState({\n        password1: '',\n        password2: \"\",\n        token: \"\"\n    });\n    const { password1, password2, token } = formData;\n    useEffect(() => {\n        let token = match.params.token;\n        if (token) {\n            setFormData({ ...formData, token });\n        }\n    }, [token])\n    const handleChange = text => e => {\n        setFormData({ ...formData, [text]: e.target.value })\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (password1 === password2 && password1) {\n            axios.put(\"http://localhost:2704/api/change/password\", {\n                newPassword: password1,\n                passwordLink: token\n            }).then(res => {\n                setFormData({ password1: \"\", password2: \"\" });\n                toast.success(res.data.message);\n            }).catch(err => {\n                console.log(err)\n                toast.error(err.response.data.error)\n            })\n        } else {\n            toast.error(\"Password does not match\")\n        }\n    }\n    return (\n        <div className=\"forget_password_page\">\n            <ToastContainer />\n            <Paper elevation={3} >\n                <h6>Thay đổi mật khẩu của bạn </h6>\n                <form onSubmit={handleSubmit} className=\"form__group field\">\n                    <div className=\"changePassword_input_div\">\n                        <input\n                            value={password1}\n                            onChange={handleChange(\"password1\")}\n                            type=\"password\"\n                            className=\"form__field\"\n                            placeholder=\"Mật khẩu mới\"\n                            name=\"name\" />\n                        <label className=\"form__label\">Mật khẩu mới</label>\n                    </div>\n                    <div>\n                        <input\n                            value={password2}\n                            onChange={handleChange(\"password2\")}\n                            type=\"password\"\n                            className=\"form__field\"\n                            placeholder=\"Nhập lại\"\n                            name=\"password\" />\n                        <label className=\"form__label\">Nhập lại</label>\n                    </div>\n                    <div className=\"button-sign\">\n                        <button id=\"button_change_password\" className=\"treat-button\" type=\"submit\">Thay đổi</button>\n                    </div>\n                    <Link className=\"href_link\" to=\"/\">Quay trở lại trang chủ</Link>\n                </form>\n\n            </Paper>\n        </div >\n    )\n}\n\nexport default ChangePassword\n","import io from \"socket.io-client\";\nvar socketApp = (function () {\n    var socket = io(\"http://localhost:2704/\", {\n        withCredentials: true,\n    })\n\n    return {\n        getSocket: function () { return socket; }\n    }\n})();\nexport default socketApp","export const emoji = [\n    \"9757\", \"9800\", \"9994\", \"9995\", \"9996\", \"129325\", \"129326\", \"129327\", \"129324\", \"129323\", \"129322\", \"129321\", \"129320\",\n    \"129319\", \"129318\", \"129317\", \"129316\", \"129315\", \"129314\", \"129313\", \"129312\", \"129311\", \"129310\", \"129309\", \"129308\",\n    \"129307\", \"129306\", \"129305\", \"129304\", \"129303\", \"129301\", \"129300\", \"129299\", \"129298\", \"129297\", \"129296\", \"128591\",\n    \"128590\", \"128589\", \"128588\", \"128587\", \"128586\", \"128585\", \"128584\", \"128579\", \"128582\", \"128578\", \"128577\", \"128576\",\n    \"128575\", \"128574\", \"128573\", \"128572\", \"128571\", \"128570\", \"128569\", \"128568\", \"128567\", \"128566\", \"128565\", \"128564\",\n    \"128563\", \"128562\", \"128561\", \"128560\", \"128559\", \"128558\", \"128557\", \"128583\", \"128581\", \"128580\", \"128557\", \"128556\",\n    \"128553\", \"128552\", \"128551\", \"128550\", \"128549\", \"128548\", \"128547\", \"128546\", \"128545\", \"128544\", \"128543\", \"128542\",\n    \"128541\", \"128540\", \"128539\", \"128538\", \"128537\", \"128536\", \"128535\", \"128534\", \"128533\", \"128532\", \"128531\", \"128530\",\n    \"128529\", \"128528\", \"128527\", \"128526\", \"128525\", \"128524\", \"128523\", \"128522\", \"128521\", \"128520\", \"128519\", \"128518\",\n    \"128517\", \"128516\", \"128515\", \"128514\", \"128513\", \"128512\", \"128406\", \"128405\", \"128400\", \"128161\", \"128159\", \"128175\",\n    \"128171\", \"128170\", \"128169\", \"128167\", \"128166\", \"128165\", \"128164\", \"128163\", \"128162\", \"128158\", \"128157\", \"128152\",\n    \"128151\", \"128150\", \"128150\", \"128149\", \"128148\", \"128147\", \"128142\", \"128141\", \"128139\", \"128127\", \"128128\", \"128080\",\n    \"128079\", \"128078\", \"128077\", \"128076\", \"128075\", \"128074\", \"128073\", \"128072\", \"128071\", \"128070\", \"128069\", \"128068\",\n    \"128067\", \"128066\", \"128061\"\n]","import { createContext } from \"react\";\n\nexport const Notifications = createContext([]);\nexport const MessageList = createContext(null);","import React, { useEffect, useState } from 'react'\nimport { decryptWithAES, getCookie } from '../../../helpers/auth';\nimport classNames from \"classnames\";\nimport socketApp from '../../../socket';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nvar socket = socketApp.getSocket();\n\n// This function is use for render list of contact\n\nfunction ContactContain({ onClick, message, users, idRoom, target, nread }) {\n    // const [room, setRoom] = useState(idRoom)\n    // msg == new message send by real time, message == old message \n    const [read, setRead] = useState(false);\n    const [active, setActive] = useState(false);\n    const [value, setValue] = useState(\"\");\n    const [count, setCount] = useState(nread)\n    const [anchorEl, setAnchorEl] = useState(null);\n    // the user in the room is online or not\n    const [onl, setOnl] = useState(null)\n    // lu last user, clu contain last user and message\n    const id = getCookie().token;\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    let sliceMess = (a, user, value) => {\n        if (value.seen === \"false\") {\n            setRead(true)\n        }\n        if (a.length > 0) {\n            let mess = a.length > 10 ? a.slice(0, 10) + \".....\" : a\n            setValue(user + mess)\n        }\n        else {\n            setValue(user + \"đã gửi hình ảnh\")\n        }\n    }\n\n    const validateImage = (value) => {\n        let a = value.data[0] ? decryptWithAES(value.data[0]) : value.data.data[0] ? decryptWithAES(value.data.data[0]) : \"đã gửi hình ảnh\"\n        if (value.id === id) sliceMess(a, \"Bạn: \", value)\n        else sliceMess(a, \"\", value)\n    }\n    // if position change call this\n    // else validate this\n    useEffect(() => {\n        message && message.idRoom === idRoom && validateImage(message)\n    }, [idRoom, message])\n\n    useEffect(() => {\n        socket.emit(\"joinChatBack\", { idRoom })\n    }, [])\n\n    useEffect(() => {\n        if (target === idRoom) {\n            setActive(true)\n            setRead(false)\n            setCount(0)\n            socket.emit(\"seenMessage\", { id: idRoom, userId: id })\n        }\n        else {\n            setActive(false)\n        }\n    }, [target, idRoom])\n    useEffect(() => {\n        for (let value in users) {\n            if (value !== id && users[value] === \"online\") {\n                setOnl(true)\n                break;\n            }\n        }\n    }, [])\n\n    //if last people send is who then assign that\n    var classN = classNames({\n        \"contact_container\": true,\n        \"active_contact\": active,\n        \"not_read_contact\": read\n    })\n    return (\n        <div className={classN} >\n            <div className=\"contact_contain_text\">\n                <div className=\"setting_chat\">\n                    <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                        ...\n                    </Button>\n                    <Menu\n                        className=\"setting_chat_modal\"\n                        id=\"simple-menu\"\n                        anchorEl={anchorEl}\n                        keepMounted\n                        open={Boolean(anchorEl)}\n                        onClose={handleClose}\n                    >\n                        <MenuItem onClick={handleClose}>\n                            <img alt=\"out_image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAoklEQVRIie2VQQ6CMBBFn56GhexceQKI9zacgxKNrPAEdVPATKShzLBA+clsOvn/tzPTFnYk4go0gF8YDihjBk4h3kf9KXgQBj7xxFMYdI9GgpPQGlTAK4WQUutb4JyAp8iZGHRB/JuJiYEHWiAP3Ay4LzG4xAgCZ2kwp8lylFXQlujBlpq8+ph6xosm1wf83lvUGGi6WLJE9yfUQGGwyX/CG5rJq/ywf6OxAAAAAElFTkSuQmCC\" />\n                            Thoát cuộc trò chuyện\n                        </MenuItem>\n                        <MenuItem onClick={handleClose}>\n                            <img alt=\"delete_icon\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAkklEQVRIie2UUQrDIBBEX3OafNhD1Fwsn72fP71Biz2E+dnARoUWbWqLGViQUWcWhxV6wQyEqK7vXDxluFDZzEZzqBTrALkMoDyHRG/3DH7C4AZcgIfinsAEuFJjPVBWOAN4KSOcjc4WGWhBE639JwxWk7PaH4F75lyCZpP81SfaPWQnQrpbL5x7ZXB8Fe0N/h8LhlVEflv4ChYAAAAASUVORK5CYII=\" />\n                            Xóa cuộc trò chuyện\n                        </MenuItem>\n                        <MenuItem onClick={handleClose}>\n                            <img alt=\"seen_icon\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA1ElEQVRIie3VOwrCQBRA0SvuwJW4AkvRUhHtVCzE1v8fwc4fbsSFuAIXYqNoYiycwCNFJo4TbHLbvJw3DIFA0h/LAal0THgbOAGZOPAW4AIeMLGNNwU+tY03BD6zjdeAp8LntvGqwBe28YrAl2GDWQNcnjwUXwMOUP8CLwMPha90w2M16PD5EnSVBL6JeqKResHVLCkCdzW7jYr7DTVLCgLffYv7DRTwAjoB/Kae7U1xv35gSV7gh19xP3ldxneuq6tgDziaImH/gzNwBS5Az3RBkrY3LltA/9XJVDYAAAAASUVORK5CYII=\" />\n                            Đánh dấu là đã đọc\n                        </MenuItem>\n                    </Menu>\n                </div>\n                <p onClick={() => onClick(idRoom, users, id)}>\n                    {value.slice(0, 4) === \"Bạn:\" ? <span className=\"content\">\n                        <span style={{ fontWeight: \"800\", fontSize: \"18px\" }}>{value.slice(0, 4)}</span>\n                        <span dangerouslySetInnerHTML={{ __html: value.slice(4, value.length - 1) }} /></span>\n                        : <span dangerouslySetInnerHTML={{ __html: value }} />}\n                    {count > 0 ? <span className=\"count\"> {count}</span> : \"\"}\n                </p>\n                <img onClick={() => onClick(idRoom, users, id)} alt=\"avatar\" src=\"./demo.jpeg\" />\n                {onl === true ? <span className=\"dot\"></span> : console.log()}\n            </div>\n        </div >\n    )\n}\n\nexport default ContactContain\n","import React, { useState, useEffect, useRef } from 'react'\nimport { FormSend, messageLiImageRender, messageLiRender } from '../../helpers/message';\nimport { decryptWithAES } from '../../helpers/auth';\nimport axios from 'axios';\nimport socketApp from '../../socket';\nimport { executeScroll } from \"../../helpers/message\"\n\n\nfunction RenderChat(props) {\n    let socket = socketApp.getSocket();\n    let { id, userId } = props\n    const [msg, setMsg] = useState([]);\n    const [load, setLoad] = useState(false);\n    const [start, setStart] = useState(0);\n    const [end, setEnd] = useState(30);\n    const [render, setRender] = useState(null)\n    const myRef = useRef(null);\n\n    const handleClickLoad = () => {\n        setLoad(true);\n        setTimeout(() => {\n            setEnd(end + 10)\n        }, 1000)\n    }\n    useEffect(() => {\n        axios.get(\"http://localhost:2704/api/msgC/sendContact?id=\" + id + \"&start=\" + start + \"&end=\" + end)\n            .then(res => {\n                setMsg(res.data.data)\n                setLoad(false)\n            }).catch(err => {\n                return <div>Oops, bạn hãy thử lại sau</div>\n            })\n    }, [id, start, end])\n    let func = (msg) => {\n        if (msg.image) setMsg(img => [...img, msg.image])\n        else setMsg(msgs => [...msgs, msg.data])\n        executeScroll(myRef)\n    }\n\n    useEffect(() => {\n        let fnc = (value) => {\n            socket.once(\"message\", msg => {\n                setRender(msg)\n                return msg.idRoom === value && func(msg)\n            })\n        }\n        fnc(id)\n    }, [id, socket, render])\n    return (\n        <>\n            <ul>\n                <div className=\"button_load_more\">\n                    {load === false ? <button onClick={handleClickLoad}>Tải thêm</button>\n                        : <div className=\"loaderBalls\">\n                            <div className=\"yellow\"></div>\n                            <div className=\"red\"></div>\n                            <div className=\"blue\"></div>\n                        </div>\n                    }\n                </div>\n                {\n                    msg.length > 0 ?\n                        msg.map(function (item, i) {\n                            console.log(item)\n                            if (item.image) {\n                                let imgUrl = item.image\n                                if (item.id === userId) return messageLiImageRender(\"mIOwn\", i, imgUrl, myRef)\n                                else return messageLiImageRender(\"mIOther\", i, imgUrl, myRef)\n                            } else {\n                                let msgs = item.data[0] ? decryptWithAES(item.data[0]) : \"\"\n                                if (item.id === userId) return messageLiRender(\"messageLiOwn\", \"own_message_same_div messageLiOwnm60\", \"own_message_same_div messageLiOwnl60\", msgs, i, myRef)\n                                else return messageLiRender(\"messageLiOther\", \"other_message_same_div messageLiOtherm60\", \"other_message_same_div messageLiOtherl60\", msgs, i, myRef)\n                            }\n                        }) : console.log()\n                }\n            </ul>\n            <FormSend id={id} userId={userId} />\n        </>\n    )\n}\n\nexport default RenderChat\n","import { useRef, useState, useContext } from \"react\"\nimport socketApp from \"../socket\";\nimport IconButton from '@material-ui/core/IconButton';\nimport { encryptTo, getCookie } from \"./auth\";\nimport Menu from '@material-ui/core/Menu';\nimport \"../component/style/chat.css\"\nimport { emoji } from \"./emoji\";\nimport { MessageList } from \"../userContext\";\nimport ContactContain from \"../component/chatComponent/miniChatCom/contactContain\";\nimport RenderChat from \"../component/chatComponent/renderChat\";\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst userId = getCookie().token;\nlet socket = socketApp.getSocket();\n\nexport const handleFileUpload = (e, userId, id) => {\n    let file = e.target.files;\n    let reader = new FileReader()\n    for (let i = 0; i < file.length; i++) {\n        reader.readAsDataURL(file[i])\n        reader.onloadend = () => {\n            socket.emit(\"sendImageOff\", { room: id, image: reader.result, userId })\n        }\n    }\n}\nexport const messageLiImageRender = (value, i, imgUrl, myRef) => {\n    return (\n        <li\n            ref={myRef}\n            key={i}\n            className={\"messageImage \" + value}>\n            <input type=\"checkbox\" id={i}></input>\n            <label htmlFor={i}>\n                <img className={value} alt=\"\" src={imgUrl}></img>\n            </label>\n        </li>\n    )\n}\nexport const messageLiRender = (li, one, two, msgs, i, myRef) => {\n    return (\n        <li className={li}\n            key={i}\n            ref={myRef}\n        >\n            { msgs.length > 60 ?\n                <div className={one} dangerouslySetInnerHTML={{ __html: msgs }}>\n                </div> :\n                <div className={two} dangerouslySetInnerHTML={{ __html: msgs }}>\n                </div>\n            }\n        </li>\n    )\n}\nexport const executeScroll = (myRef) => {\n    try {\n        myRef.current.scrollIntoView()\n    } catch (error) {\n    }\n}\nexport const Spinning = () => {\n    return (\n        <div className=\"spinner\"></div>\n    )\n}\nexport const FormSend = (props) => {\n    let { id, userId } = props\n    const fileRef = useRef(null);\n    const [message, setMessage] = useState(\"\")\n    const [anchorEl, setAnchorEl] = useState(null);\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        setMessage(\"\")\n        if (message) {\n            let value = encryptTo(message)\n            socket.emit('sendMessageOff', { room: id, message: value, userId });\n        }\n    }\n    const emojiSubmit = (e, emo) => {\n        e.preventDefault()\n        let value = encryptTo(\"&#\" + emo + \";\")\n        socket.emit('sendMessageOff', { room: id, message: value, userId });\n        handleClose()\n    }\n    const useRefTrigger = () => {\n        fileRef.current.click()\n    }\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <form className=\"formMessage\"\n            onSubmit={handleSubmit}>\n            <div className=\"formMessage_div\">\n                <>\n                    <input\n                        value={message}\n                        className=\"input\"\n                        onChange={(e) => setMessage(e.target.value)}\n                        type=\"text\"\n                        placeholder=\"Enter text\" >\n                    </input>\n                    <div className=\"extension_input\">\n                        <input\n                            id=\"icon_button_file\"\n                            type=\"file\"\n                            onChange={(e) => handleFileUpload(e, userId, id)}\n                            ref={fileRef}\n                        />\n                        <div className=\"inner_title\">\n                            <IconButton className=\"image_upload_message_icon\" onClick={useRefTrigger}>\n                                <img alt=\"image_upload_icon\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAADRUlEQVRIieWVz28bRRTHP7M7dvCPNg0kEWDTQ+khJ6SqF/4CqnIgElIlzsgK4sQBFSFOuXFAnHKJUg5ISOWHIqQQEaFarUoVVaitgdRBdROJipA6tfMDJ66drO2Z10NIm3XsOHZygq+02pk3b95n3uzbGfi/STUbSCQSrzmOMwQUlVJ3RWQWyIyNjVWPFHz+/IU+48gFgZOA7o6G3leKcJ2/sVbWrMiyMXZ5+y3LNWM29gRWbIniZnJy/EpT8Llzb7+kunRaKdUTCUeqIA4QaDMJASwoAZGaMZRK5QDCp8mp8U/qnTWA0e67IR048eEH7znRSLirTeDuJNzdhqvXp7l6ffrjRGJIKyU3YrHY1PDwsH0KViLxnp5uFY2EcSPHCL7Qh3KcDvlgvS22clnisZcRQVlrL2rtXMxms58BHwHsiR7s7UdpDY7T8eOEwujjJxqt6c2dhh+sFMp193h3IsfVjcwLjcGtgqmmf99Bld5pNFxWI0UDmng0RNVYHhTLWJG2qUqpp+ADZxzWLgoIug7a6Tjz9sFrXoWCVyW36VExFoCKNcyv5w8aohYMBjM7nQNvdc0KS+Utn+3aYoa59Tzdr4boDx9rFeL+yMiIt9NpmbEV29A+V8hx759HGGv5cSGNZ2qtQqV3d1qCLyd/4Ne5WZ+t4G2SXLzn7/+dqZ/aOXg6fYfbmbt8nZxkIZcFQET4aeEPKsb4fOfXc8ysLDaNtbui9wU/XMkxcSMJQMVUuTT5LYXHG9zM/clSeb3hnJ+X5smVix2ARRBr8aoVvpwap2KeXb0b5SJfXJvgdv6vplnt/t5ifTtSGh0d9U3cU9XV1Tzfz9wiX1j12V2t4cVepMXBse5tknr0gDM1X04Ztq/N5uBacYPBUwMMnhrYF7CvPEF4lrG1cr/epfO7rw2J0BwsIoe+AZqpVrPNwUqp9k/9A6pU8pqAHYy1jU+ow2inEMtiV+vHtovL8vvK6hq/zczS39d7JFBrLb/cSuG6TvX1MwMPr0z4xxXA2bNDgb5YYdwY+9aRUP+V6zocD3dd+u6br4bqxzRAKjVWJcXgG4PvvELN9HcKei6onw+FgqddR53WrorrgHvnZDz++WEW/9/REz15Yuu7CLn4AAAAAElFTkSuQmCC\" />\n                            </IconButton>\n                        </div>\n                        <IconButton aria-controls=\"simple_menu_emoji\" aria-haspopup=\"true\" onClick={handleClick}>\n                            <img alt=\"emoji_image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABmJLR0QA/wD/AP+gvaeTAAAC/klEQVRIie2SX2jVdRjGn+9vO5PTFuMcK9ESFHXIiiQmjUDCYDbXRX9uRjACwwuhP8JCuoiiIxRUohdBfxbDi9kIpIv+UyAhrjDoJGp6IVoMzTnz7HjmdP9+7/M+XvzOOW47u/Vuz9WX7/t+n8/L+3yBJS3pbilUDkeem2iNQpR2V9zxXdPpuU0/dU201kVMOzXW9XNm+HBHsTnFaH2lTnA6Jm6cO5a9nEPwhZDoziF8IikfAk4defbm9sr9j8+UNst1Jo5DPrbwKgA0ePSBpDxdeTPlGYczwcLFlieKxUOPF74cbP9/w6KQENDrAkkhNvVW7mVhL12B1FWa3gcAc6VIgJToum7UJF0g1eyOntjCiYNthfYayFPfNJ10qp8U3PX0953XN327rbSZVBcpOH3PC0czJQAwA8qm4y/+ns32HF/eCNo60gdIwUxNNsuDOSiaB0mm9rdIjZGCW9jtjvdIBad+e/5oZrDaRwcpkKq+7flzxb/Df93/Mqk/yrXWBzZeeawGsv2X5qI79pabXqKpk4RReiUgVB1tEQgA5BDcXANWrsUeHqmBAMD0rRv9pCZJpMpGQ93Hsn/P7SEBWwQCAIw1QiqpGxoXhYSGxl5S91AaJwW6tg60F7fMMzKBlhgtVExfa5YM4NRoDeTrJ8c30PB2kom/Q2KIVHDj531tSlUhQrIuW7Curap3+k53QQ5rSIWheRBBYTa2T0mlSY3Wh6l+M99nycQPByu8Xum12GEUjHfeHlh3aX3T8MiglOSACF/svrDy2jzIV+3FHU51lL/gh93HV0/tOHHfD6ROJuvx3GcthQeTTCrBe/P+tZeL+9eM3HJG5wF0l+1+jWLfU/GOAGBwSyljrn3JdBptXDbdBwABQTH93SREv3c2zH5UzmTGzEEqSMgASAMQgFNBeO3mmlWdb/y3eqqaMwD0tSm1TIVHYwA+U3dt19nsxbm7/rjl6iaR9TOhrvTmhRX/HHjoUjpEDSsrdU9ZPDEVxnIjqyZrfsKSlnRXdRsr+i4fv8vwiwAAAABJRU5ErkJggg==\" />\n                        </IconButton>\n                        <Menu\n                            id=\"simple_menu_emoji\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                        >\n                            {emoji.map(function (emo, i) {\n                                return (<span key={i} onClick={(e) => emojiSubmit(e, emo)} dangerouslySetInnerHTML={{ __html: \"&#\" + emo + \";\" }}></span>)\n                            })}\n                        </Menu>\n                    </div>\n                </>\n            </div>\n        </form>\n    )\n}\n\nexport const MessageContainer = () => {\n    const [room, setRoom] = useState(null)\n    const { listMessage } = useContext(MessageList)\n    const [open, setOpen] = useState(false)\n\n    const hanldeSetRoom = value => {\n        let id = value.split(\",\")\n        setRoom(id[0])\n    }\n\n    return (\n        <div className=\"accordion_div\" style={open === true ? { height: \"450px\" } : { height: \"initial\" }}>\n            <div className=\"accordion_header\">\n                {room ? <IconButton onClick={e => setRoom(null)}>\n                    <ArrowBackIosIcon />\n                </IconButton> : console.log()}\n                <div onClick={e => setOpen(!open)} className=\"accordion_message\">\n                    <IconButton>\n                        Message\n                        {open === false ?\n                            <span className=\"sympol\">\n                                <ExpandLessIcon />\n                            </span> :\n                            <span className=\"sympol\">\n                                <ExpandMoreIcon />\n                            </span>\n                        }\n\n                    </IconButton>\n                </div>\n            </div>\n            <div style={open === true ? { display: \"block\" } : { display: \"none\" }} className=\"accordion_data\">\n                {room ? <RenderChat id={room} userId={userId} /> : listMessage && listMessage.length > 0 ? listMessage.map((val, i) => <div key={i}>\n                    <ContactContain\n                        onClick={(value) => hanldeSetRoom(value)}\n                        message={val.data}\n                        users={val.user}\n                        idRoom={val.idRoom}\n                        target={room}\n                        nread={val.nread}\n                    />\n                </div>\n                ) : console.log()\n                }\n            </div>\n        </div >\n    )\n}","import React, { useEffect, useState, useRef } from 'react';\nimport classNames from 'classnames';\nimport { getCookie, decryptWithAES } from '../../helpers/auth';\nimport axios from \"axios\"\nimport socketApp from '../../socket';\nimport { messageLiRender, messageLiImageRender, executeScroll, Spinning, FormSend } from '../../helpers/message';\n\nfunction Chat() {\n    let socket = socketApp.getSocket();\n    const id = getCookie().token;\n    const ipOfUser = \"Dong nai\";\n    const [value, setValue] = useState([]);\n    // len is len of rooms the user had join\n    const [len, SetLen] = useState(0);\n\n    //This id room contain every id of the message that they have\n    // waitG = wait group\n    const [waitG, setWaitG] = useState(null);\n\n    const [idRoom, setidRoom] = useState(null);\n    const [wait, setWait] = useState(false);\n    const [finish, setFinish] = useState(false);\n    const myRef = useRef(null)\n\n    const HanldeClickFind = (e) => {\n        if (wait !== true) {\n            socket.emit(\"joinChat\", { id, len, ipOfUser }, (error) => {\n                if (error === \"error\") {\n                    setWait(true)\n                } else {\n                    console.log(error)\n                    setFinish(true)\n                    setidRoom(error)\n                }\n            })\n        } else {\n            setWait(false)\n            socket.emit(\"joinChat\", { id, len, ipOfUser }, (error) => {\n                if (error !== \"error\") {\n                    console.log(error)\n                    setFinish(true)\n                    setidRoom(error)\n                }\n            })\n        }\n    }\n    //Fetch data to recive the idRoom\n    useEffect(() => {\n        const source = axios.CancelToken.source()\n        const fetchData = async () => {\n            try {\n                await axios.post(\"http://localhost:2704/api/msgC/getIdRoom\", { id })\n                    .then(res => {\n                        SetLen(res.data.len)\n                    })\n            } catch (error) {\n            }\n        }\n        fetchData()\n        return () => {\n            source.cancel()\n        }\n    }, [id])\n    //load message\n    useEffect(() => {\n        socket.on(\"message\", msg => {\n            if (msg.roomId) {\n                // If we have a couple together than we start to chat\n                console.log(msg)\n                setWait(false)\n                setFinish(true)\n                setidRoom(msg.roomId)\n            }\n            if (msg.image && idRoom === msg.idRoom) {\n                // if message send is image\n                setValue(img => [...img, msg.image])\n            }\n            else if (msg.data && idRoom === msg.idRoom) {\n                setValue(msgs => [...msgs, msg.data])\n                executeScroll(myRef)\n            }\n        })\n    }, [socket, idRoom])\n    //defined button find partner classname\n    var btnClassFind = classNames({\n        \"onclic\": wait,\n    })\n    console.log(idRoom)\n    const changeStateWaitGroup = () => {\n        if (waitG === null) {\n            setWaitG(\"active\")\n            socket.emit(\"joinChatGroup\", { id, len, ipOfUser }, (callback) => {\n                if (callback !== \"error\") {\n                    setFinish(true)\n                    setidRoom(callback)\n                }\n            })\n        }\n        else {\n            setWaitG(null)\n        }\n    }\n    return (\n        <div className=\"message_container\">\n            <div className=\"container_button\" style={finish === true ? { display: \"none\" } : {}}>\n                <div className=\"part_1\">\n                    <button\n\n                        id=\"button_find_partner\"\n                        className={btnClassFind}\n                        onClick={HanldeClickFind}\n                    >\n                        {wait === true ? < Spinning /> : \"Tìm cặp\"}\n                    </button>\n                </div>\n                <div className=\"part_2\">\n                    <div className={\"chat_button_group \" + waitG}>\n                        <span id=\"group_icon\">\n                            Tham gia nhóm\n                        </span>\n                        <div onClick={changeStateWaitGroup} className=\"background\"></div>\n                        <svg className=\"chat-bubble\" width=\"100\" height=\"100\" viewBox=\"0 0 100 100\">\n                            <g className=\"bubble\">\n                                <path className=\"line line1\" d=\"M 30.7873,85.113394 30.7873,46.556405 C 30.7873,41.101961          36.826342,35.342 40.898074,35.342 H 59.113981 C 63.73287,35.342          69.29995,40.103201 69.29995,46.784744\" />\n                                <path className=\"line line2\" d=\"M 13.461999,65.039335 H 58.028684 C            63.483128,65.039335 69.243089,59.000293 69.243089,54.928561 V 45.605853 C            69.243089,40.986964 65.02087,35.419884 58.339327,35.419884\" />\n                            </g>\n                            <circle className=\"circle circle1\" r=\"1.9\" cy=\"50.7\" cx=\"42.5\" />\n                            <circle className=\"circle circle2\" cx=\"49.9\" cy=\"50.7\" r=\"1.9\" />\n                            <circle className=\"circle circle3\" r=\"1.9\" cy=\"50.7\" cx=\"57.3\" />\n                        </svg>\n                    </div>\n                </div>\n\n            </div>\n            <div className=\"message_container_div\" style={finish === false ? { display: \"none\" } : { display: \"block\" }}>\n                <ul>\n                    {\n                        value.length > 0 ?\n                            value.map(function (item, i) {\n                                if (item.image) {\n                                    let imgUrl = item.image\n                                    if (item.id === idRoom) return messageLiImageRender(\"mIOwn\", i, imgUrl, myRef)\n                                    else return messageLiImageRender(\"mIOther\", i, imgUrl, myRef)\n                                } else {\n                                    let msgs = item.data[0] ? decryptWithAES(item.data[0]) : \"\"\n                                    if (item.id === id) return messageLiRender(\"messageLiOwn\", \"own_message_same_div messageLiOwnm60\", \"own_message_same_div messageLiOwnl60\", msgs, i, myRef)\n                                    else return messageLiRender(\"messageLiOther\", \"other_message_same_div messageLiOtherm60\", \"other_message_same_div messageLiOtherl60\", msgs, i, myRef)\n                                }\n                            }) : console.log()\n                    }\n                </ul>\n                {idRoom ? <FormSend id={idRoom} userId={id} /> : console.log()}\n            </div>\n        </div >\n    )\n}\n\nexport default Chat\n","export const createEmptyAudioTrack = () => {\n    const ctx = new AudioContext();\n    const oscillator = ctx.createOscillator();\n    const dst = oscillator.connect(ctx.createMediaStreamDestination());\n    oscillator.start();\n    const track = dst.stream.getAudioTracks()[0];\n    return Object.assign(track, { enabled: false });\n};\n\nexport const createEmptyVideoTrack = ({ width, height }) => {\n    const canvas = Object.assign(document.createElement('canvas'), { width, height });\n    canvas.getContext('2d').fillRect(0, 0, width, height);\n\n    const stream = canvas.captureStream();\n    const track = stream.getVideoTracks()[0];\n\n    return Object.assign(track, { enabled: false });\n};","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Modal from '@material-ui/core/Modal';\nimport { signOut, getCookie } from '../../../helpers/auth';\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport ArrowBackIosOutlinedIcon from '@material-ui/icons/ArrowBackIosOutlined';\nimport BlockIcon from '@material-ui/icons/Block';\nimport ReportIcon from '@material-ui/icons/Report';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nexport default function SimpleMenu({ id, onClick }) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [open, setOpen] = React.useState(false);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleClickBlock = () => {\n        setOpen(true)\n    }\n    // handleAB = handle Agree block\n    const handleAB = () => {\n        const idSend = getCookie().token\n        axios.post(\"http://localhost:2704/api/msgC/blockUser\", { idSend, id })\n            .then(res => {\n                toast.success(\"Yêu cầu của bạn đã được thực hiện\")\n                setOpen(false)\n                setAnchorEl(null)\n            }).catch(err => {\n                console.log(err)\n            })\n    }\n    const handleCloseBlock = () => {\n        setOpen(false)\n    }\n    const handleLogOut = () => {\n        signOut();\n        window.location.reload(false);\n    }\n    return (\n        <div className=\"menuMessage\" >\n            <ToastContainer />\n            <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                &#9776;\n            </Button>\n            <Menu\n                id=\"menuContainerMessage\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <MenuItem onClick={handleClose}>\n                    <span\n                        className=\"simple_menu_span\"\n                        onClick={() => onClick(\"\")}\n                        to=\"/\"\n                    >\n                        <ArrowBackIosOutlinedIcon /> Quay về\n                    </span>\n                </MenuItem>\n                <MenuItem>\n                    <span\n                        className=\"simple_menu_span\"\n                        onClick={handleClickBlock}>\n                        <BlockIcon />    Chặn\n                    </span>\n                    <Modal\n                        open={open}\n                        aria-labelledby=\"simple-modal-title\"\n                        aria-describedby=\"simple-modal-description\" >\n                        <div className=\"contain_block\">\n                            <div className=\"head\">\n                                <button onClick={handleCloseBlock}>&#10005;</button>\n                            </div>\n                            <div className=\"middle\">\n                                <p>Bạn có chắc muốn chặn người này, nếu người này gây hại cho bạn bạn có thể báo cáo chúng tôi sẽ giúp bạn</p>\n                            </div>\n                            <div className=\"bottom\">\n                                <button onClick={handleAB}>Xác nhận</button>\n                                <button\n                                    onClick={handleCloseBlock}\n                                    className=\"cancel\">Hủy bỏ</button>\n                            </div>\n                        </div>\n                    </Modal>\n                </MenuItem>\n                <MenuItem >\n                    <span\n                        className=\"simple_menu_span\"\n                    >\n                        <ReportIcon />   Báo cáo\n                    </span>\n                </MenuItem>\n                <MenuItem onClick={handleLogOut}>\n                    <span className=\"simple_menu_span\">\n                        <ExitToAppIcon /> Đăng xuất\n                    </span>\n                </MenuItem>\n                {/* <MenuItem onClick={}>Logout</MenuItem> */}\n            </Menu>\n        </div>\n    );\n}","import React, { useState, useEffect } from 'react'\nimport { getCookie } from '../../../helpers/auth';\nimport IconButton from '@material-ui/core/IconButton';\nimport \"../../style/call.css\"\nimport VolumeMuteIcon from '@material-ui/icons/VolumeMute';\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\nimport { createEmptyAudioTrack } from '../../../helpers/audio';\nimport SimpleMenu from '../miniChatCom/simpleMenu';\nimport MicIcon from '@material-ui/icons/Mic';\nimport MicOffIcon from '@material-ui/icons/MicOff';\nimport hark from \"hark\"\nimport RenderChat from '../renderChat';\nimport socketApp from '../../../socket';\n\n// This function is use for send and view message\nfunction ChatCouple(props) {\n    let socket = socketApp.getSocket();\n    const userId = getCookie().token;\n    const { id, peerJS } = props;\n    const [audio, setAudio] = useState(null);\n    const [mic, setMic] = useState(false)\n    const [volumn, setVolumn] = useState(false)\n    const [user, setUser] = useState(null)\n    const [talk, setTalk] = useState(false)\n    const [accor, setAccor] = useState(false)\n\n    const handleOpenAccor = () => {\n        setAccor(!accor)\n    }\n\n    const handleSetVolumn = () => {\n        if (audio) {\n            setVolumn(!volumn)\n            let value = Object.assign({}, audio.props, { seleted: false, writeable: true })\n            value.muted = !volumn\n            delete value[\"seleted\"]\n            delete value[\"writeable\"]\n            let old = Object.assign({}, audio, { writeable: true, seleted: false })\n            old.props = value\n            delete old[\"seleted\"]\n            delete old[\"writeable\"]\n            setAudio(old)\n        }\n    }\n\n    const handleSetMic = () => {\n        // if value send from server is only one person return that else do another\n        let userMic = typeof user === \"string\" ? user : user[0] === userId ? user[1] : user[0]\n        try {\n            if (mic === true) {\n                const audioTrack = createEmptyAudioTrack();\n                let data = peerJS.connections\n                let sender = data[userMic][0].peerConnection.getSenders()[0]\n                sender.replaceTrack(audioTrack)\n            }\n            else {\n                navigator.mediaDevices.getUserMedia({ video: false, audio: true }).then(stream => {\n                    let data = peerJS.connections\n                    let sender = data[userMic][0].peerConnection.getSenders()[0]\n                    sender.replaceTrack(stream.getAudioTracks()[0])\n                }).catch(err => {\n                })\n            }\n        } catch (error) {\n        }\n        setMic(!mic)\n    }\n\n    let createNullStream = async () => {\n        let audioStream = async () => {\n            try {\n                const audioTrack = createEmptyAudioTrack();\n                const streamNull = new MediaStream([audioTrack]);\n                audioStream = (\n                    <audio muted={true} ref={audio => audio.srcObject = streamNull} playsInline autoPlay />\n                )\n            } catch (error) {\n                return\n            }\n        }\n        let a = await audioStream()\n        setAudio(a)\n    }\n\n    const createCall = (call) => {\n        call.on(\"stream\", async (userVideoStream) => {\n            let audioStream = async () => {\n                const audioTrack = createEmptyAudioTrack();\n                const streamNull = new MediaStream([audioTrack]);\n                let speechEvents = hark(userVideoStream, {})\n                speechEvents.on('speaking', function () {\n                    setTalk(true)\n                });\n                speechEvents.on('stopped_speaking', function () {\n                    setTalk(false)\n                });\n                try {\n                    return <audio playsInline muted={false} ref={audio => audio ? audio.srcObject = userVideoStream : streamNull\n                    } autoPlay />\n                } catch (error) {\n                    createNullStream()\n                }\n            }\n            let a = await audioStream()\n            setAudio(a)\n        })\n    }\n\n    const plus = (peer, stream) => {\n        // check if that peer is destroyed or not destroy that mean that was created before\n        if (peer.destroyed === false) {\n            // run normally\n            peer.on(\"call\", call => {\n                call.answer(stream)\n                createCall(call)\n            })\n            socket.on(\"user-connect\", value => {\n                if (value.idRoom === id) {\n                    console.log(id)\n                    const call = peer.call(value.id, stream)\n                    setUser(value.id)\n                    createCall(call)\n                }\n\n            })\n        } else {\n            createNullStream()\n        }\n    }\n\n    // if we join another room then delete old peer connections \n\n    useEffect(() => {\n        peerJS.on(\"open\", () => {\n            socket.emit(\"chatVideo\", { idRoom: id, id: userId, g: null }, (callback) => {\n                setUser(callback)\n            })\n        })\n        // get user media\n        navigator.mediaDevices.getUserMedia({ video: false, audio: false }).then(stream => {\n            plus(peerJS, stream)\n        }).catch(err => {\n            // if user does not accept to stream then create new null stream\n            const audioTrack = createEmptyAudioTrack();\n            const stream = new MediaStream([audioTrack]);\n            plus(peerJS, stream)\n        })\n    }, [socket, id, peerJS])\n\n    return (\n        <div className=\"message_container\">\n            <div className=\"call_div_container\">\n                <SimpleMenu onClick={(value) => props.onClick(value)} />\n                <div className=\"main_mic\">\n                    <p onClick={handleOpenAccor} className={accor === true ? \"accordion active\" : \"accordion\"}>Voice Chat</p>\n                    <div style={accor === true ? { maxHeight: \"200px\" } : { maxHeight: null }} className=\"panel\">\n                        <div className=\"user_device\">\n                            <img\n                                alt=\"demom\"\n                                src=\"../demo.jpeg\"></img>\n                            <div className=\"icon_device\">\n                                {audio}\n                                <IconButton onClick={(e) => handleSetMic(!mic)}>\n                                    {mic === true ? <MicIcon /> : <MicOffIcon />}\n                                </IconButton>\n                                <IconButton onClick={(e) => handleSetVolumn()}>\n                                    {volumn === false ? talk === true ? <VolumeUpIcon /> : <VolumeMuteIcon /> : <VolumeOffIcon />}\n                                </IconButton>\n                            </div>\n                        </div>\n                    </div>\n                    {\n                        audio ? <div className=\"user_device\">\n                            <img\n                                alt=\"avatar\"\n                                style={talk === true ? { border: \"2px solid rgba(46, 229, 157, 0.4)\" } : {}}\n                                src=\"../demo.jpeg\"></img>\n                            <div className=\"icon_device\">\n                                {audio}\n                                <IconButton onClick={(e) => handleSetVolumn()}>\n                                    {volumn === false ? talk === true ? <VolumeUpIcon /> : <VolumeMuteIcon /> : <VolumeOffIcon />}\n                                </IconButton>\n                            </div>\n                        </div> : <></>\n                    }\n                </div>\n            </div>\n            <div className=\"message_container_div\">\n                <RenderChat id={id} userId={userId} />\n            </div>\n        </div >\n    )\n}\nexport default ChatCouple","import React, { useState, useEffect } from 'react'\nimport { getCookie } from '../../../helpers/auth';\nimport socketApp from '../../../socket';\nimport IconButton from '@material-ui/core/IconButton';\nimport \"../../style/call.css\"\nimport VolumeMuteIcon from '@material-ui/icons/VolumeMute';\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\nimport { createEmptyAudioTrack } from '../../../helpers/audio';\nimport SimpleMenu from '../miniChatCom/simpleMenu';\nimport MicIcon from '@material-ui/icons/Mic';\nimport MicOffIcon from '@material-ui/icons/MicOff';\nimport hark from \"hark\"\nimport RenderChat from '../renderChat';\n\n// This function is use for send and view message\nfunction ChatGroup(props) {\n    const userId = getCookie().token;\n    let socket = socketApp.getSocket();\n    const { id, peerJS } = props;\n    const [audio, setAudio] = useState([]);\n    const [mic, setMic] = useState(false)\n    const [volumn, setVolumn] = useState(false)\n    const [oldPeer, setOldPeer] = useState(null)\n    const [talk, setTalk] = useState(false)\n    // turn on or turn off own volumn\n    const handleSetVolumn = async () => {\n        // does any another user in the room\n        if (audio.length !== 0) {\n            setVolumn(!volumn)\n            let arr = []\n            for await (let data of audio) {\n                // copy old object\n                let value = Object.assign({}, data.stream.props, { seleted: false, writeable: true })\n                let old = Object.assign({}, data.stream, { writeable: true, seleted: false })\n                value.muted = !volumn\n                // delete specific key\n                delete value[\"seleted\"]\n                delete value[\"writeable\"]\n                old.props = value\n                delete old[\"seleted\"]\n                delete old[\"writeable\"]\n                // create new object\n                // to handle new data\n                let obj = {\n                    stream: old,\n                    audio: data.audio,\n                    mic: false\n                }\n                arr.push(obj)\n            }\n            setAudio(arr)\n        }\n    }\n    // Turn on or turn off the own mic\n    const handleSetMic = () => {\n        setMic(!mic)\n        if (mic === true) {\n            const audioTrack = createEmptyAudioTrack();\n            let data = oldPeer.connections\n            for (let i = 0; i < audio.length; i++) {\n                let userMic = Object.keys(data)[i]\n                let sender = data[userMic][0].peerConnection.getSenders()[0] || []\n                sender.replaceTrack(audioTrack)\n            }\n        }\n        // else reconnect peer to peer \n        else {\n            navigator.mediaDevices.getUserMedia({ video: false, audio: true }).then(stream => {\n                let data = oldPeer.connections\n                for (let i = 0; i < audio.length; i++) {\n                    let userMic = Object.keys(data)[i]\n                    let sender = data[userMic][0].peerConnection.getSenders()[0]\n                    sender.replaceTrack(stream.getAudioTracks()[0])\n                }\n            }).catch(err => {\n            })\n        }\n    }\n    const handleSetVolumnOther = (value, i) => {\n        // get id the user want to muted\n        let idMuted = Object.keys(oldPeer.connections)[i]\n        let sender = oldPeer.connections[idMuted][0].peerConnection.getSenders()[0] || []\n        const returnAudio = (stream, streamNull) => {\n            let a = (\n                <audio ref={audio => audio ? audio.srcObject = stream : streamNull} playsInline autoPlay />\n            )\n            let obj = {\n                stream: a,\n                audio: false,\n                mic: true\n            }\n            let arr = [...audio]\n            arr[i] = obj\n            setAudio(arr)\n        }\n        if (value.audio === true) {\n            let audioTrack = createEmptyAudioTrack()\n            sender.replaceTrack(audioTrack)\n            const streamNull = new MediaStream([audioTrack]);\n            returnAudio(streamNull, streamNull)\n        } else {\n            navigator.mediaDevices.getUserMedia({ video: false, audio: true }).then(stream => {\n                sender.replaceTrack(stream.getAudioTracks()[0])\n                returnAudio(stream, createNullStream())\n            })\n        }\n    }\n    const handleSetMicOther = (data, i) => {\n        if (audio.length !== 0) {\n            // copy old object\n            let value = Object.assign({}, data.stream.props, { seleted: false, writeable: true })\n            let old = Object.assign({}, data.stream, { writeable: true, seleted: false })\n            value.muted = !volumn\n            // delete specific key\n            delete value[\"seleted\"]\n            delete value[\"writeable\"]\n            old.props = value\n            delete old[\"seleted\"]\n            delete old[\"writeable\"]\n            // create new object\n            // to handle new data\n            let arr = [...audio]\n            let obj = {\n                stream: old,\n                audio: data.audio,\n                mic: false\n            }\n            arr[i] = obj\n            setAudio(arr)\n        }\n    }\n    // create null stream to handle error \n    let createNullStream = () => {\n        let audioStream = () => {\n            try {\n                const audioTrack = createEmptyAudioTrack();\n                const streamNull = new MediaStream([audioTrack]);\n                return audioStream = (\n                    <audio muted={true} ref={audio => audio.srcObject = streamNull} playsInline autoPlay />\n                )\n            } catch (error) {\n                return\n            }\n        }\n        return audioStream()\n    }\n    // new user go to the room\n    const createCall = (call) => {\n        call.on(\"stream\", async (userVideoStream) => {\n            let audioStream = async () => {\n                const audioTrack = createEmptyAudioTrack();\n                const streamNull = new MediaStream([audioTrack]);\n                try {\n                    let speechEvents = hark(userVideoStream, {})\n                    speechEvents.on('speaking', function () {\n                        setTalk(true)\n                    });\n                    speechEvents.on('stopped_speaking', function () {\n                        setTalk(false)\n                    });\n                    return <audio playsInline muted={false} ref={audio => audio ? audio.srcObject = userVideoStream : streamNull} autoPlay />\n                } catch (error) {\n                    let a = createNullStream()\n                    let obj = {\n                        stream: a,\n                        audio: false,\n                        mic: false\n                    }\n                    setAudio(value => [...value, obj])\n                }\n            }\n            let a = await audioStream()\n            let obj = {\n                stream: a,\n                audio: true,\n                mic: true\n            }\n            setAudio(value => [...value, obj])\n        })\n    }\n    // fisrt route of connect peer to peer \n    const plus = (peer, stream) => {\n        // check if that peer is destroyed or not destroy that mean that was created before\n        if (peer.destroyed === false) {\n            // run normally\n            peer.on(\"call\", call => {\n                call.answer(stream)\n                createCall(call)\n            })\n            // recieve from server\n            socket.on(\"user-connect\", value => {\n                if (value.idRoom === id) {\n                    const call = peer.call(value.id, stream)\n                    createCall(call)\n                }\n            })\n        }\n    }\n\n    useEffect(() => {\n        const fn = () => {\n            setOldPeer(peerJS)\n            peerJS.on(\"open\", () => {\n                socket.emit(\"chatVideo\", { idRoom: id, id: userId, g: \"a\" }, (callback) => { })\n            })\n            // get user media\n            navigator.mediaDevices.getUserMedia({ video: false, audio: mic }).then(stream => {\n                plus(peerJS, stream)\n            }).catch(err => {\n                // if user does not accept to stream then create new null stream\n                const audioTrack = createEmptyAudioTrack();\n                const stream = new MediaStream([audioTrack]);\n                plus(peerJS, stream)\n            })\n        }\n        fn()\n    }, [id, peerJS])\n    return (\n        <div className=\"message_container\">\n            <RenderChat id={props.id} userId={userId} />\n            <div className=\"call_div_container\">\n                <SimpleMenu onClick={(value) => props.onClick(value)} />\n                <div className=\"main_mic\">\n                    <p>Voice Chat</p>\n                    <div className=\"user_device\">\n                        <img\n                            alt=\"demom\"\n                            style={talk === true ? { border: \"2px solid rgba(46, 229, 157, 0.4)\" } : {}}\n                            src=\"../demo.jpeg\"></img>\n                        <div className=\"icon_device\">\n                            <IconButton onClick={(e) => handleSetMic()}>\n                                {mic === true ? <MicIcon /> : <MicOffIcon />}\n                            </IconButton>\n                            <IconButton onClick={(e) => handleSetVolumn()}>\n                                {volumn === false ? talk === true ? <VolumeUpIcon /> : <VolumeMuteIcon /> : <VolumeOffIcon />}\n                            </IconButton>\n                        </div>\n                    </div>\n                    {\n                        audio.length > 0 ? audio.map(function (value, i) {\n                            return <div className=\"user_device\" key={i}>\n                                <img\n                                    alt=\"demom\"\n                                    style={talk === true ? { border: \"2px solid rgba(46, 229, 157, 0.4)\" } : {}}\n                                    src=\"../demo.jpeg\"></img>\n                                <div className=\"icon_device\">\n                                    {value.stream}\n                                    {value.mic}\n                                    <IconButton onClick={(e) => handleSetMicOther(value, i)}>\n                                        {value.mic === true ? <MicIcon /> : <MicOffIcon />}\n                                    </IconButton>\n                                    <IconButton onClick={(e) => handleSetVolumnOther(value, i)}>\n                                        {value.audio === true ? talk === true ? <VolumeUpIcon /> : <VolumeMuteIcon /> : <VolumeOffIcon />}\n                                    </IconButton>\n                                </div>\n                            </div>\n                        }) : console.log()\n                    }\n                </div>\n            </div>\n        </div >\n    )\n}\nexport default ChatGroup","import React, { useState, useEffect } from 'react'\nimport { getCookie } from '../../helpers/auth';\n// This function is use for send and view message\nimport ChatCouple from \"./miniChatCom/chatCouple\"\nimport ChatGroup from './miniChatCom/chatGroup'\nimport Peer from \"peerjs\"\n\nfunction SendContact(props) {\n    const [peer, setPeer] = useState(null)\n    const userId = getCookie().token;\n    let newNull = () => {\n        peer.destroy()\n    }\n    let createPeer = () => {\n        var peerJS = new Peer(userId, {\n            host: \"/\",\n            port: 2704,\n            path: \"/peerjs\"\n        })\n        return peerJS\n    }\n    useEffect(() => {\n        peer && newNull()\n        let peerJS = createPeer()\n        setPeer(peerJS)\n    }, [props.id])\n\n    return (\n        <>\n            {peer ?\n                props.id[props.id.length - 1] === \"a\" ?\n                    <ChatCouple onClick={(value) => props.onClick(value)} peerJS={peer} id={props.id} /> :\n                    <ChatGroup onClick={(value) => props.onClick(value)} peerJS={peer} id={props.id} /> :\n                console.log()\n            }\n        </>\n    )\n}\n\nexport default SendContact","import React, { useState } from 'react'\nimport { Link } from \"react-router-dom\"\nimport { MenuItem, Menu, Button } from '@material-ui/core';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport { signOut } from './auth';\nimport IconButton from '@material-ui/core/IconButton';\nimport Modal from '@material-ui/core/Modal';\nimport Dropzone from 'react-dropzone'\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport axios from \"axios\"\nimport { toast } from 'react-toastify';\n\n\nexport const ImageRender = (cb) => {\n    const { value } = cb.props\n    switch (value.image.length) {\n        case 0:\n            return <div></div>\n        case 1:\n            return <div className=\"one\">\n                <Link to={\"/posts/id=\" + value.idBlog}>\n                    <img\n                        alt={value.image[0].slice(100, 110)}\n                        src={value.image[0]}\n                    />\n                </Link>\n            </div>\n        case 2:\n            return <div className=\"two\">\n                <Link to={\"/posts/id=\" + value.idBlog}>\n                    <img\n                        alt={value.image[0].slice(100, 110)}\n\n                        src={value.image[0]}></img>\n                    <img\n                        alt={value.image[1].slice(100, 110)}\n\n                        src={value.image[1]}></img>\n                </Link>\n            </div>\n\n        case 3:\n            return <div className=\"three\">\n                <Link to={\"/posts/id=\" + value.idBlog}>\n                    <div className=\"two\">\n                        <img\n                            alt={value.image[0].slice(100, 110)}\n\n                            src={value.image[0]}></img>\n                        <img\n\n                            alt={value.image[1].slice(100, 110)}\n                            src={value.image[1]}></img>\n                    </div>\n                    <img\n                        alt={value.image[2].slice(100, 110)}\n\n                        src={value.image[2]}></img>\n                </Link>\n            </div>\n\n        case 4:\n            return <div className=\"three\">\n                <Link to={\"/posts/id=\" + value.idBlog}>\n                    <div className=\"two\">\n                        <img\n                            alt={value.image[0].slice(100, 110)}\n\n                            src={value.image[0]}></img>\n                        <img\n                            alt={value.image[1].slice(100, 110)}\n\n                            src={value.image[1]}></img>\n                    </div>\n                    <div className=\"two\">\n                        <img\n                            alt={value.image[2].slice(100, 110)}\n\n                            src={value.image[2]}></img>\n                        <img\n                            alt={value.image[3].slice(100, 110)}\n\n                            src={value.image[3]}></img>\n                    </div>\n                </Link>\n            </div>\n        default:\n            return <div className=\"three\">\n                <Link to={\"/posts/id=\" + value.idBlog}>\n                    <div className=\"two\">\n                        <img\n                            alt={value.image[0].slice(100, 110)}\n\n                            src={value.image[0]}></img>\n                        <img\n                            alt={value.image[0].slice(10, 100)}\n\n                            src={value.image[1]}></img>\n                    </div>\n                    <div className=\"two\" >\n                        <img\n                            alt={value.image[1].slice(100, 110)}\n\n                            src={value.image[2]}></img>\n                        <div style={{ position: \"relative\", width: \"90%\" }}>\n                            <img\n                                alt={value.image[2].slice(100, 110)}\n                                className=\"more_image\"\n                                src={value.image[3]}></img>\n                            <span className=\"last_image\">\n                                + {value.image.length - 4}\n                            </span>\n                        </div>\n                    </div>\n                </Link>\n            </div>\n    }\n}\n\nexport const HeaderPage = (props) => {\n    let value = props.value || []\n    let arr = window.location.href.split(\"/\")\n    const [openNoti, setOpenNoti] = useState(null)\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [valueSearch, setValueSearch] = useState(\"\")\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const handleLogOut = () => {\n        signOut();\n        window.location.reload(false);\n    }\n    const handleClickNoti = (e) => {\n        setOpenNoti(e.currentTarget)\n    }\n    const handleCloseNoti = () => {\n        setOpenNoti(null);\n    };\n    return (\n        <div className=\"navbar_auth\">\n            <p id=\"recal\"> Recal </p>\n            {arr[3] === \"news\" ? <form className=\"search_div\">\n                <input\n                    placeholder=\"Tìm kiếm\"\n                    value={valueSearch}\n                    onChange={e => setValueSearch(e.target.value)}\n                />\n                <IconButton type=\"submit\">\n                    <img alt=\"search_image_icon\" src=\"data:image/png;base64,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\" />\n                </IconButton>\n            </form> : console.log()}\n            <div className=\"extension_auth\">\n                <div className=\"inner_title\">\n                    <Button className=\"notify_icon\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClickNoti}>\n                        <NotificationsIcon />\n                    </Button>\n                    <span className=\"title\" id=\"notify_title\">\n                        Thông báo\n                        </span>\n                </div>\n                <Menu\n                    id=\"menu_main_page\"\n                    anchorEl={openNoti}\n                    keepMounted\n                    open={Boolean(openNoti)}\n                    onClose={handleCloseNoti}\n                >\n                    <p>Thông báo</p>\n                    {\n                        value.map(function (data, i) {\n                            return <Link to={data.type} key={i}>\n                                <MenuItem className=\"notifications_span\">\n                                    <span className=\"simple_menu_span\">\n                                        {data.number}{data.value}\n                                    </span>\n                                </MenuItem>\n                            </Link>\n                        })\n                    }\n                </Menu>\n                <div className=\"inner_title\">\n                    <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} className=\"account_icon\">\n                        <img className=\"avatar_image\" alt=\"avatar_image\" src=\"demo.jpeg\" />\n                    </Button>\n                    <span id=\"account_title\" className=\"title\">\n                        Tài khoản\n                        </span>\n                </div>\n                <Menu\n                    id=\"menu_main_page\"\n                    anchorEl={anchorEl}\n                    keepMounted\n                    open={Boolean(anchorEl)}\n                    onClose={handleClose}\n                >\n                    <MenuItem onClick={handleLogOut}>\n                        <span className=\"simple_menu_span\">\n                            <ExitToAppIcon /> Đăng xuất\n                            </span>\n                    </MenuItem>\n                </Menu>\n            </div>\n        </div>\n    )\n\n}\nexport const NavbarRight = () => {\n    const [open, setOpen] = useState(false);\n    const [file, setFile] = useState([])\n    const [text, setText] = useState(null)\n\n    let arr = window.location.href.split(\"/\")\n\n    const dragFile = (file) => {\n        let data = file[0];\n        let reader = new FileReader()\n        reader.readAsDataURL(data)\n        reader.onloadend = () => {\n            setFile(value => [...value, reader.result])\n        }\n    }\n    const handleDeleteImamge = (index) => {\n        const arr = [...file]\n        arr.splice(index, 1)\n        setFile(arr)\n    }\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        axios.post(\"http://localhost:2704/api/idea\", { text, file }).then(res => {\n            toast.success(res.data.message)\n            setText(null)\n            setFile([])\n            handleClose()\n        }).catch(err => {\n            console.log(err)\n        })\n    }\n    return (\n        <div className=\"navbar_right\">\n            <ul>\n                <li className={arr[3] === \"\" ? \"active_title inner_title\" : \"inner_title\"}>\n                    <Link to=\"/\">\n                        <div>\n                            <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAABuklEQVRYhe2XMUvDQBiG3y9VBCnqopOLDhZHx4JYnRSc/QOKUh3bQUdHHRxV0OIP8B+IgjrpLopuFmKrtNqStFja5M6pUO2l5pKaRMiz5bu8+R7ujuMChISEdISsBsYPtWVwSnMgBiDiokcJHOcNJZJS1/tfuiI4tq+tgCjjQkrEU6MWnVJT9CkTUoRVonRXlL4T6+2rLMqGxILAhEsZq26T8hExbvacJcTkv2slGBhCQbeIj5kDnf9FM6NQfKip2fuWkknEnwyGzEdmTvVdsJ7Po/6aEw2VFaKZt6PE3c+BoCzxEON8TzQQFEEAiIuKQRKMioqeCnLGpDOeCrKqLp3xTLDxXoRZrUrnemy+pwE4az6Yuh7npjFqJ8gNE6auwSiXpOUAe4IaB5t/3hi8bRaGV69OASw56ijJb0vcJuc1nQR9lwOsBQMhB1jsQabwhWyygxxxBm75v9VVhDOYTQ7cdAoR8Pg3Ou04OgeZ0XsEwNm5IYkjweLJdE4hSnDgAkCly07f8GYjCRhevd4E+E5rrXA82+bj222mcJzYBWjrt/d8vW7ZkfT9Pmh3Jn1nZO1y22+HkJB/yRf9bo6qW/CI/QAAAABJRU5ErkJggg==\" />\n                            <span >\n                                Tin nhắn\n                        </span>\n                        </div>\n                    </Link>\n                </li>\n                <li className={arr[3] === \"news\" ? \"active_title inner_title\" : \"inner_title\"}>\n                    <Link className=\"home_icon icon_nav\" to=\"/news\">\n                        <div>\n                            <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAFLklEQVRYhe3Ye0xTVxwH8O/v9DLKQzTxOZc4N0FgPiZCgfKSYDUr4FTaolvc5lDU6RZl+MJkerOZJf4x3ZaYRY1/afxj8A9LptuCj0wWl4FT29IWioogIvEBFIFp8Z79AcW+Kc/tD79Jk96TnnM/+Z3cX84t8DIv8zJ+IxuLRVVqTdysqFihod5sG+labDRAzlHlaArAqDqIyYxLV+QpRrreqAJVOZoCgE4QEePgExmX/Zq1Im/xSNYctS124GQyGR3Yt5NemzkDeqMphHG29o2YmPO368z3/jOgM25/STGlJCuwaOF8SJIEvdEkZ5zlz46ed+F2nal53IHLsrUbQXTcUbmUZAU45yAiLFo4H3a7HUaTRU4EXWTUvIqbVlPLuAGXZWs3csIxB06ZlICmu83YWrSH/1V1jVKViUhKWNyHrLHIOSF/qMhhA1U5mgJH5Rzb2nT3HnaWiPzho8fUcr8VBqMJGelKJCUshiRJMBjNchCtnT038O0eFlCVqykEXLe1sakZO0sO8Lb2DlqZ+w6CBAE15loYaszISFNCER/nqGQwEXRzImPP37IO/uAMGbg0R7eB0LetLpXbJ/K29g7KW5mDbZsLkJmeClM/0GA0ISNNiSTFi0oSYwFVckjAPhz32NbikgO8ra2dNKty8UnhegCAIAjISFN6IBXxcY6nO5gRrYmMjL1402r2iQwYGAhuy8aPXOa4I/WGGixJS3FBgrF8f8iAgH2tBG64ZhSXiD5x3pBGk2XIyEGBzq1kqLjRQPoFDobTBoDzhbx67QaWpKUgsb8F+UL6BAaC2xwgzhvSZKnD39f1gyK9Avv7nCdub1+fGw5uqMg358RculVvvusBVOVqCsHpmHMTbrjTiOISkbd32Chf8y42bfhwWDhnZHpaMgxGMyy1VuiNJmSkKpGY4NTMGcuPmht9zvM8yGkTAEpNVpAyKQG3G/pwHR02WqNZicKPPxgRzpEQuRy7irYBAMyWOuzdfxBdXd1Yt1aLaVOngHMe0ctZHrlPVGXrFoDhAjifol6ehT/+rOI2WyeFyuXflZed2u7tZvXtwOlawC55x0S8Any6EAgLch1vbX2AdRu2DlzHREdBHhyM63ojAFT2hpLao4IVZ0sNkJAFoofnfrsAm62TABwqLzsl+qrGzQ7A9gzo6fX+ae0GWrp9zQYAVAOotNRaXXCXSkufeD3yDyA59AR8VfFz2V6/y488T3pDSQ2gHMAvDhwACL5mVJwtNQB4e4xhA+kHrXIfD/il6f31W1ZfvaYfVVQgCRj44OGjH44eOzmWFq8Zymtn8DO7fcwgvhIQMCs77/WxhviKX6AoikyVoz3CiN0aL5B7/AIvVxv3ANgxaWKER0Mfr/gELl29ejIBOwRB4N9/8/X/B6jT6WTLsrWH6JnsHjimzYuNpldnTB+Tm/f80wMAICBUFEWvxfIYbOvhIifsDg8PC1Ivz8KmgtE5HLinxmTBjt1fAAA4kFhZZbyk1OlC3H8niKLIrlTfWMC5IEjS8yDiVMRkDJ9/toVmTJ8GALDW9z0jdnvvwHfntLYAPff9gxonADz8xfW3R0+gq6sbmekpaLjThIbGpvTwbuwC8CUAZK54b0pmfPRjUuVoDwMoGk4VRpqICROelp05efn3yiuTDx46EgcAnPPtz2WvnBEkezPAjwvEqJw/l2aCaNj/FTJ5WHjI1FlvAczrCZ1LvU+7W6zXIUkuB7LOTttPjLHTarU6GCzsMIhPIs4uZsZHP66sMhznoB//BcUl0FBd7bfCAAAAAElFTkSuQmCC\" />\n                            <span >\n                                Trang chủ\n                    </span>\n                        </div>\n                    </Link>\n                </li>\n                <li className={arr[3] === \"feedback\" ? \"active_title inner_title\" : \"inner_title\"} onClick={handleOpen}>\n                    <Link className=\"feedback_icon icon_nav\" >\n                        <div>\n                            <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAADr0lEQVRYhe2YMWwcRRSGv5k9m4SgmDQHUuCEkgIpUhpS0hxNJArr7mQdFBGKnCCBaFCaCEGTdGkJkp0oRIgCRYplClxEQSAoACGlxGkoXDjK+pTCJiTEye3u/BS3lzvfztq34WIk8N/MvJl5b/99782b2YUd7GB41G7rbO22zo7Sph2pMcOUNUyN1GaRxVWp1GipnDcvw6Iz/JY332ipXJVKRZ5ZCLVQs/VQd2otHS6s29Lheqg79VAzRfQKedAYvgH2GvFJIXZAqrMXw0JR3UKohzrSXNVEUb3mqibqoY48DU7/KkzeRGX+xAESuw+i3mC0cU1ElBnrrYuyKlFmBCKIXLB299T80tAEX5k7eQH0niQkQEJS2mblXl/gk+nJefYcmr374cIHg1xyNommt5OcJIzTSR8TL0FJ49tJLpXHfVy8RdNLpp3g2tEAucHWT44Be4wFEJjsy+YRPHhl+uUoCMqPE9hl3/Slsef5+fh5AvPPTsdEjtdmT7AcrWYi4SV48Ov3y3HSXjJKSpLNDcO9eJ2F33/BGkvHJV1393XUP9MT1CcncvzZfgB40sQDgzCVuekriLc3zREnXOQ2zTl8OYfHngVhMvr3Tl/LVBWLQcvcP4b01aYbIhEkCYpjiLtt3JOTTt/FMS6dd3GMogQXORQ5JNfJPQ+5fA92cbUZVOJdXzqZY77dWnbP8sWbpzeG2GOzP5yDmPl1nqtLPyGDNxL3P7ru8WAXb80ly6WHx3EbPZnNkScj1wn3FqXJg+xJ8kO1tP/W/ihDLhGuHYNzQ9S5bqnqhi4ds4LA5ubwXx9/u4kHu3jjxzhDrkvGGGQt2AACi7EWUtlY2xkLuq2BAEwAWIPSzFCUDJSxPvse5BTqbBgmkmc4V32XwNgtS0mfoQ1VCCBxCaeufcYfrGciMTRBX448N7aLyVdfp2QDr8qwiF3Cme8vs/boQfbEGZagL0dura/y4vmp3OPLW5rS/Otfj4RKnTTI5PCwBL1FeMxgS6UMOZMaNwMyj/vC5OX0wAbzIe82097K2KhvOcCjoQkacXmbyWGkz71cvH4FXpiZOpCM2X251/R+wbMEIIp83wPAwLhzwdrDM995r/z/PdRWdOhoS3uK6h1taU9tRYeK6hW6fdZXVDXixm7HxaIP2u24aMSN+oqqRfSKXo/fAdqB4dOCeqQ67dTG00HzpsYnQ1Xy5huhLjVCXcqbnwxVad6U9+NoW9AItdgItThKmyP9FSa4Pkp7O/hf4G8ClYGTqswhlAAAAABJRU5ErkJggg==\" />\n                            <span>\n                                Góp ý và cải thiện\n                    </span>\n                        </div>\n                    </Link>\n\n                </li>\n                <li className={arr[3] === \"help\" ? \"active_title inner_title\" : \"inner_title\"}>\n                    <Link className=\"contact_icon icon_nav\" to=\"/help\">\n                        <div>\n                            <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAAFBElEQVRYhe3YW2wUVRgH8P+Znd1ut1CkXNpyaekFRakxgsWgJSIRo4hRQiVGE0MxhgQT31BCIvHBRPHZF6OhqJEHQESNBAIVkyIP1ggJxOC2lbKYVoSyly5rd2fO9/dht9222+nutMUHwnmZnMnMOb85t++cAe6mOzypqbz86LH+0qRXraFGAyHVFMwSAoqIUnBFyIuW12jv2jAn9r8B156mGdXhZojaRnAdBR6SIAGSAAFKNk/CJthGYWtQlx/GFqVvG/CRU5FmAfeSqCUJyjDCCYeRz4HohsjbnS8vODKtwNXHo2UpE/sIeWFspS5w2fvCb2xar4derQ5PGbjidLReCU+QrJ0mHEhAyC6x9TNXt1Z1TxqYwbWTrJhO3FAeVH0i9pqJkI7A1cejZSkvO6a75bK4zD2gy0OrsaelJjKew3ACpkzsKwgnAhlMwEjEMNeKYoGOwT8YgSTiECs5MS59rbfE/MxVC65si7xE8mA+nBpM4Ml5Cq/cNxsr5pfA58kWF4olcfDSTXz6exyWtwQEcnEjWheCTb3bq47mBa49TTOmI38UspTUqhi+f77W6eMBAGf/GsBrJ6/B9gYccWk4O/tmV90/dp3M6eKoDjcXus6BE9oAAI8tmomNi3yA1o64TH5pRX9o89j3c8egqG2FTggQEAI/dIfxxokerD/cieZvu3Gp/99RRT6xuARia0fc0GQSYctYzqguXnny5ixN9BcQvkAS860YKgIGzkU9gOkFYYBa4/HSFL7YWDNc7sk/I9jW1g+YRY64dIPA5q3BshvvLBsYtwU10FQojgL02V6cTxQD3qI0LvNcsTl6aIeiKVB58uAIkqYO+Jscu5iCB92sc8rrB6GyFQvhS93CjofnjQIeDUYBZeTBDd2XBmeglupJL8Ii8FsD2P90JR4qLxkus/X8P/gtDJAqL44EIFwy0mSOAgIzJxshzGQcXz67ECsrZwyXd+Didew5exPwlRSEoxAgSp2BMnR1GfitFLYvLx2F+7ijDx92xEBvwA0u3YpOXQyFgUnFVtvCc3X3DBdzrDOMD34dAH2BzBgtFEeQiDkCqdHjGkeAWlBWnO2M493R7JLiDgcRXnbsYhG5AMAVLh1NFDp642iYHwAA+AyAIqBSrnAkoaAuOgItn+eMmdQ2SdPNlgleP7a3XYdIOrQQCvAWucZRYBXB/tmxi7s2zImR/NHVfo5Ig0wfqDVE26AyACq3OIA4NTKK5E4SACT3ucJlJsn6eTbOtyxFz5sPYE/jDEgy4QqXybeO9eQAg7r8MIiugnEEJDmI99dVoXyGF37TwI5VlagJiEucCsbr6nNOe7m7mS1Kg7KrUFx6227gWjw1XERKE5Fk7u5lgpYDqXeOd2Z2PJPUHug9QmJTXhwBisZCI4G3GueirNjE5+du4Ke/FegxC8KBOHRr971bxnM4Aqu+ujJb0fwFRP2EuKHxKgJaNkhJ71yUUSCOQZ9hrgrvqou6AgLA4v2hOsMw2ylSOSHO5Wwdke8VzabBd5dddjI4nuoA4OrWqm4Rew0x/qSZCg5kMB8uL3AI6aHVSOLr6cPhkM8wV+XDAS5/Hi34JPQiwY9ILJ0cTgVJvTOxe9l3hdbp/v/gQXoq+kObRdhC4imSZr7wBeIUidZ4Xf2R2/r7bWyau/fSTB3wN4HSAOESaMwiBKQRFeoeReNCUSJ55vp7y+NTqeduuqPTf+NAArWFyy6YAAAAAElFTkSuQmCC\" />\n                            <span >\n                                Trợ giúp\n                    </span>\n                        </div>\n                    </Link>\n                </li>\n                <li className={arr[3] === \"policy\" ? \"active_title inner_title\" : \"inner_title\"}>\n                    <Link className=\"policy_icon icon_nav\" to=\"/policy\">\n                        <div>\n                            <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABmJLR0QA/wD/AP+gvaeTAAABbklEQVRYhe2YMUvDQBiG3xx3CdpaU0shkS5KdbSos4s46H/o7H9wEMEfIC5udekPcHKooKug4FaKRSeRVtKqtbZqkiZxEBdJwdxZaOWe9b733geOWz5A8s9R+h0YZ4cbBEEeAVgycd2ixNN5S5hHxtNvWg4APJ/Gqc1Y7mm2nTYWm3uXD2Xb84uN7bXSrwUzpcKUT1EDoAFASq/cKgiyvIJhZLs6DuY3sXtu4ajStDWqmndbK88/50hYuKf65rfcoGgxGwCQSWgAoDmuOx02Fyo4TEhBUaSgKJQn1Oua8N14pAxhHdBYPXIXl+B7YxnOy1ykjDp5g4nYceQuLsGx9BU0vRopQ1iHp4pPkOepeBn6TyIFRZGCokhBUaSgKFJQFCkoihQURQqKIgVFGU1B6pA6AHuQxUn3a3l237YB4ENlrBY213eBaZ4W1hUEeUBR/3qByRxGFx5nXlPGUmP/wio7Pb9o7aye8N4vGWk+ATeyYfdbVvrnAAAAAElFTkSuQmCC\" />\n                            <span >\n                                Điều khoản và dịch vụ\n                    </span>\n                        </div>\n                    </Link>\n\n                </li>\n            </ul>\n            <Modal\n                className=\"navbar_modal\"\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n            >\n                <form>\n                    <div className=\"navbar_modal_header\">\n                        <p>Đăng tải ý kiến của bạn </p>\n                        <IconButton onClick={handleClose}>x</IconButton>\n                    </div>\n                    <div className=\"navbar_modal_body\">\n                        <span>Ý kiến giúp chúng tôi phát triển hơn</span>\n                        <div\n                            suppressContentEditableWarning={true}\n                            contentEditable\n                            id=\"txtSearch\"\n                            onInput={e => setText(e.target.innerText)}\n                        >\n                        </div>\n                        <span>Thêm ảnh chụp màn hình</span>\n                        <Dropzone\n                            style={{ marginTop: \"20px\" }}\n                            className=\"inner_title\"\n                            onDrop={acceptedFiles => dragFile(acceptedFiles)}>\n                            {({ getRootProps, getInputProps }) => (\n                                <section >\n                                    <div className=\"drag_file\" {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <div className=\"icon\">\n                                            <CloudUploadIcon />\n                                        </div>\n                                    </div>\n                                </section>\n                            )}\n                        </Dropzone>\n                        <div>\n                            <div className=\"image_post_news\">\n                                {\n                                    typeof file !== 'undefined' ? Object.values(file).map(function (value, index) {\n                                        return <li key={index}>\n                                            <img alt=\"image_upload\" src={value}></img>\n                                            <span onClick={() => handleDeleteImamge(index)}>&#10005;</span>\n                                        </li>\n                                    }) : {}}\n                            </div>\n                        </div>\n                    </div>\n                    <IconButton id=\"MuiIconButton-root\" onClick={handleSubmit}>\n                        Gửi\n                    </IconButton>\n                </form>\n            </Modal>\n        </div >\n    )\n}\n","import React, { useState, useContext } from 'react'\nimport Chat from './chat.js';\nimport ContactContain from './miniChatCom/contactContain.js';\nimport SendContact from './sendContact.js';\nimport { HeaderPage, NavbarRight } from '../../helpers/news.js';\nimport { MessageList } from '../../userContext.js';\n\nfunction Main_page() {\n    const { listMessage } = useContext(MessageList)\n    const [room, setRoom] = useState(\"\");\n    //value contain Rooms\n    const [name, setName] = useState(\"Recal\")\n    // user contain 2 user \n    const [user, setUser] = useState(\"\")\n\n    const hanldeSetRoom = value => {\n        let id = value.split(\",\")\n        setRoom(id[0])\n        setUser(id[1])\n    }\n    return (\n        <div className=\"main_page_auth\">\n            <HeaderPage />\n            <div className=\"container\">\n                <NavbarRight />\n                {\n                    // id room id not exists than render chat component\n                    room ?\n                        <SendContact\n                            onClick={(value) => hanldeSetRoom(value)}\n                            id={room}\n                            name={(value) => setName(value)}\n                        /> : <Chat />\n                }\n                <div className=\"contact\">\n                    {\n                        // if value have then we can use this \n                        listMessage && listMessage.length > 0 ? listMessage.map((val, i) => <div key={i}>\n                            <ContactContain\n                                onClick={(value) => hanldeSetRoom(value)}\n                                message={val.data}\n                                users={val.user}\n                                idRoom={val.idRoom}\n                                target={room}\n                                nread={val.nread}\n                            />\n                        </div>) : console.log()\n                    }\n                </div>\n            </div>\n        </div >\n    )\n}\n\nexport default Main_page","import React, { useState } from 'react'\nimport TextField from '@material-ui/core/TextField';\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { authenicate } from \"../../helpers/auth\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { Link, useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    floatingLabelFocusStyle: {\n        color: \"#fff\"\n    }\n}));\n\nfunction LoginForm() {\n    const classes = useStyles();\n    const history = useHistory();\n    const [formData, setFormData] = useState({\n        email: \"\",\n        password: \"\"\n    })\n    // const [redirect, setRedirect] = useStae(false)\n    const { email, password } = formData;\n    const handleChange = text => e => {\n        setFormData({ ...formData, [text]: e.target.value })\n    }\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (email && password) {\n            axios.post(`http://localhost:2704/api/login`, {\n                email, password\n            }).then(res => {\n                setFormData({\n                    ...formData,\n                    email: \"\",\n                    password: \"\"\n                });\n                toast.success(res.data.message);\n                if (res.data.blockN > 3) {\n                    history.push(\"/report\")\n                }\n                authenicate(res);\n                window.location.reload(false);\n            }).catch(err => {\n                toast.error(\"Có lỗi đã xảy ra bạn hãy thử lại sau\")\n            })\n        }\n        else {\n            toast.error(\"Please fill all text field\")\n        }\n    }\n    const sendGoogleToken = tokenId => {\n        axios.post(\"http://localhost:2704/api/googlelogin\", {\n            idToken: tokenId\n        }).then(res => {\n            authenicate(res)\n            window.location.reload(false);\n        }).catch(err => {\n            toast.error(\"Login with Google failed\")\n        })\n    }\n    const sendFacebookToken = (userID, accessToken) => {\n        axios.post(\"http://localhost:2704/api/facebooklogin\", {\n            userID, accessToken\n        }).then(res => {\n            authenicate(res)\n            window.location.reload(false);\n        }).catch(err => {\n            toast.error(\"Login with Facebook failed\")\n        })\n    }\n    const responseGoogle = response => {\n        sendGoogleToken(response.tokenId)\n    }\n    const responseFacebook = response => {\n        console.log(response)\n        sendFacebookToken(response.userID, response.accessToken)\n    }\n    return (\n        <form className=\"form_signIn\" onSubmit={handleSubmit}>\n            <ToastContainer />\n            <p className=\"sign_in_title\">Sign In</p>\n            <div className=\"inputField\">\n                <TextField\n                    value={email}\n                    onChange={handleChange(\"email\")}\n                    id=\"outlined-basic\"\n                    label=\"Email\"\n                    variant=\"outlined\"\n                    InputLabelProps={{\n                        className: classes.floatingLabelFocusStyle,\n                    }}\n                />\n            </div>\n            <div className=\"inputField\">\n                <TextField\n                    value={password}\n                    onChange={handleChange(\"password\")}\n                    id=\"outlined-password-input\"\n                    label=\"Password\"\n                    type=\"password\"\n                    autoComplete=\"current-password\"\n                    variant=\"outlined\"\n                    InputLabelProps={{\n                        className: classes.floatingLabelFocusStyle,\n                    }}\n                />\n                <div className=\"button-sign\">\n                    <Link to=\"/users/forget\">Quên mật khẩu</Link>\n                    <button className=\"treat-button\" type=\"submit\">Đăng nhập</button>\n                </div>\n            </div>\n            <div className=\"divider\"></div>\n            <GoogleLogin\n                className=\"google_login\"\n                clientId=\"583969708221-h0kl5ki0e91mkb3mafoecak1sj8b4ih3.apps.googleusercontent.com\"\n                buttonText=\"Login with Google\"\n                onSuccess={responseGoogle}\n                cookiePolicy={'single_host_origin'}\n            />\n            <FacebookLogin\n                appId=\"688117411891893\"\n                fields=\"name,email,picture\"\n                callback={responseFacebook}\n                cssClass=\"facebook_login\"\n                icon=\"fa-facebook\"\n            />\n        </form>\n\n    )\n}\n\nexport default LoginForm\n","import React, { useState } from 'react'\nimport \"../style/homepage.css\"\nimport TextField from '@material-ui/core/TextField';\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { authenicate } from \"../../helpers/auth\";\nimport axios from \"axios\";\n\n\n\nrequire(\"dotenv\").config({\n    \"path\": \"./config/config.env\"\n})\n\nconst useStyles = makeStyles((theme) => ({\n    floatingLabelFocusStyle: {\n        color: \"rgb(167, 166, 166);\"\n    }\n}));\n\nfunction RegisterForm() {\n    const [formData, setFormData] = useState({\n        email: \"\",\n        name: \"\",\n        password1: \"\",\n        password2: \"\"\n    });\n    const { email, name, password1, password2 } = formData;\n    const handleChange = text => e => {\n        setFormData({ ...formData, [text]: e.target.value })\n    }\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (name && email && password1) {\n            if (password1 !== password2) {\n                toast.error(\"Password does not match\");\n            } else {\n                axios.post(`http://localhost:2704/api/register`, {\n                    name, email, password: password1\n                }).then(res => {\n                    setFormData({\n                        ...formData,\n                        name: \"\",\n                        email: \"\",\n                        password1: \"\",\n                        password2: \"\"\n                    })\n                    toast.success(res.data.message)\n                }).catch(err => {\n                    toast.error(err.response.data.error)\n                })\n            }\n        }\n        else {\n            toast.error(\"Please fill all text field\")\n        }\n    }\n\n    const classes = useStyles();\n    const responseGoogle = (response) => {\n        console.log(response);\n    }\n    const sendFacebookToken = (userID, accessToken) => {\n        axios.post(\"http://localhost:2704/api/facebooklogin\", {\n            userID, accessToken\n        }).then(res => {\n            authenicate(res)\n            window.location.reload(false);\n        }).catch(err => {\n            toast.error(\"Login with Facebook failed\")\n        })\n    }\n    const responseFacebook = (response) => {\n        sendFacebookToken(response.userID, response.accessToken)\n    }\n    return (\n        <form className=\"form_signIn\" onSubmit={handleSubmit}>\n            <ToastContainer />\n            <p className=\"sign_in_title\">Đăng ký</p>\n            <div className=\"row\">\n                <div className=\"col-sm-6\">\n                    <div className=\"inputField\">\n                        <TextField\n                            value={email}\n                            onChange={handleChange(\"email\")}\n                            id=\"outlined-basic\"\n                            label=\"Email \"\n                            variant=\"outlined\"\n                            InputLabelProps={{\n                                className: classes.floatingLabelFocusStyle,\n                            }}\n                        />\n                    </div>\n                    <div className=\"inputField\">\n                        <TextField\n                            value={name}\n                            onChange={handleChange(\"name\")}\n                            id=\"outlined-basic-name\"\n                            label=\"Tên đăng nhập \"\n                            variant=\"outlined\"\n                            InputLabelProps={{\n                                className: classes.floatingLabelFocusStyle,\n                            }}\n                        />\n                    </div>\n                    <div className=\"inputField\">\n                        <TextField\n                            value={password1}\n                            onChange={handleChange(\"password1\")}\n                            id=\"outlined-password-input\"\n                            label=\"Mật khẩu\"\n                            type=\"password\"\n                            variant=\"outlined\"\n                            InputLabelProps={{\n                                className: classes.floatingLabelFocusStyle,\n                            }}\n                        />\n                        <div className=\"inputField\">\n                            <TextField\n                                value={password2}\n                                onChange={handleChange(\"password2\")}\n                                id=\"outlined-repeatPassword-input\"\n                                label=\"Nhập lại mật khẩu\"\n                                type=\"password\"\n                                variant=\"outlined\"\n                                InputLabelProps={{\n                                    className: classes.floatingLabelFocusStyle,\n                                }}\n                            />\n                        </div>\n                        <div className=\"button-sign\">\n                            <button className=\"treat-button\" type=\"submit\">Đăng ký</button>\n                        </div>\n\n                    </div>\n                </div>\n\n                <div className=\"col-sm-6\">\n\n                    <GoogleLogin\n                        className=\"google_login\"\n                        clientId=\"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\"\n                        buttonText=\"Login with Google\"\n                        onSuccess={responseGoogle}\n                        onFailure={responseGoogle}\n                        cookiePolicy={'single_host_origin'}\n                    />\n                    <FacebookLogin\n                        appId=\"688117411891893\"\n                        fields=\"name,email,picture\"\n                        callback={responseFacebook}\n                        cssClass=\"facebook_login\"\n                        icon=\"fa-facebook\"\n                    />\n                </div>\n            </div>\n        </form>\n\n    )\n}\n\nexport default RegisterForm\n","import React from 'react'\nimport \"../style/homepage.css\"\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport LoginForm from \"./LoginForm\"\nimport RegisterForm from \"./RegisterForm\"\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    paper: {\n        backgroundColor: \"rgb(36, 37, 38)\",\n        border: '1px solid #000',\n        // boxShadow: theme.shadows[5],\n        padding: theme.spacing(1, 10, 10),\n    }\n}));\nfunction PageNotAuth() {\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [openSignIn, setOpenSignIn] = React.useState(false);\n    const [openSignUp, setOpenSignUp] = React.useState(false);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    const handleOpenSignIn = () => {\n        setOpenSignIn(true);\n    };\n\n    const handleCloseSignIn = () => {\n        setOpenSignIn(false);\n    };\n    const handleOpenSignUp = () => {\n        setOpenSignUp(true);\n    };\n\n    const handleCloseSignUp = () => {\n        setOpenSignUp(false);\n    };\n    return (\n        <div className=\"main_page\">\n            < div className=\"homepage\">\n                <header className=\"header_notAuth\" >\n                    <div className=\"navbar\">\n                        <p>\n                            <a href=\"/\"> Sadnessly </a>\n                        </p>\n                        <span aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                            &#9776;\n                    </span>\n                        <Menu\n                            id=\"simple-menu\"\n                            anchorEl={anchorEl}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose}\n                        >\n                            <MenuItem onClick={handleClose}>\n                                <a href=\"/\">\n                                    <AccountCircleIcon />\n                                    <p>Profile Of me</p>\n                                </a>\n                            </MenuItem>\n                            <MenuItem onClick={handleClose}>\n                                <a href=\"/\">\n                                    <AccountCircleIcon />\n                                    <p>What do you think</p>\n                                </a>\n                            </MenuItem>\n                            <MenuItem onClick={handleClose}>\n                                <a href=\"/\">\n                                    <AccountCircleIcon />\n                                    <p>Profile</p>\n                                </a>\n                            </MenuItem>\n                        </Menu>\n\n\n                    </div>\n                    <div className=\"text-navbar\">\n                        <p className=\"text-navbar-first\">\n                            Bạn có thể chia sẻ câu chuyện của mình mà không ai biết bạn là ai!!\n                    </p>\n                        <p className=\"text-navbar-second\">\n                            Đừng để bản thân quá nặng lòng hãy mở lòng và bạn sẽ thấy thoải mái hơn. Cho đi là nhận lại!\n                    </p>\n                    </div>\n                    <div className=\"button-navbar treat-wrapper\">\n                        <button className=\"signIn-navbar treat-button \" type=\"button\" onClick={handleOpenSignIn}>Đăng nhập</button>\n                        {/* **************************** Modal to Login ****************************************/}\n                        <Modal\n                            aria-labelledby=\"transition-modal-title\"\n                            aria-describedby=\"transition-modal-description\"\n                            className={classes.modal}\n                            open={openSignIn}\n                            onClose={handleCloseSignIn}\n                            closeAfterTransition\n                            BackdropComponent={Backdrop}\n                            BackdropProps={{\n                                timeout: 500,\n                            }}\n                        >\n                            <Fade in={openSignIn}>\n                                <div className={classes.paper}>\n                                    <LoginForm />\n                                </div>\n                            </Fade>\n                        </Modal>\n\n                        {/* ************** * * * **   Button to SignUp                  *   ************* */}\n\n                        <button className=\"signUp-navbar treat-button\" type=\"button\" onClick={handleOpenSignUp}>Đăng ký</button>\n                        <Modal\n                            aria-labelledby=\"transition-modal-title\"\n                            aria-describedby=\"transition-modal-description\"\n                            className={classes.modal}\n                            open={openSignUp}\n                            onClose={handleCloseSignUp}\n                            closeAfterTransition\n                            BackdropComponent={Backdrop}\n                            BackdropProps={{\n                                timeout: 500,\n                            }}\n                        >\n                            <Fade in={openSignUp}>\n                                <div className={classes.paper}>\n                                    <RegisterForm />\n                                </div>\n                            </Fade>\n                        </Modal>\n\n                        {/* ************************************ End of the Modal   *********** */}\n\n                    </div>\n                </header>\n\n            </div>\n        </div>\n    )\n}\n\nexport default PageNotAuth\n","import React from 'react'\nimport \"react-toastify/dist/ReactToastify.css\"\nimport { isAuth } from \"../helpers/auth\";\nimport Mainpage from \"./chatComponent/main_page\"\nimport HomepageNotAuth from \"./loginComponent/PageNotAuth\"\n\n\nfunction HomePage() {\n    return (\n        <div className=\"main_page\">\n            { isAuth() ? < Mainpage /> :\n                <HomepageNotAuth />\n            }\n        </div >\n    )\n}\n\nexport default HomePage\n","import React from 'react'\nimport LoginForm from '../component/loginComponent/LoginForm'\n\n\nfunction RequireLogin({ onClick }) {\n    return (\n        <div\n            aria-labelledby=\"transition-modal-title\"\n            aria-describedby=\"transition-modal-description\"\n            className=\"paper\"\n        >\n            <span onClick={e => onClick(false)} className=\"close_button\">&#10005;</span>\n            <p>Để thực hiện yêu cầu bạn hãy đăng nhập họặc đăng ký</p>\n            <LoginForm />\n            <button style={{ backgroundColor: \"rgba(46, 229, 156, 0.788)\" }} className=\"facebook_login\">Đăng ký</button>\n        </div>\n    )\n}\n\nexport default RequireLogin\n","import React, { useState } from 'react'\nimport Dropzone from 'react-dropzone'\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport CreateOutlinedIcon from '@material-ui/icons/CreateOutlined';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport axios from \"axios\";\nimport { getCookie } from './auth';\nimport RequireLogin from './requireLogin';\n// import { emoji } from '../../../helpers/emoji';\nimport { IconButton, Menu } from '@material-ui/core';\nimport { toast } from \"react-toastify\"\n\nfunction Index() {\n    const [text, setText] = useState(\"\")\n    const [file, setFile] = useState([])\n    // const [dataFile, setDataFile] = useState(\"\")\n    const [open, setOpen] = useState(false)\n    const [login, setLogin] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const id = getCookie().token;\n\n    const dragFile = (file) => {\n        let data = file[0];\n        let reader = new FileReader()\n        reader.readAsDataURL(data)\n        reader.onloadend = () => {\n            setFile(value => [...value, reader.result])\n        }\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        text && axios.post(\"http://localhost:2704/api/news/post\", { text, file, id })\n            .then(data => {\n                toast.success(\"Bài viết của ban đã được đăng\")\n                handleClose()\n            }).catch(err => {\n                console.log(err)\n            })\n    }\n    const handleOpen = () => {\n        if (!id) {\n            setLogin(true)\n        } else {\n            setOpen(true);\n        }\n\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const handleDeleteImamge = (index) => {\n        const arr = [...file]\n        arr.splice(index, 1)\n        setFile(arr)\n    }\n    const handleChangeText = e => {\n        setText(e)\n    }\n    const handleLineBreak = e => {\n        if (e.key === \"Enter\") {\n            let value = text + \"<br/>\"\n            setText(value)\n        }\n    }\n    const handleOpenEmo = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleCloseEmo = () => {\n        setAnchorEl(null);\n    };\n    const emojiSubmit = (e, emo) => {\n        let value = text + \" &#\" + emo + \";\"\n        handleChangeText(value)\n        handleCloseEmo()\n    }\n\n    return (\n        <div className=\"post_data inner_title\">\n            {login === true ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            <button className=\"post_data_button\" type=\"button\" onClick={handleOpen}>\n                <CreateOutlinedIcon />\n            </button>\n            <span className=\"title\" id=\"post_blog_title\">\n                Đăng tải bài viết của bạn\n                </span>\n            <Modal\n                className=\"modal_post_blog\"\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                // className={classes.modal}\n                open={open}\n                onClose={handleClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={open}>\n                    <form onSubmit={handleSubmit} className=\"form_post_blog\">\n                        <div className=\"close_form_button\">\n                            <IconButton onClick={handleClose}>\n                                x\n                            </IconButton>\n                        </div>\n                        <h4>Đăng tải </h4>\n                        <div id=\"form_post_blog_div\">\n                            <div className=\"input_extension\">\n                                <IconButton aria-controls=\"simple_menu_emoji\" aria-haspopup=\"true\" onClick={handleOpenEmo}>\n                                    <img alt=\"emoji_image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABmJLR0QA/wD/AP+gvaeTAAAC/klEQVRIie2SX2jVdRjGn+9vO5PTFuMcK9ESFHXIiiQmjUDCYDbXRX9uRjACwwuhP8JCuoiiIxRUohdBfxbDi9kIpIv+UyAhrjDoJGp6IVoMzTnz7HjmdP9+7/M+XvzOOW47u/Vuz9WX7/t+n8/L+3yBJS3pbilUDkeem2iNQpR2V9zxXdPpuU0/dU201kVMOzXW9XNm+HBHsTnFaH2lTnA6Jm6cO5a9nEPwhZDoziF8IikfAk4defbm9sr9j8+UNst1Jo5DPrbwKgA0ePSBpDxdeTPlGYczwcLFlieKxUOPF74cbP9/w6KQENDrAkkhNvVW7mVhL12B1FWa3gcAc6VIgJToum7UJF0g1eyOntjCiYNthfYayFPfNJ10qp8U3PX0953XN327rbSZVBcpOH3PC0czJQAwA8qm4y/+ns32HF/eCNo60gdIwUxNNsuDOSiaB0mm9rdIjZGCW9jtjvdIBad+e/5oZrDaRwcpkKq+7flzxb/Df93/Mqk/yrXWBzZeeawGsv2X5qI79pabXqKpk4RReiUgVB1tEQgA5BDcXANWrsUeHqmBAMD0rRv9pCZJpMpGQ93Hsn/P7SEBWwQCAIw1QiqpGxoXhYSGxl5S91AaJwW6tg60F7fMMzKBlhgtVExfa5YM4NRoDeTrJ8c30PB2kom/Q2KIVHDj531tSlUhQrIuW7Curap3+k53QQ5rSIWheRBBYTa2T0mlSY3Wh6l+M99nycQPByu8Xum12GEUjHfeHlh3aX3T8MiglOSACF/svrDy2jzIV+3FHU51lL/gh93HV0/tOHHfD6ROJuvx3GcthQeTTCrBe/P+tZeL+9eM3HJG5wF0l+1+jWLfU/GOAGBwSyljrn3JdBptXDbdBwABQTH93SREv3c2zH5UzmTGzEEqSMgASAMQgFNBeO3mmlWdb/y3eqqaMwD0tSm1TIVHYwA+U3dt19nsxbm7/rjl6iaR9TOhrvTmhRX/HHjoUjpEDSsrdU9ZPDEVxnIjqyZrfsKSlnRXdRsr+i4fv8vwiwAAAABJRU5ErkJggg==\" />\n                                </IconButton>\n                                <IconButton>\n                                    <img alt=\"setting_image\" src=\"data:image/png;base64,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\" />                                </IconButton>\n                                <Menu\n                                    id=\"simple_menu_emoji\"\n                                    anchorEl={anchorEl}\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    onClose={handleCloseEmo}>\n                                </Menu>\n                            </div>\n                            <div\n                                contentEditable={true}\n                                onKeyPress={handleLineBreak}\n                                id=\"type_text_div\"\n                                onInput={e => handleChangeText(e.target.innerText)} >\n                            </div>\n                        </div>\n                        <Dropzone\n                            className=\"inner_title\"\n                            onDrop={acceptedFiles => dragFile(acceptedFiles)}>\n                            {({ getRootProps, getInputProps }) => (\n                                <section >\n                                    <div className=\"drag_file\" {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <div className=\"icon\">\n                                            <CloudUploadIcon />\n                                        </div>\n                                    </div>\n                                </section>\n\n                            )}\n                        </Dropzone>\n                        <div>\n                            <div className=\"image_post_news\">\n                                {\n                                    typeof file !== 'undefined' ? Object.values(file).map(function (value, index) {\n                                        return <li key={index}>\n                                            <img alt=\"image_upload\" src={value}></img>\n                                            <span onClick={() => handleDeleteImamge(index)}>&#10005;</span>\n                                        </li>\n                                    }) : {}}\n                            </div>\n                        </div>\n                        <IconButton id=\"upload_submit_button\" type=\"submit\">\n                            <img alt=\"upload_image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABWUlEQVRoge2XPU7DQBBGZ1AoENAhhUOEboVEQx0uQ86A0kAHFRUiZwAKJCoaKPAJqEC0CA4A6NEswjiOf0I2XsM8aaX1eOT5niXbsohhGIZhRAqwCtz7tdJ0nqkAloAbvrkDlpvOVQsvccU4162RKZBoj0yOxElqf9wKmRyJA6CXOu4Be9HLABepkENf+yHia8NU7bzZ1BkABV7SEr4+JuLrXzKvgDaTegLABtDP1HJF/LmdbC1aikRmzULIi88TE4kNE4kNE4kNE4kNE4mNTuDrP4rIk4ggIg+BZ4UF6AChb5iU/gskSbKmqlvApXPuLXSgzOxFVe0Dt86556LeKs/ICDgTkd3ZxKvFwM8+LWssFQG6frv+21RT0PUZSmf/mbeWicSGicRGnQ/VdpIk+8GSTJhZtbFURFU//HbTr7mTyjCRUhHgSFUHVXoD8Q4cNjTbMAzD+Cd8AmWxfs2z9GiSAAAAAElFTkSuQmCC\" />\n                        </IconButton>\n                    </form>\n                </Fade>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Index\n","import React from 'react'\n\nfunction SkeletonShare({ type }) {\n    const classes = `skeleton ${type}`\n    return (\n        <div className={classes}>\n\n        </div>\n    )\n}\n\nexport default SkeletonShare\n","import React from 'react'\nimport SkeletonShape from \"./SkeletonShape\"\n\nfunction Skeleton() {\n    return (\n        <div className=\"skeleton_div\">\n            <div className=\"blog_skeleton_wrapper\">\n                <SkeletonShape type=\"avatar\" />\n                <SkeletonShape type=\"text\" />\n                <SkeletonShape type=\"image\" />\n                <SkeletonShape type=\"likeShare\" />\n            </div>\n        </div>\n\n\n    )\n}\n\nexport default Skeleton\n","import React, { useState } from 'react'\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { getCookie } from './auth';\nimport RequireLogin from './requireLogin';\nimport socketApp from '../socket';\n\nconst SeeLike = (cb) => {\n    const { value, i, className } = cb.props\n    let socket = socketApp.getSocket();\n    const [like, setLike] = useState(value.likes)\n    const [isLiked, setIsLiked] = useState(value.isLiked)\n    const id = getCookie().token\n    const [login, setLogin] = useState(false)\n\n    const handleLike = (data) => {\n        if (!id) {\n            setLogin(true)\n        } else {\n            socket.emit(\"like\", { value: data, id }, error => {\n                if (error === \"error\") {\n                    setLike(like - 1)\n                    setIsLiked(false)\n                } else {\n                    setIsLiked(true)\n                    setLike(like + 1)\n                }\n            })\n        }\n    }\n    return (\n        <>\n            {login === true ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            {\n                isLiked === true ?\n                    <div className={className}>\n                        <input\n                            defaultChecked={true}\n                            onClick={e => handleLike(value.idBlog)}\n                            type=\"checkbox\"\n                            id={\"like_button_label\" + i} />\n                        <label htmlFor={\"like_button_label\" + i} >\n                            <span className=\"like\" >\n                                <FavoriteIcon /> {like}\n                            </span>\n                        </label>\n                    </div> :\n                    <div className={className}>\n                        <input\n                            onClick={e => handleLike(value.idBlog)}\n                            type=\"checkbox\"\n                            id={\"like_button_label\" + i} />\n                        <label htmlFor={\"like_button_label\" + i} >\n                            <span className=\"like\">\n                                <FavoriteBorderIcon /> {like}\n                            </span>\n                        </label>\n                    </div>\n            }\n        </>\n    )\n}\n\nexport default SeeLike","import React, { useState } from 'react'\nimport { getCookie } from \"./auth\";\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport socketApp from '../socket';\nimport RequireLogin from './requireLogin';\n\nconst LikeComment = (props) => {\n    let socket = socketApp.getSocket();\n    const { data, value } = props.props\n    const { i } = props.props\n    const [like, setLike] = useState(data.likes)\n    const [isLiked, setIsLiked] = useState(data.isLiked)\n    const [login, setLogin] = useState(null)\n    const idUser = getCookie().token\n\n    const handleLike = () => {\n        if (!idUser) {\n            setLogin(true)\n        } else {\n            setLike(like + 1)\n            setIsLiked(true)\n            socket.emit(\"likeCmt\", { value, id: idUser, idComment: data.id }, callback => {\n                if (callback === \"error\") {\n                    setLike(like - 1)\n                    setIsLiked(false)\n                } if (callback === \"exists\") {\n                    setLike(like - 1)\n                    setIsLiked(false)\n                }\n            })\n        }\n    }\n    return (\n        <div className=\"list\">\n            {login ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            {\n                isLiked === true ?\n                    <div>\n                        <input\n                            defaultChecked={true}\n                            onClick={e => handleLike()}\n                            type=\"checkbox\"\n                            id={\"like_button_label \" + i + data} />\n                        <label htmlFor={\"like_button_label \" + i + data} >\n                            <li className=\"like\">\n                                <FavoriteIcon /> {like}\n                            </li>\n                        </label>\n                    </div> :\n                    <div>\n                        <input\n                            defaultChecked={like}\n                            onClick={e => handleLike()}\n                            type=\"checkbox\"\n                            id={\"like_button_label \" + i + data} />\n                        <label htmlFor={\"like_button_label \" + i + data} >\n                            <li className=\"like\">\n                                <FavoriteBorderIcon /> {like}\n                            </li>\n                        </label>\n                    </div>\n            }\n        </div>\n    )\n}\n\nexport default LikeComment\n","import React, { useState } from 'react'\nimport { MenuItem, Menu } from '@material-ui/core';\n\nfunction ShareBlog(cb) {\n    const [anchorEl, setAnchorEl] = useState(null);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    return (\n        <div className=\"share\">\n            <span className=\"list\" aria-controls=\"share-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABg0lEQVRIie2WzysEYRjHv+PHHJZic1DaktZ1c+MiJ5JNuHAnyd2B8uPs6IirIhcphT9ASXGRy6bkruRCstqPw87UGLvvzOzOlORzmuZ95vm8z/POO/NK//x1rLgTApakMUnDkmxJN5IOLMt6j9vllaaAc35yD/QmKd6tIHW5A5qSkKaBokEMkHfjG2KSZiRtSgqqKOde1Fw6YEualDQnaURSY4jHXoKSZoEZYALo8I3lgC3gKaCtfj6A7mrCVmAfKHkeeAM2gAXgIoSgVOX+qqnS44hVuDwDO0AfMAhceibwAMyapAMRZUXgBJgCmivkawM6jWvqBC6FFBaAFaArMKkB73ainkQ1A/TH3Or2UK12go8iyl28L9cQcOUZewTmg8QtwB7ft8QrsEb922k9TOU9wDQwDqR9Y/F/QKIA2M7kzoDPkPLFusW+SWQor3EQy7GKHXnaaaeJfHCm2uTbBuktSRwEHHEKOK0gLQBZb2xSh71Rlf/RtqRrSYeJHvb++ZV8AUop95XdByhYAAAAAElFTkSuQmCC\" />  Share\n            </span>\n            <Menu\n                id=\"share-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <MenuItem >\n                    <div\n                        className=\"fb-share-button\"\n                        data-href=\"https://developers.facebook.com/docs/plugins/\"\n                        data-layout=\"button\"\n                        data-size=\"large\">\n                        <a\n                            rel=\"noreferrer\"\n                            target=\"_blank\"\n                            href=\"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse\"\n                            className=\"fb-xfbml-parse-ignore\">\n                            Chia sẻ\n                            </a>\n                    </div>\n                </MenuItem>\n                <MenuItem >My account</MenuItem>\n                <MenuItem >Logout</MenuItem>\n            </Menu>\n        </div>\n    )\n}\n\nexport default ShareBlog","import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport Skeleton from \"../../../helpers/Skeleton\"\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"../../style/viewBlog.css\"\nimport { getCookie } from '../../../helpers/auth';\nimport SeeLike from \"../../../helpers/seeLike\"\nimport LikeComment from \"../../../helpers/likeComment\"\n\nimport RequireLogin from '../../../helpers/requireLogin';\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\nimport ShareBlog from \"../../../helpers/shareBlog\"\nimport { ImageRender } from '../../../helpers/news';\nimport { IconButton } from '@material-ui/core';\nimport { MessageContainer } from '../../../helpers/message';\n\nfunction ViewBlog() {\n    const [start, setStart] = useState(0)\n    const [end, setEnd] = useState(3)\n    const [blog, setBlog] = useState([])\n    const [hasmore, setHasmore] = useState(true)\n\n    const id = getCookie().token\n    const [login, setLogin] = useState(false)\n\n    const fetchData = () => {\n        setTimeout(() => {\n            setStart(start + 3)\n            setEnd(end + 3)\n        }, 1500);\n    }\n    // const handleValidateLogin = () => {\n    //     if (id) setLogin(null)\n    //     else setLogin(\"ok\")\n    // }\n    const setBlogRes = async (res) => {\n        let a = res.data.data\n        try {\n            for await (let value of a) {\n                setBlog(a => [...a, value])\n            }\n        } catch (error) {\n            return\n        }\n\n    }\n    const handleError = () => {\n        return (\n            <div>\n                Có lỗi đả xảy ra bạn hãy thử lại sau\n            </div>\n        )\n    }\n    useEffect(() => {\n        let fn = () => {\n            if (id) {\n                axios.get(\"http://localhost:2704/api/news/data?start=\" + start + \"&end=\" + end + \"&id=\" + id)\n                    .then(res => {\n                        if (res.data.data !== undefined) setBlogRes(res)\n                        else setHasmore(false)\n                    })\n                    .catch(err => {\n                        handleError()\n                    })\n            } else {\n                axios.get(\"http://localhost:2704/api/news/dataNo?start=\" + start + \"&end=\" + end)\n                    .then(res => {\n                        setBlogRes(res)\n                    })\n                    .catch(err => {\n                        handleError()\n                    })\n            }\n        }\n        fn()\n    }, [end])\n\n    const CommentRender = (cb) => {\n        const { value, i } = cb.props\n        return <>\n            {\n                value.comment[i] !== undefined ? <div className=\"comment_blog\">\n                    <div className=\"content\">\n                        <img alt=\"avatart_user\" src=\"./demo.jpeg\"></img>\n                        <span>{value.comment[i].value}</span>\n                        <div className=\"activities\">\n                            <LikeComment props={{ data: value.comment[i], i: value.comment[i].id + i, value: value.idBlog }} />\n                        </div>\n                    </div>\n\n                </div> : console.log()\n            }\n        </>\n    }\n    return (\n        <div className=\"viewBlog\">\n            {blog.length === 0 && <Skeleton />}\n            {login ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            <MessageContainer />\n            <InfiniteScroll\n                dataLength={blog.length}\n                next={fetchData}\n                hasMore={hasmore}\n                loader={<Skeleton />}\n            >\n                {\n                    blog !== undefined ? blog.map(function (value, i) {\n                        return (\n                            <div className=\"viewBlog_li\" key={i}>\n                                <div className=\"contain_blog\" >\n                                    <IconButton className=\"menu\">\n                                        <span>&#8942;</span>\n                                    </IconButton>\n                                    <div className=\"profile\">\n                                        <img alt=\"profile_image\" src=\"./demo.jpeg\"></img>\n                                        <div className=\"profile_text\">\n                                            <span>Người tỏa sáng nhất là người cô độc nhất</span>\n                                            <div className=\"text_blog\">\n                                                {\n                                                    value.text.map(function (data, i) {\n                                                        return <p key={i}>{data}</p>\n                                                    })\n                                                }\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {/* Render Image */}\n                                    <div className=\"image-blog\">\n                                        <ImageRender props={{ value }} />\n                                    </div>\n                                    <div className=\"activities_blog\">\n                                        <SeeLike props={{ value, i, className: \"inner\" }} />\n                                        <div className=\"inner\">\n                                            <Link to={\"/posts/id=\" + value.idBlog}>\n                                                <li className=\"comment list\">\n                                                    <ChatBubbleOutlineIcon />   Comment\n                                                </li>\n                                            </Link>\n                                        </div>\n                                        <div className=\"inner share\">\n                                            <ShareBlog />\n                                        </div>\n                                    </div>\n                                    <div className=\"comment_blog_view\">\n                                        <CommentRender props={{ value, i: 0 }} />\n                                        <CommentRender props={{ value, i: 1 }} />\n                                        <CommentRender props={{ value, i: 2 }} />\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                    }) : {}\n                }\n            </InfiniteScroll>\n        </div>\n    )\n}\n\nexport default ViewBlog","import React, { useEffect, useContext } from 'react'\nimport \"../style/newspage.css\"\nimport PostBlogMain from \"../../helpers/postBlog\"\nimport ViewBlogMain from \"./viewBlog/viewBlog\"\nimport socketApp from \"../../socket\"\nimport { ToastContainer } from \"react-toastify\";\nimport { Notifications } from '../../userContext';\nimport { HeaderPage, NavbarRight } from '../../helpers/news'\n\nfunction NewsMain() {\n    // const id = getCookie().token || \"\"\n    const { value, setValue } = useContext(Notifications);\n    let socket = socketApp.getSocket();\n\n    useEffect(() => {\n        socket.on(\"activities\", async (msg) => {\n            let arr = {\n                type: msg.type,\n                value: msg.value,\n                number: msg.number\n            }\n            let i = 0\n            for await (let data of value) {\n                if (data.type === arr.type && data.value === arr.value) {\n                    let old = [...arr]\n                    old.splice(i, 1)\n                    old.unshift(data)\n                    setValue(old)\n                } else {\n                    setValue(a => [...a, arr])\n                }\n                i++\n            }\n            if (value.length === 0) {\n                setValue(a => [...a, arr])\n            }\n        })\n    }, [])\n    return (\n        <div className=\"news_page\">\n            <ToastContainer />\n            <HeaderPage value={value} />\n            <div className=\"container\" id=\"news\" style={{ height: \"max-content\" }}>\n                <NavbarRight />\n                <div className=\"main_news\">\n                    <PostBlogMain />\n                    <ViewBlogMain />\n                </div>\n\n            </div>\n        </div >\n    )\n}\n\nexport default NewsMain\n","import React from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { signOut } from \"../helpers/auth\"\n\nfunction Main_block() {\n\n    const history = useHistory()\n    const handleSubmit = () => {\n        history.push(\"/\")\n        signOut()\n    }\n    return (\n        <div className=\"block_page\">\n            <div className=\"paper\">\n                <div className=\"header\">\n                </div>\n                <div className=\"body\">\n                    <p> Bạn đã bị khóa tài khoản trong vòng 30 ngày do những hành vi bạn đã phạm phải\n                       <br></br>\n                       Hãy xây dựng 1 cộng đồng thực sự lành mạnh xin cảm ơn\n                    </p>\n                </div>\n                <div className=\"end\">\n                    <button onClick={handleSubmit}>Xác nhận</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Main_block\n","import React, { useState, useEffect } from 'react'\nimport { ToastContainer, toast } from \"react-toastify\";\nimport axios from \"axios\"\nimport LikeComment from \"./likeComment\"\nimport ChatBubbleOutlineOutlinedIcon from '@material-ui/icons/ChatBubbleOutlineOutlined';\nimport { IconButton } from '@material-ui/core';\nimport RequireLogin from './requireLogin';\nimport socketApp from '../socket';\n\nfunction Comment(props) {\n    const { value, id } = props.props\n    let socket = socketApp.getSocket();\n    const [text, setText] = useState(\"\")\n    const [start, setStart] = useState(0)\n    const [end, setEnd] = useState(10)\n    const [comment, setComment] = useState([])\n    const [login, setLogin] = useState(null)\n    const [load, setLoad] = useState(false)\n    const [buttonFind, setButtonfind] = useState(true)\n\n    const handleSubmit = (e) => {\n        if (text.length > 0) {\n            e.preventDefault()\n            setText(\"\")\n            socket.emit(\"comment\", { idRecieve: value.idBlog, idSent: id, value: text }, (error) => {\n                if (error === \"error\") {\n                    toast.error(\"Có lỗi đó xảy ra bạn hãy thử lại sau\")\n                } else {\n                    toast.success(\"Yêu cầu của bạn đã được thực hiện\")\n                }\n            })\n        }\n    }\n    const fetchData = () => {\n        setLoad(true)\n        setTimeout(() => {\n            setStart(start + 10)\n            setEnd(end + 10)\n        }, 1500)\n    }\n    const handleLoginValidate = () => {\n        if (!id) {\n            setLogin(true)\n        } else {\n            setLogin(null)\n        }\n    }\n    let loadMoreButton = <div className=\"button_load_more\">\n        {load === false ? <button onClick={fetchData}>Tải thêm</button>\n            :\n            <div className=\"loaderBalls\">\n                <div className=\"yellow\"></div>\n                <div className=\"red\"></div>\n                <div className=\"blue\"></div>\n            </div>\n        }\n    </div>\n\n    useEffect(() => {\n        axios.get(\"http://localhost:2704/api/news/comment?start=\" + start + \"&end=\" + end + \"&id=\" + id + \"&blog=\" + value.idBlog)\n            .then(async res => {\n                let a = res.data.data\n                if (a.length >= 4) {\n                    setButtonfind(false)\n                    return setLoad(false)\n                }\n                for await (let value of a) {\n                    setComment(a => [...a, value])\n                }\n                setLoad(false)\n            })\n            .catch(err => {\n                return (\n                    <div>\n                        Có lỗi đả xảy ra bạn hãy thử lại sau\n                    </div>\n                )\n            })\n    }, [end])\n    return (\n        <div className=\"comment_a_blog\">\n            {login ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            <ToastContainer />\n            <form className=\"input-container ex\" onSubmit={handleSubmit}>\n                <div\n                    onClick={handleLoginValidate}\n                    suppressContentEditableWarning={true}\n                    contentEditable\n                    id=\"txtSearch\"\n                    onInput={e => setText(e.target.innerText)}\n                >\n                </div>\n                <IconButton type=\"submit\" id=\"btnSearch\" className=\"comment\">\n                    <ChatBubbleOutlineOutlinedIcon />\n                </IconButton>\n            </form>\n            {\n                comment.length > 0 ? comment.map(function (vari, i) {\n                    return (\n                        <div key={i} className=\"content_comment_a_blog\">\n                            <div className=\"value_content_comment_a_blog\">\n                                <img alt=\"avatar_user\" src=\"../demo.jpeg\"></img>\n                                <div>\n                                    {\n                                        vari.data.map(function (data, index) {\n                                            return <p key={index}>{data}</p>\n                                        })\n                                    }\n                                    <LikeComment props={{ data: vari, i, value: value.idBlog }} />\n                                </div>\n                            </div>\n\n                        </div>\n                    )\n                }) : console.log()\n            }\n            {buttonFind === true && comment.length > 5 ? loadMoreButton : console.log()}\n        </div>\n    )\n}\n\nexport default Comment\n","import React, { useState, useEffect } from 'react'\nimport { getCookie } from '../../../helpers/auth';\nimport axios from \"axios\"\nimport { Slide } from 'react-slideshow-image';\nimport 'react-slideshow-image/dist/styles.css'\nimport LikePost from \"../../../helpers/seeLike\"\nimport Comment from \"../../../helpers/comment\"\nimport { Link } from \"react-router-dom\";\nimport ArrowBackIosOutlinedIcon from '@material-ui/icons/ArrowBackIosOutlined';\nimport ShareBlog from \"../../../helpers/shareBlog\"\nimport { HeaderPage } from '../../../helpers/news';\nimport { IconButton } from '@material-ui/core';\n\n\nfunction ViewOneBlog(props) {\n    const id = getCookie().token\n    const [data, setData] = useState(null)\n\n    let arr = props.location.pathname.split(\"/\")\n\n    useEffect(() => {\n        axios.get(\"http://localhost:2704/api/news/post?\" + arr[2] + \"&user=\" + id)\n            .then(value => {\n                setData(value.data)\n            }).catch(err => {\n                console.log(err)\n            })\n    }, [arr[2]])\n\n    const Slideshow = () => {\n        const zoomInProperties = {\n            indicators: true,\n            scale: 1.4\n        }\n        return (\n            <div className=\"slide-container flex\">\n                <Slide {...zoomInProperties} className=\"slide\" autoplay={false}>\n                    {\n                        data.img.map(function (value, i) {\n                            return <div key={i}>\n                                <div className=\"image-container\" >\n                                    <img alt={value.slice(100, 110)} src={value} />\n                                </div>\n                            </div>\n                        })\n                    }\n                </Slide>\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"post_viewing\">\n            <HeaderPage />\n            <Link className=\"go_to_previous\" to=\"/news\">\n                <ArrowBackIosOutlinedIcon />\n                <span>\n                    Quay lại\n                </span>\n            </Link>\n            {\n                data !== null ? <div className=\"post_viewing_div\">\n                    {\n                        data.img !== undefined ? <Slideshow />\n                            : <div className=\"slide-container flex\">\n                            </div>\n                    }\n                    <div className=\"content flex\">\n                        <IconButton className=\"menu\">\n                            <span>&#8942;</span>\n                        </IconButton>\n                        <div className=\"content_div\">\n                            <img alt=\"this is your avatar\" src=\"/demo.jpeg\"></img>\n                            <span>{data.time}</span>\n                            {\n                                data.text.map(function (value, i) {\n                                    return <p key={i}>{value}</p>\n                                })\n                            }\n                        </div>\n\n                        <div className=\"extension_blog\">\n                            <LikePost props={{ value: data, i: \"1\", className: \"ex night\" }} />\n                            <div className=\"ex night\">\n                                <ShareBlog />\n                            </div>\n                        </div>\n                        <Comment props={{ value: data, id: id }} />\n                    </div>\n                </div> : console.log()\n            }\n        </div>\n    )\n}\n\nexport default ViewOneBlog\n","import React from 'react'\nimport { NavbarRight, HeaderPage } from '../../helpers/news'\nimport \"../style/policy.css\"\n\nfunction Policy() {\n    return (\n        <div className=\"policy_div\">\n            <HeaderPage />\n\n            <div className=\"policy\">\n                <NavbarRight />\n                <div className=\"content\">\n                    <h1>\n                        Điều khoản dịch vụ\n                </h1>\n                    <h3> 1.Điều khoản dịch vụ </h3>\n                    <p>Facebook tạo ra các công nghệ và dịch vụ nhằm hỗ trợ mọi người kết nối với nhau, xây dựng cộng đồng và phát triển doanh nghiệp. Các Điều khoản này điều chỉnh việc bạn sử dụng Facebook, Messenger và các sản phẩm, tính năng, ứng dụng, dịch vụ, công nghệ cũng như phần mềm khác mà chúng tôi cung cấp (Sản phẩm của Facebook hoặc Sản phẩm), trừ khi chúng tôi nêu rõ là áp dụng các điều khoản riêng (và không áp dụng các điều khoản này). Các sản phẩm này do Facebook, Inc. cung cấp cho bạn.</p>\n                    <p>Bạn không mất phí sử dụng Facebook hay các sản phẩm và dịch vụ khác thuộc phạm vi điều chỉnh của những Điều khoản này. Thay vào đó, các doanh nghiệp và tổ chức sẽ phải trả tiền cho chúng tôi để hiển thị quảng cáo sản phẩm và dịch vụ của họ cho bạn. Khi sử dụng Sản phẩm của chúng tôi, bạn đồng ý để chúng tôi hiển thị quảng cáo mà chúng tôi cho rằng phù hợp với bạn cũng như sở thích của bạn. Chúng tôi sử dụng dữ liệu cá nhân của bạn để quyết định nên hiển thị quảng cáo nào cho bạn.</p>\n                    <p>Chúng tôi không bán dữ liệu cá nhân của bạn cho các nhà quảng cáo và cũng không chia sẻ thông tin trực tiếp nhận dạng bạn (chẳng hạn như tên, địa chỉ email hoặc thông tin liên hệ khác) với những đơn vị này trừ khi được bạn cho phép cụ thể. Thay vào đó, các nhà quảng cáo có thể cho chúng tôi biết thông tin như kiểu đối tượng mà họ muốn nhìn thấy quảng cáo và chúng tôi có thể hiển thị những quảng cáo ấy cho người có thể quan tâm. Chúng tôi báo cáo cho các nhà quảng cáo về hiệu quả quảng cáo, từ đó những đơn vị này có thể nắm được cách mọi người tương tác với nội dung của họ. Xem Phần 2 bên dưới để tìm hiểu thêm.</p>\n                    <h3>\n                        2. Cách chúng tôi duy trì dịch vụ của mình\n                </h3>\n                    <p>Thay vì phải trả phí để sử dụng Facebook cùng với các sản phẩm và dịch vụ khác do chúng tôi cung cấp, khi sử dụng Sản phẩm của Facebook thuộc phạm vi điều chỉnh của các Điều khoản này, bạn đồng ý cho chúng tôi hiển thị với bạn quảng cáo mà các doanh nghiệp và tổ chức đã trả tiền để quảng bá trên và ngoài Sản phẩm của các công ty thuộc Facebook. Chúng tôi sử dụng dữ liệu cá nhân, chẳng hạn như thông tin về hoạt động và sở thích, để hiển thị cho bạn những quảng cáo phù hợp hơn. </p>\n                    <p>Bảo vệ quyền riêng tư của mọi người chính là điều mà chúng tôi chú trọng khi thiết kế hệ thống quảng cáo của mình. Điều này nghĩa là chúng tôi có thể hiển thị cho bạn quảng cáo phù hợp và hữu ích mà không tiết lộ thông tin cá nhân của bạn với các nhà quảng cáo. Chúng tôi không bán dữ liệu cá nhân. Chúng tôi cho phép các nhà quảng cáo cung cấp thông tin như mục tiêu kinh doanh và kiểu đối tượng mà họ muốn hiển thị quảng cáo (ví dụ: những người trong độ tuổi từ 18-35 thích đạp xe). Khi đó, chúng tôi sẽ hiển thị quảng cáo của họ cho những người có thể quan tâm. </p>\n                    <p>Chúng tôi cũng báo cáo hiệu quả quảng cáo cho các nhà quảng cáo để họ nắm được cách mọi người tương tác với nội dung của mình trên và ngoài Facebook. Ví dụ: chúng tôi cung cấp thông tin chung về sở thích và nhân khẩu học cho nhà quảng cáo (ví dụ: một phụ nữ trong độ tuổi từ 25 đến 34 tuổi sống ở Madrid đã xem quảng cáo và thích kỹ thuật phần mềm) để giúp họ hiểu rõ hơn về đối tượng của mình. Chúng tôi không chia sẻ thông tin trực tiếp nhận dạng bạn (chẳng hạn như tên hoặc địa chỉ email có thể dùng để liên hệ với bạn hoặc xác định bạn là ai), trừ khi được bạn cho phép cụ thể. Tìm hiểu thêm về cách hoạt động của quảng cáo trên Facebook tại đây. </p>\n                    <p>Chúng tôi thu thập và sử dụng dữ liệu cá nhân của bạn để cung cấp cho bạn dịch vụ được mô tả ở trên. Bạn có thể tìm hiểu về cách chúng tôi thu thập và sử dụng dữ liệu của bạn trong Chính sách dữ liệu của chúng tôi. Bạn có quyền kiểm soát loại quảng cáo và nhà quảng cáo mà mình nhìn thấy, cũng như loại thông tin chúng tôi sử dụng để xác định hiển thị quảng cáo nào cho bạn. Tìm hiểu thêm. </p>\n                    <h3>\n                        3. Những quyền bạn cấp cho chúng tôi\n                </h3>\n                    <p>Chúng tôi cần bạn cấp một số quyền để cung cấp dịch vụ: </p>\n                    <p>1. Quyền sử dụng nội dung bạn tạo và chia sẻ: Một số nội dung mà bạn chia sẻ hoặc tải lên, chẳng hạn như ảnh hay video, có thể được luật sở hữu trí tuệ bảo vệ. </p>\n                    <p>2. Bạn có quyền sở hữu trí tuệ (chẳng hạn như bản quyền hoặc nhãn hiệu hàng hóa) đối với mọi nội dung mà mình tạo và chia sẻ trên Facebook cũng như trên những Sản phẩm khác của các công ty thuộc Facebook mà bạn sử dụng. Các Điều khoản này không có quy định nào tước bỏ những quyền mà bạn có đối với nội dung của chính mình. Bạn được tự do chia sẻ nội dung của mình với bất kỳ ai khác, ở bất cứ đâu bạn muốn. </p>\n                    <p>3. Tuy nhiên, để chúng tôi cung cấp dịch vụ, bạn cần cấp cho chúng tôi một số quyền pháp lý (gọi là \"giấy phép\") để sử dụng nội dung đó. Việc này chỉ nhằm mục đích cung cấp và cải thiện Sản phẩm cũng như dịch vụ của chúng tôi được mô tả trong Phần 1 ở trên</p>\n                    <p>4. Cụ thể, khi bạn chia sẻ, đăng hoặc tải lên nội dung được bảo vệ theo quyền sở hữu trí tuệ trên hoặc liên quan đến Sản phẩm của chúng tôi, bạn cấp cho chúng tôi một giấy phép không độc quyền, có thể chuyển nhượng, có thể cấp phép lại và miễn phí bản quyền trên toàn thế giới để lưu trữ, sử dụng, phân phối, sửa đổi, chạy, sao chép, trình diễn hoặc hiển thị công khai, dịch và tạo sản phẩm phái sinh từ nội dung của bạn (theo cài đặt quyền riêng tư và ứng dụng của bạn). Điều này nghĩa là, ví dụ: nếu chia sẻ ảnh trên Facebook, bạn cho phép chúng tôi lưu trữ, sao chép và chia sẻ ảnh đó với người khác (phù hợp với cài đặt của bạn), chẳng hạn như các nhà cung cấp dịch vụ hỗ trợ dịch vụ của chúng tôi hoặc các Sản phẩm khác của Facebook mà bạn sử dụng. Giấy phép này sẽ hết hiệu lực khi nội dung của bạn bị xóa khỏi hệ thống của chúng tôi. </p>\n                    <p>5. Quyền sử dụng tên, ảnh đại diện và thông tin về hành động của bạn với quảng cáo và nội dung được tài trợ: Bạn cho phép chúng tôi sử dụng tên, ảnh đại diện và thông tin về hành động của bạn trên Facebook bên cạnh hoặc liên quan đến quảng cáo, ưu đãi và các nội dung được tài trợ khác do chúng tôi hiển thị trên các Sản phẩm của mình mà không cần trả thù lao cho bạn. Ví dụ: chúng tôi có thể cho bạn bè của bạn biết rằng bạn quan tâm đến một sự kiện được quảng cáo hoặc đã thích Trang do một thương hiệu (đã trả tiền cho chúng tôi để hiển thị quảng cáo của họ trên Facebook) tạo ra. Các quảng cáo như vậy sẽ chỉ hiển thị với những người được bạn cho phép xem hành động của mình trên Facebook. Bạn có thể tìm hiểu thêm về cài đặt và tùy chọn quảng cáo. </p>\n                    <p>6. Quyền cập nhật phần mềm bạn sử dụng hoặc tải xuống: Việc bạn tải xuống hoặc sử dụng phần mềm của chúng tôi đồng nghĩa với việc bạn cho phép chúng tôi tải xuống và cài đặt các bản cập nhật phần mềm, nếu có.</p>\n\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Policy\n","import React, { useState, useEffect } from 'react'\nimport axios from \"axios\"\nimport \"./suggest.css\"\n\nfunction SuggestPage() {\n    const [data, setData] = useState([])\n    useEffect(() => {\n        axios.get(\"http://localhost:2704/api/suggest\")\n            .then(res => {\n                setData(res.data.data)\n            }).catch(err => {\n                console.log(err)\n            })\n    }, [])\n    return (\n        <div className=\"suggest_user\">\n            <section>\n                {data.map(function (value) {\n                    return <div >\n                        <p>{value._id}</p>\n                        {\n                            value.text && <p style={{ marginBottom: \"20px\" }}>{value.text}</p>\n                        }\n                        {\n                            value.file && <>\n                                {value.file.map(function (img) {\n                                    return <img alt=\"suggest_img\" src={img}></img>\n                                })}\n                            </>\n                        }\n\n                    </div>\n                })}\n            </section>\n\n        </div>\n    )\n}\n\nexport default SuggestPage\n","import React, { useMemo, useState, useEffect } from 'react'\nimport './App.css';\nimport { useHistory } from 'react-router-dom';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\"\nimport ActivatePage from './component/loginComponent/activate';\nimport Forget from './component/loginComponent/forget';\nimport ChangePassword from './component/loginComponent/changePassword';\nimport HomePage from './component/HomePage';\nimport Chat from './component/chatComponent/chat';\nimport NewsMain from './component/newsComponents/newsMain';\nimport Main_block from './component/main.block';\nimport ViewOneBlog from './component/newsComponents/viewBlog/viewOneBlog';\nimport { Notifications, MessageList } from './userContext';\nimport axios from \"axios\"\nimport { getCookie } from './helpers/auth';\nimport socketApp from './socket';\nimport { toast } from \"react-toastify\"\nimport Policy from './component/anotherPage/policy';\nimport SuggestPage from './component/anotherPage/suggestPage';\n\n\nfunction App() {\n  let socket = socketApp.getSocket()\n  const id = getCookie().token\n  const [value, setValue] = useState([]);\n  const [listMessage, setListMessage] = useState(null)\n  const notifications = useMemo(() => ({ value, setValue }), [value, setValue]);\n  const messageList = useMemo(() => ({ listMessage, setListMessage }), [listMessage, setListMessage])\n  const [start, setStart] = useState(0);\n  const [end, setEnd] = useState(10);\n  const history = useHistory()\n\n\n  let forLoop = (arr, msgs) => {\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].idRoom === msgs.idRoom && i !== 0) {\n        arr.splice(i, 1)\n        arr.unshift(msgs)\n        return setListMessage(arr)\n      }\n      else if (arr[i].idRoom === msgs.idRoom && i === 0) {\n        arr[0] = msgs\n        return setListMessage(arr)\n      }\n    }\n  }\n  let fnc = () => {\n    let arr = [...listMessage]\n    socket.once(\"message\", msgs => msgs.type === \"message\" && forLoop(arr, msgs))\n  }\n\n  useEffect(() => {\n    id && socket.emit(\"join\", { id })\n    socket.on(\"activities\", msg => toast.info(msg.number + msg.value))\n  }, [socket, id])\n\n  useEffect(() => {\n    axios.get(\"http://localhost:2704/api/news/notifications?id=\" + id + \"&start=0&end=10\")\n      .then(res => {\n        let fnc = () => {\n          for (let data of res.data.value) {\n            let arr = {\n              type: data.value,\n              value: data.type,\n              number: data.number\n            }\n            setValue(a => [...a, arr])\n          }\n        }\n        res.data.value !== undefined && fnc()\n      }).catch(err => { })\n\n    axios.post(\"http://localhost:2704/api/msgC/contactL?start=\" + start + \"&end=\" + end, { id })\n      .then(res => {\n        if (res.data.message) history.push(\"/report\")\n        else setListMessage(res.data)\n      }).catch(err => { })\n  }, [id])\n\n  useEffect(() => {\n    listMessage && fnc()\n  }, [listMessage])\n\n  return (\n    <BrowserRouter >\n      <Switch>\n        <MessageList.Provider value={messageList}>\n          <Notifications.Provider value={notifications}>\n            {\n              listMessage ? <Route exact path=\"/\" >\n                <HomePage />\n              </Route> : console.log()\n            }\n            <Route\n              path=\"/users/active/:token\"\n              exact\n              render={props => <ActivatePage {...props} />}\n            />\n            <Route\n              path=\"/users/forget\"\n              exact\n              render={props => <Forget {...props} />}\n            />\n            <Route\n              path=\"/users/password/forget/:token\"\n              exact\n              render={props => <ChangePassword {...props} />}\n            />\n            <Route\n              path=\"/chat\"\n              component={Chat} />\n            <Route\n              path=\"/news\"\n              component={NewsMain} />\n            <Route\n              path=\"/report\"\n              component={Main_block} />\n            <Route\n              path=\"/posts/id=:id\"\n              render={props => <ViewOneBlog {...props} />}\n            />\n            <Route path=\"/policy\"\n              render={props => <Policy {...props} />}\n            />\n            <Route path=\"/suggest\"\n              render={props => <SuggestPage {...props} />}\n            />\n          </Notifications.Provider>\n        </MessageList.Provider >\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Beforeunload } from 'react-beforeunload';\n\nimport socketApp from './socket';\nimport { getCookie } from './helpers/auth';\nlet id = getCookie().token\nlet socket = socketApp.getSocket()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Beforeunload onBeforeunload={() => id ? socket.emit(\"offline\", { id }) : console.log()}>\n      <App />\n    </Beforeunload>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}