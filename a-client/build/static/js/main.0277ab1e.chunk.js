(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{149:function(e,t,n){},158:function(e,t){t.cutSpaceInString=function(e){for(var t=0,n=e.split("");t<n.length;)" "===n[t]&&(n.splice(t,1),t-=1),t+=1;return n.join("").toLowerCase()},t.replaceTelex=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")}},274:function(e,t,n){},275:function(e,t,n){},281:function(e,t){},283:function(e,t){},294:function(e,t){},296:function(e,t){},324:function(e,t){},326:function(e,t){},327:function(e,t){},332:function(e,t){},334:function(e,t){},353:function(e,t){},365:function(e,t){},368:function(e,t){},463:function(e,t,n){},464:function(e,t,n){},466:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n.n(s),i=n(16),r=n.n(i),l=(n(274),n(12)),o=(n(275),n(19)),j=n(20),b=n(6),d=n(248),u=n.n(d),h=n(10),O=n(14),m=n.n(O),x=n(121),p=n.n(x),f=n(158),g=function(e){if("undefined"!==window)return p.a.get(e)},v=function(e,t){var n,c,s;n=e.data.user.name?Object(f.replaceTelex)(e.data.user.name):Object(f.replaceTelex)(e.data.user),c="token",s=e.data.token,"undefined"!==window&&p.a.set(c,s,{expires:7}),function(e,t){"undefined"!==window&&localStorage.setItem(e,JSON.stringify(t))}("user",n)},k=function(e){var t;t="token","undefined"!==window&&p.a.remove(t,{expires:1}),function(e){"undefined"!==window&&localStorage.removeItem(e)}("user")},N=function(){if("undefined"!==window&&g("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))};var _=function(e){var t=Object(s.useState)({name:"",token:""}),n=Object(b.a)(t,2),a=n[0],i=n[1];Object(s.useEffect)((function(){var t=e.match.params.token,n=u.a.decode(t);t&&i(Object(l.a)(Object(l.a)({},a),{},{name:n,token:t}))}),[]);var r=a.token;return Object(c.jsxs)("div",{children:[N()?Object(c.jsx)(j.a,{to:"/"}):null,Object(c.jsx)(h.a,{}),Object(c.jsx)("form",{onSubmit:function(e){e.preventDefault(),m.a.post("http://localhost:2704/api/activision",{token:r}).then((function(e){h.b.success(e.data.message),v(e)})).catch((function(e){h.b.error(e.response.data.error)}))},children:Object(c.jsx)("button",{type:"submit",children:"active"})}),Object(c.jsx)("h1",{children:"Nguyendutyhas"})]})},y=n(41),w=(n(149),n(504));var S=function(){var e,t=Object(s.useState)({email:""}),n=Object(b.a)(t,2),a=n[0],i=n[1],r=a.email;return Object(c.jsxs)("div",{className:"forget_container",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r?m.a.put("http://localhost:2704/api/password/forget",{email:r}).then((function(e){i(Object(l.a)(Object(l.a)({},a),{},{email:""})),h.b.success(e.data.message)})).catch((function(e){h.b.error(e.response.data.error)})):h.b.error("Please fill all text field")},children:[Object(c.jsx)("p",{children:"Qu\xean m\u1eadt kh\u1ea9u"}),Object(c.jsx)(w.a,{id:"standard-basic",onChange:(e="email",function(t){i(Object(l.a)(Object(l.a)({},a),{},Object(y.a)({},e,t.target.value)))}),label:"Email"}),Object(c.jsx)("div",{className:"button-sign",children:Object(c.jsx)("button",{className:"treat-button",id:"forget_button",type:"submit",children:" Submit "})})]})]})},C=n(499);var I=function(e){var t=e.match,n=Object(s.useState)({password1:"",password2:"",token:""}),a=Object(b.a)(n,2),i=a[0],r=a[1],j=i.password1,d=i.password2,u=i.token;Object(s.useEffect)((function(){var e=t.params.token;e&&r(Object(l.a)(Object(l.a)({},i),{},{token:e}))}),[]);var O=function(e){return function(t){r(Object(l.a)(Object(l.a)({},i),{},Object(y.a)({},e,t.target.value)))}};return Object(c.jsxs)("div",{className:"forget_password_page",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)(C.a,{elevation:3,children:[Object(c.jsx)("h6",{children:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n "}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j===d&&j?m.a.put("http://localhost:2704/api/change/password",{newPassword:j,passwordLink:u}).then((function(e){r({password1:"",password2:""}),h.b.success(e.data.message)})).catch((function(e){console.log(e),h.b.error(e.response.data.error)})):h.b.error("Password does not match")},className:"form__group field",children:[Object(c.jsxs)("div",{className:"changePassword_input_div",children:[Object(c.jsx)("input",{value:j,onChange:O("password1"),type:"password",className:"form__field",placeholder:"M\u1eadt kh\u1ea9u m\u1edbi",name:"name"}),Object(c.jsx)("label",{className:"form__label",children:"M\u1eadt kh\u1ea9u m\u1edbi"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{value:d,onChange:O("password2"),type:"password",className:"form__field",placeholder:"Nh\u1eadp l\u1ea1i",name:"password"}),Object(c.jsx)("label",{className:"form__label",children:"Nh\u1eadp l\u1ea1i"})]}),Object(c.jsx)("div",{className:"button-sign",children:Object(c.jsx)("button",{id:"button_change_password",className:"treat-button",type:"submit",children:"Thay \u0111\u1ed5i"})}),Object(c.jsx)(o.b,{className:"href_link",to:"/",children:"Quay tr\u1edf l\u1ea1i trang ch\u1ee7"})]})]})]})},L=(n(408),n(27)),E=n(34),B=n.n(E),T=n(54),P=n(39),F=n.n(P),R=n(112),D=n.n(R),M=n(114),A=n.n(M),U=n(249),Y=n.n(U),H=function(){var e=Y()("http://localhost:2704",{withCredentials:!0});return{getSocket:function(){return e}}}(),J=n(113),Q=n.n(J),G=n(500);var W=function(){var e=H.getSocket(),t=g().token,n=Object(s.useState)([]),a=Object(b.a)(n,2),i=a[0],r=a[1],l=Object(s.useState)(0),o=Object(b.a)(l,2),j=o[0],d=o[1],u=Object(s.useRef)(null),h=Object(s.useState)(""),O=Object(b.a)(h,2),x=O[0],p=O[1],f=Object(s.useState)(""),v=Object(b.a)(f,2),k=v[0],N=v[1],_=Object(s.useState)(!1),y=Object(b.a)(_,2),w=y[0],S=y[1],C=Object(s.useState)(!1),I=Object(b.a)(C,2),E=I[0],P=I[1],R=Object(s.useRef)(null);Object(s.useEffect)((function(){var e=m.a.CancelToken.source();return function(){var e=Object(T.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("http://localhost:2704/api/msgC/getIdRoom",{id:t}).then((function(e){d(e.data.len)}));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()(),function(){e.cancel()}}),[]),Object(s.useEffect)((function(){e.on("message",(function(e){e.roomId&&(S(!1),P(!0),N(e.roomId)),e.image?r((function(t){return[].concat(Object(L.a)(t),[e.image+";"+e.user])})):e.text&&(r((function(t){return[].concat(Object(L.a)(t),[e.text+","+e.user])})),function(){try{R.current.scrollIntoView()}catch(e){}}())}))}),[]);var M=D()({onclic:w});return Object(c.jsxs)("div",{className:"message_container",children:[Object(c.jsx)("div",{className:"container_button",children:Object(c.jsx)("button",{style:!0===E?{display:"none"}:{},id:"button_find_partner",className:M,onClick:function(n){!0!==w?e.emit("joinChat",{id:t,len:j,ipOfUser:"Dong nai"},(function(e){"error"===e?S(!0):(P(!0),N(e))})):S(!1)}})}),Object(c.jsx)("ul",{style:!1===E?{display:"none"}:{},children:Object.values(i).map((function(e,n){var s=e.split(",");if("image"===s[0]){var a=s[1]+","+s[2].split(";")[0];return s[2].split(";")[1]===t?Object(c.jsxs)("li",{ref:R,className:"messageImage mIOwn",children:[Object(c.jsx)("input",{type:"checkbox",id:n}),Object(c.jsx)("label",{for:n,children:Object(c.jsx)("img",{src:a})})]},n):Object(c.jsxs)("li",{ref:R,className:"messageImage mIOther",children:[Object(c.jsx)("input",{type:"checkbox",id:n}),Object(c.jsx)("label",{for:n,children:Object(c.jsx)("img",{src:a})})]},n)}var i,r=(i=s[0],F.a.AES.decrypt(i,"123nguyenduythaise1").toString(F.a.enc.Utf8));return s[1]===t?Object(c.jsxs)("li",{className:"messageLiOwn",ref:R,children:[r.length>60?Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnm60",children:Object(c.jsx)("span",{children:r})}):Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnl60",children:Object(c.jsx)("span",{children:r})}),")"]},n):Object(c.jsxs)("li",{className:"messageLiOther",ref:R,children:[r.length>60?Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherm60",children:Object(c.jsx)("span",{children:r})}):Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherl60",children:Object(c.jsx)("span",{children:r})}),")"]},n)}))}),Object(c.jsxs)("form",{className:"formMessage",style:!1===E?{display:"none"}:{},onSubmit:function(n){if(n.preventDefault(),x){var c=(s=x,F.a.AES.encrypt(s,"123nguyenduythaise1").toString());e.emit("sendMessage",{room:k,message:c,id:t},(function(){return p("")}))}var s},children:[Object(c.jsxs)("span",{className:"input",children:[Object(c.jsx)("input",{value:x,onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Enter text"}),Object(c.jsx)("span",{})]}),Object(c.jsxs)("div",{className:"extension_input",children:[Object(c.jsx)("input",{id:"icon_button_file",type:"file",onChange:function(n){for(var c=n.target.files,s=new FileReader,a=0;a<c.length;a++)s.readAsDataURL(c[a]),s.onloadend=function(){console.log(s.result),e.emit("sendImageOff",{room:k,image:s.result,userId:t})}},ref:u}),Object(c.jsx)(G.a,{onClick:function(){u.current.click()},children:Object(c.jsx)(Q.a,{})})]}),Object(c.jsx)("button",{type:"submit",children:Object(c.jsx)(A.a,{})})]})]})},V=n(501),X=n(257),q=n(506),K=n(505);function z(e){var t=e.id,n=e.onClick,s=a.a.useState(null),i=Object(b.a)(s,2),r=i[0],l=i[1],o=a.a.useState(!1),j=Object(b.a)(o,2),d=j[0],u=j[1],O=function(){l(null)},x=function(){var e=Object(T.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g().token,m.a.post("http://localhost:2704/api/msgC/blockUser",{idSend:n,id:t}).then((function(e){h.b.success("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n"),u(!1),l(null)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){u(!1)};return Object(c.jsxs)("div",{className:"menuMessage",children:[Object(c.jsx)(h.a,{}),Object(c.jsx)(V.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:"\u2630"}),Object(c.jsxs)(X.a,{id:"menuContainerMessage",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:O,children:[Object(c.jsx)(q.a,{onClick:O,children:Object(c.jsx)("span",{className:"simple_menu_span",onClick:function(){return n("")},to:"/",children:"Quay v\u1ec1"})}),Object(c.jsxs)(q.a,{children:[Object(c.jsx)("span",{className:"simple_menu_span",onClick:function(){t.length>2&&(u(!0),console.log(t))},children:"Ch\u1eb7n"}),Object(c.jsx)(K.a,{open:d,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(c.jsxs)("div",{className:"contain_block",children:[Object(c.jsx)("div",{className:"head",children:Object(c.jsx)("button",{onClick:p,children:"\u2715"})}),Object(c.jsx)("div",{className:"middle",children:Object(c.jsx)("p",{children:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n ch\u1eb7n ng\u01b0\u1eddi n\xe0y, n\u1ebfu ng\u01b0\u1eddi n\xe0y g\xe2y h\u1ea1i cho b\u1ea1n b\u1ea1n c\xf3 th\u1ec3 b\xe1o c\xe1o ch\xfang t\xf4i s\u1ebd gi\xfap b\u1ea1n"})}),Object(c.jsxs)("div",{className:"bottom",children:[Object(c.jsx)("button",{onClick:x,children:"X\xe1c nh\u1eadn"}),Object(c.jsx)("button",{onClick:p,className:"cancel",children:"H\u1ee7y b\u1ecf"})]})]})})]}),Object(c.jsx)(q.a,{children:Object(c.jsx)("span",{className:"simple_menu_span",children:"B\xe1o c\xe1o"})}),Object(c.jsx)(q.a,{onClick:function(){k(),window.location.reload(!1)},children:Object(c.jsx)("span",{className:"simple_menu_span",children:"\u0110\u0103ng xu\u1ea5t"})})]})]})}var Z=n(115),$=n.n(Z),ee=n(116),te=n.n(ee),ne=n(43),ce=n.n(ne),se=H.getSocket();var ae=function(e){var t,n=e.onClick,a=e.message,i=e.user1,r=e.user2,l=e.idRoom,o=e.target,j=Object(s.useState)(!1),d=Object(b.a)(j,2),u=d[0],h=d[1],O=Object(s.useState)(!1),m=Object(b.a)(O,2),x=m[0],p=m[1],f=Object(s.useState)(""),v=Object(b.a)(f,2),k=v[0],N=v[1],_=g().token,y=a.split(","),w=function(e){var t,n=F.a.AES.decrypt(e,"123nguyenduythaise1");try{t=n.toString(F.a.enc.Utf8)}catch(c){t=""}return t};Object(s.useEffect)((function(){if(se.emit("joinChatBack",{idRoom:l}),y[1]===_){var e=w(y[0]);if(e.length>0){var t=e.length>10?e.slice(0,10)+".....":e.split(",")[0];N("B\u1ea1n:  "+t)}else N("B\u1ea1n:  da gui hinh anh")}else{var n=w(y[0]);if(n.length>0){var c=n.length>10?n.slice(0,10)+".....":n.split(",")[0];N("\u0110\u1eb1ng \u1ea5y:  "+c)}else N("\u0110\u1eb1ng \u1ea5y:  da gui hinh anh");"false"===y[2]&&h(!0)}}),[]),Object(s.useEffect)((function(){se.on("message",(function(e){var n;if(e.idRoom===l)if(t=e.user,n=e.text?w(e.text):"",t===_)if(n.length>0){var c=n.length>10?n.slice(0,10)+".....":n.split(",")[0];N("B\u1ea1n:  "+c)}else N("B\u1ea1n:  da gui hinh anh");else{if(n.length>0){var s=n.length>10?n.slice(0,10)+".....":n.split(",")[0];N("\u0110\u1eb1ng \u1ea5y:  "+s)}else N("\u0110\u1eb1ng \u1ea5y:  da gui hinh anh");"false"===y[2]&&h(!0)}}))}),[]),Object(s.useEffect)((function(){o===l?(p(!0),h(!1),se.emit("seenMessage",{id:l,user1:i,user2:r})):p(!1)}),[o]);var S=D()({contact_container:!0,active_contact:x,not_read_contact:u});return Object(c.jsx)("div",{className:S,onClick:function(){n(l+","+i+";"+r+";"+_)},children:Object(c.jsxs)("div",{className:"contact_contain_text",children:[Object(c.jsx)("p",{children:k}),Object(c.jsx)("img",{src:"./demo.jpeg"})]})})};var ie=function(e){var t=g().token,n=H.getSocket(),a=e.id,i=Object(s.useState)(0),r=Object(b.a)(i,2),l=r[0],o=(r[1],Object(s.useState)(10)),j=Object(b.a)(o,2),d=j[0],u=j[1],h=Object(s.useState)([]),O=Object(b.a)(h,2),x=O[0],p=O[1],f=Object(s.useState)(""),v=Object(b.a)(f,2),k=v[0],N=v[1],_=Object(s.useRef)(null),y=Object(s.useRef)(null),w=Object(s.useState)(!1),S=Object(b.a)(w,2),C=S[0],I=S[1];return Object(s.useEffect)((function(){m.a.get("http://localhost:2704/api/msgC/sendContact?id="+a+"&start="+l+"&end="+d).then((function(e){p(e.data),I(!1)})).catch((function(e){return Object(c.jsx)("div",{children:"Oops, b\u1ea1n h\xe3y th\u1eed l\u1ea1i sau"})}))}),[a,l,d]),Object(s.useEffect)((function(){n.on("message",(function(e){e.image?p((function(t){return[].concat(Object(L.a)(t),[e.image+";"+e.user])})):p((function(t){return[].concat(Object(L.a)(t),[e.text+","+e.user])})),function(){try{_.current.scrollIntoView()}catch(e){}}()}))}),[]),Object(c.jsxs)("div",{className:"message_container",children:[Object(c.jsxs)("ul",{children:[Object(c.jsx)("div",{className:"button_load_more",children:!1===C?Object(c.jsx)("button",{onClick:function(){I(!0),u(d+10)},children:"T\u1ea3i th\xeam"}):Object(c.jsxs)("div",{className:"loaderBalls",children:[Object(c.jsx)("div",{className:"yellow"}),Object(c.jsx)("div",{className:"red"}),Object(c.jsx)("div",{className:"blue"})]})}),x.length>0?x.map((function(e,n){var s=e.split(",");if("image"===s[0]){var a=s[1]+","+s[2].split(";")[0];return s[2].split(";")[1]===t?Object(c.jsxs)("li",{ref:_,className:"messageImage mIOwn",children:[Object(c.jsx)("input",{type:"checkbox",id:n}),Object(c.jsx)("label",{for:n,children:Object(c.jsx)("img",{src:a})})]},n):Object(c.jsxs)("li",{ref:_,className:"messageImage mIOther",children:[Object(c.jsx)("input",{type:"checkbox",id:n}),Object(c.jsx)("label",{for:n,children:Object(c.jsx)("img",{src:a})})]},n)}var i=function(e){var t,n=F.a.AES.decrypt(e,"123nguyenduythaise1");try{t=n.toString(F.a.enc.Utf8)}catch(c){t=""}return t}(s[0]);return s[1]===t?Object(c.jsx)("li",{className:"messageLiOwn",ref:_,children:i.length>60?Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnm60",children:Object(c.jsx)("span",{children:i})}):Object(c.jsx)("div",{className:"own_message_same_div messageLiOwnl60",children:Object(c.jsx)("span",{children:i})})},n):Object(c.jsx)("li",{className:"messageLiOther",ref:_,children:i.length>60?Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherm60",children:Object(c.jsx)("span",{children:i})}):Object(c.jsx)("div",{className:"other_message_same_div messageLiOtherl60",children:Object(c.jsx)("span",{children:i})})},n)})):console.log()]}),Object(c.jsxs)("form",{className:"formMessage",onSubmit:function(e){if(e.preventDefault(),N(""),k){var c=(s=k,F.a.AES.encrypt(s,"123nguyenduythaise1").toString());n.emit("sendMessageOff",{room:a,message:c,userId:t})}var s},children:[Object(c.jsxs)("span",{className:"input",children:[Object(c.jsx)("input",{value:k,onChange:function(e){return N(e.target.value)},type:"text",placeholder:"Enter text"}),Object(c.jsx)("span",{})]}),Object(c.jsxs)("div",{className:"extension_input",children:[Object(c.jsx)("input",{id:"icon_button_file",type:"file",onChange:function(e){for(var c=e.target.files,s=new FileReader,i=0;i<c.length;i++)s.readAsDataURL(c[i]),s.onloadend=function(){n.emit("sendImageOff",{room:a,image:s.result,userId:t})}},ref:y}),Object(c.jsx)(G.a,{onClick:function(){y.current.click()},children:Object(c.jsx)(Q.a,{})})]}),Object(c.jsx)("button",{type:"submit",children:Object(c.jsx)(A.a,{})})]})]})};var re=function(){var e=Object(j.g)(),t=Object(s.useState)(""),n=Object(b.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(!0),l=Object(b.a)(r,2),d=l[0],u=l[1],h=g().token,O=Object(s.useState)(0),x=Object(b.a)(O,2),p=x[0],f=(x[1],Object(s.useState)(10)),v=Object(b.a)(f,2),k=v[0],N=(v[1],Object(s.useState)([])),_=Object(b.a)(N,2),y=_[0],w=_[1],S=Object(s.useState)("Recal"),C=Object(b.a)(S,2),I=C[0],E=C[1],B=Object(s.useState)(""),T=Object(b.a)(B,2),P=T[0],F=T[1];Object(s.useEffect)((function(){m.a.post("http://localhost:2704/api/msgC/contactL?start="+p+"&end="+k,{id:h}).then((function(t){t.data.message?e.push("/report"):w((function(e){return[].concat(Object(L.a)(e),[t.data])}))})).catch((function(e){}))}),[p]);var R=function(e){var t=e.split(",");i(t[0]),F(t[1])};return Object(c.jsxs)("div",{className:"main_page_auth",children:[Object(c.jsx)("header",{children:Object(c.jsxs)("div",{className:"navbar_auth",children:[Object(c.jsx)(z,{onClick:function(e){return R("")},id:a+";"+P}),Object(c.jsxs)("p",{children:[" ",I," "]})]})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"navbar_right",style:!0===d?{width:"15%"}:{overflowY:"hidden",width:"0px"},children:[Object(c.jsx)("div",{onClick:function(e){u(!d)},id:"triangle-right",style:!0===d?{left:"185px"}:{left:"0",borderLeft:"20px solid yellow",borderRight:"0"}}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)($.a,{}),Object(c.jsx)(o.b,{to:"/",children:"Tr\xf2 chuy\u1ec7n"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(te.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"Trang ch\u1ee7"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/friend",children:"B\u1ea1n b\xe8"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"C\xe0i \u0111\u1eb7t"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"H\u1ed7 tr\u1ee3"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"\u0110i\u1ec1u kho\u1ea3n "})]})]})]}),a?Object(c.jsx)(ie,{id:a,name:function(e){return E(e)}}):Object(c.jsx)(W,{}),Object(c.jsx)("div",{className:"contact",style:!0===d?{width:"20%"}:{width:"35%"},children:y.length>0?y[0].map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(ae,{onClick:function(e){return R(e)},message:e[2],user1:e[0],user2:e[1],idRoom:e[3],target:a})},t)})):console.log()})]})]})},le=n(122),oe=n.n(le),je=n(502),be=n(503),de=n(468),ue=n(117),he=n.n(ue),Oe=n(118),me=n.n(Oe),xe=Object(je.a)((function(e){return{floatingLabelFocusStyle:{color:"#fff"}}}));var pe=function(){var e=xe(),t=Object(j.g)(),n=Object(s.useState)({email:"",password:""}),a=Object(b.a)(n,2),i=a[0],r=a[1],d=i.email,u=i.password,O=function(e){return function(t){r(Object(l.a)(Object(l.a)({},i),{},Object(y.a)({},e,t.target.value)))}};return Object(c.jsxs)("form",{className:"form_signIn",onSubmit:function(e){e.preventDefault(),d&&u?m.a.post("http://localhost:2704/api/login",{email:d,password:u}).then((function(e){r(Object(l.a)(Object(l.a)({},i),{},{email:"",password:""})),h.b.success(e.data.message),e.data.blockN>3&&t.push("/report"),v(e),window.location.reload(!1)})).catch((function(e){h.b.error(e.response.data.error)})):h.b.error("Please fill all text field")},children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("p",{className:"sign_in_title",children:"Sign In"}),Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(w.a,{value:d,onChange:O("email"),id:"outlined-basic",label:"Email",variant:"outlined",InputLabelProps:{className:e.floatingLabelFocusStyle}})}),Object(c.jsxs)("div",{className:"inputField",children:[Object(c.jsx)(w.a,{value:u,onChange:O("password"),id:"outlined-password-input",label:"Password",type:"password",autoComplete:"current-password",variant:"outlined",InputLabelProps:{className:e.floatingLabelFocusStyle}}),Object(c.jsxs)("div",{className:"button-sign",children:[Object(c.jsx)(o.b,{to:"/users/forget",children:"Qu\xean m\u1eadt kh\u1ea9u"}),Object(c.jsx)("button",{className:"treat-button",type:"submit",children:"\u0110\u0103ng nh\u1eadp"})]})]}),Object(c.jsx)("div",{className:"divider"}),Object(c.jsx)(he.a,{className:"google_login",clientId:"583969708221-h0kl5ki0e91mkb3mafoecak1sj8b4ih3.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){var t;t=e.tokenId,m.a.post("http://localhost:2704/api/googlelogin",{idToken:t}).then((function(e){v(e),window.location.reload(!1)})).catch((function(e){console.log(e),h.b.error("Login with Google failed")}))},cookiePolicy:"single_host_origin"}),Object(c.jsx)(me.a,{appId:"688117411891893",fields:"name,email,picture",callback:function(e){var t,n;console.log(e),t=e.userID,n=e.accessToken,m.a.post("http://localhost:2704/api/facebooklogin",{userID:t,accessToken:n}).then((function(e){v(e),window.location.reload(!1)})).catch((function(e){h.b.error("Login with Facebook failed")}))},cssClass:"facebook_login",icon:"fa-facebook"})]})};n(460).config({path:"./config/config.env"});var fe=Object(je.a)((function(e){return{floatingLabelFocusStyle:{color:"rgb(167, 166, 166);"}}}));var ge=function(){var e=Object(s.useState)({email:"",name:"",password1:"",password2:""}),t=Object(b.a)(e,2),n=t[0],a=t[1],i=n.email,r=n.name,o=n.password1,j=n.password2,d=function(e){return function(t){a(Object(l.a)(Object(l.a)({},n),{},Object(y.a)({},e,t.target.value)))}},u=fe(),O=function(e){console.log(e)};return Object(c.jsxs)("form",{className:"form_signIn",onSubmit:function(e){e.preventDefault(),r&&i&&o?o!==j?h.b.error("Password does not match"):m.a.post("http://localhost:2704/api/register",{name:r,email:i,password:o}).then((function(e){a(Object(l.a)(Object(l.a)({},n),{},{name:"",email:"",password1:"",password2:""})),h.b.success(e.data.message)})).catch((function(e){h.b.error(e.response.data.error)})):h.b.error("Please fill all text field")},children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("p",{className:"sign_in_title",children:"\u0110\u0103ng k\xfd"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(w.a,{value:i,onChange:d("email"),id:"outlined-basic",label:"Email ",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}})}),Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(w.a,{value:r,onChange:d("name"),id:"outlined-basic-name",label:"T\xean \u0111\u0103ng nh\u1eadp ",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}})}),Object(c.jsxs)("div",{className:"inputField",children:[Object(c.jsx)(w.a,{value:o,onChange:d("password1"),id:"outlined-password-input",label:"M\u1eadt kh\u1ea9u",type:"password",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}}),Object(c.jsx)("div",{className:"inputField",children:Object(c.jsx)(w.a,{value:j,onChange:d("password2"),id:"outlined-repeatPassword-input",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",type:"password",variant:"outlined",InputLabelProps:{className:u.floatingLabelFocusStyle}})}),Object(c.jsx)("div",{className:"button-sign",children:Object(c.jsx)("button",{className:"treat-button",type:"submit",children:"\u0110\u0103ng k\xfd"})})]})]}),Object(c.jsxs)("div",{className:"col-sm-6",children:[Object(c.jsx)(he.a,{className:"google_login",clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:O,onFailure:O,cookiePolicy:"single_host_origin"}),Object(c.jsx)(me.a,{appId:"1088597931155576",fields:"name,email,picture",onClick:function(e){console.log(e)},cssClass:"facebook_login",icon:"fa-facebook"})]})]})]})},ve=Object(je.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"1px solid #000",padding:e.spacing(1,10,10)}}}));var ke=function(){var e=ve(),t=a.a.useState(null),n=Object(b.a)(t,2),s=n[0],i=n[1],r=a.a.useState(!1),l=Object(b.a)(r,2),o=l[0],j=l[1],d=a.a.useState(!1),u=Object(b.a)(d,2),h=u[0],O=u[1],m=function(){i(null)};return Object(c.jsx)("div",{className:"main_page",children:Object(c.jsx)("div",{className:"homepage",children:Object(c.jsxs)("header",{className:"header_notAuth",children:[Object(c.jsxs)("div",{className:"navbar",children:[Object(c.jsx)("p",{children:Object(c.jsx)("a",{href:"/",children:" Sadnessly "})}),Object(c.jsx)("span",{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:"\u2630"}),Object(c.jsxs)(X.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:m,children:[Object(c.jsx)(q.a,{onClick:m,children:Object(c.jsxs)("a",{href:"/",children:[Object(c.jsx)(oe.a,{}),Object(c.jsx)("p",{children:"Profile Of me"})]})}),Object(c.jsx)(q.a,{onClick:m,children:Object(c.jsxs)("a",{href:"/",children:[Object(c.jsx)(oe.a,{}),Object(c.jsx)("p",{children:"What do you think"})]})}),Object(c.jsx)(q.a,{onClick:m,children:Object(c.jsxs)("a",{href:"/",children:[Object(c.jsx)(oe.a,{}),Object(c.jsx)("p",{children:"Profile"})]})})]})]}),Object(c.jsxs)("div",{className:"text-navbar",children:[Object(c.jsx)("p",{className:"text-navbar-first",children:"B\u1ea1n c\xf3 th\u1ec3 chia s\u1ebb c\xe2u chuy\u1ec7n c\u1ee7a m\xecnh m\xe0 kh\xf4ng ai bi\u1ebft b\u1ea1n l\xe0 ai!!"}),Object(c.jsx)("p",{className:"text-navbar-second",children:"\u0110\u1eebng \u0111\u1ec3 b\u1ea3n th\xe2n qu\xe1 n\u1eb7ng l\xf2ng h\xe3y m\u1edf l\xf2ng v\xe0 b\u1ea1n s\u1ebd th\u1ea5y tho\u1ea3i m\xe1i h\u01a1n. Cho \u0111i l\xe0 nh\u1eadn l\u1ea1i!"})]}),Object(c.jsxs)("div",{className:"button-navbar treat-wrapper row",children:[Object(c.jsx)("button",{className:"signIn-navbar treat-button col-sm-12 col-md-6",type:"button",onClick:function(){j(!0)},children:"\u0110\u0103ng nh\u1eadp"}),Object(c.jsx)(K.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:o,onClose:function(){j(!1)},closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(c.jsx)(de.a,{in:o,children:Object(c.jsx)("div",{className:e.paper,children:Object(c.jsx)(pe,{})})})}),Object(c.jsx)("button",{className:"signUp-navbar treat-button col-sm-12 col-md-6",type:"button",onClick:function(){O(!0)},children:"\u0110\u0103ng k\xfd"}),Object(c.jsx)(K.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:e.modal,open:h,onClose:function(){O(!1)},closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(c.jsx)(de.a,{in:h,children:Object(c.jsx)("div",{className:e.paper,children:Object(c.jsx)(ge,{})})})})]})]})})})};var Ne=function(){return Object(c.jsx)("div",{className:"main_page",children:N()?Object(c.jsx)(re,{}):Object(c.jsx)(ke,{})})},_e=(n(463),n(256)),ye=n(251),we=n.n(ye),Se=n(252),Ce=n.n(Se);var Ie=function(){var e=Object(s.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),r=Object(b.a)(i,2),o=r[0],j=r[1],d=Object(s.useState)(!1),u=Object(b.a)(d,2),O=u[0],x=u[1],p=g().token,f=function(){x(!1)};return Object(c.jsxs)("div",{className:"post_data",children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("button",{className:"post_data_button",type:"button",onClick:function(){x(!0)},children:Object(c.jsx)(we.a,{})}),Object(c.jsx)(K.a,{className:"modal_post_blog","aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:O,onClose:f,closeAfterTransition:!0,BackdropComponent:be.a,BackdropProps:{timeout:500},children:Object(c.jsx)(de.a,{in:O,children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.a.post("http://localhost:2704/api/news/post",{text:n,file:o,id:p}).then((function(e){h.b.success("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n"),f()})).catch((function(e){console.log(e)}))},className:"form_post_blog",children:[Object(c.jsx)("h4",{children:"Dang tai noi dung cua ban"}),Object(c.jsx)("div",{suppressContentEditableWarning:!0,onKeyPress:function(e){"Enter"===e.key&&a(n+"<br/>")},id:"type_text_div",contentEditable:"true",onInput:function(e){return function(e){a(e.target.innerText)}(e)},children:"B\u1ea1n h\xe3y nh\u1eadp v\xe0o \u0111\xe2y"}),Object(c.jsx)(_e.a,{onDrop:function(e){return function(e){var t=e[0],n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){j((function(e){return[].concat(Object(L.a)(e),[n.result])}))}}(e)},children:function(e){var t=e.getRootProps,n=e.getInputProps;return Object(c.jsx)("section",{children:Object(c.jsxs)("div",Object(l.a)(Object(l.a)({className:"drag_file"},t()),{},{children:[Object(c.jsx)("input",Object(l.a)({},n())),Object(c.jsx)("div",{className:"icon",children:Object(c.jsx)(Ce.a,{})})]}))})}}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"image_post_news",children:"undefined"!==typeof o?Object.values(o).map((function(e,t){return Object(c.jsxs)("li",{children:[Object(c.jsx)("img",{src:e}),Object(c.jsx)("span",{onClick:function(){return function(e){var t=Object(L.a)(o);t.splice(e,1),j(t)}(t)},children:"\u2715"})]},t)})):{}})}),Object(c.jsx)("button",{type:"submit",children:"Submit"})]})})})]})},Le=n(119);n(464);var Ee=function(e){var t=e.type,n="skeleton ".concat(t);return Object(c.jsx)("div",{className:n})};var Be=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"blog_skeleton_wrapper",children:[Object(c.jsx)(Ee,{type:"avatar"}),Object(c.jsx)(Ee,{type:"text"}),Object(c.jsx)(Ee,{type:"image"}),Object(c.jsx)(Ee,{type:"likeShare"})]})})},Te=n(120),Pe=function(e){var t=e.props,n=t.value,a=t.i,i=t.className,r=H.getSocket(),l=Object(s.useState)(n.likes),o=Object(b.a)(l,2),j=o[0],d=o[1],u=g().token,h=function(e){r.emit("like",{value:e,id:u},(function(e){d("error"===e?j-1:j+1)}))};return Object(c.jsx)(c.Fragment,{children:!0===n.isLiked?Object(c.jsxs)("div",{className:i,children:[Object(c.jsx)("input",{defaultChecked:!0,onClick:function(e){return h(n.idBlog)},type:"checkbox",id:"like_button_label"+a}),Object(c.jsx)("label",{htmlFor:"like_button_label"+a,children:Object(c.jsxs)("li",{className:"like",children:[j," Like"]})})]}):Object(c.jsxs)("div",{className:i,children:[Object(c.jsx)("input",{onClick:function(e){return h(n.idBlog)},type:"checkbox",id:"like_button_label"+a}),Object(c.jsx)("label",{htmlFor:"like_button_label"+a,children:Object(c.jsxs)("li",{className:"like",children:[j," Like"]})})]})})},Fe=n(254),Re=n.n(Fe),De=n(253),Me=n.n(De),Ae=function(e){var t=H.getSocket(),n=e.props,a=n.data,i=n.value,r=e.props.i,l=Object(s.useState)(a.likes),o=Object(b.a)(l,2),j=o[0],d=o[1],u=Object(s.useState)(a.isLiked),h=Object(b.a)(u,2),O=h[0],m=h[1],x=g().token,p=function(){d(j+1),m(!0),t.emit("likeCmt",{value:i,id:x,idComment:a.id},(function(e){"error"===e&&(d(j-1),m(!1)),"exists"===e&&(d(j-1),m(!1))}))};return Object(c.jsx)("div",{className:"list",children:!0===O?Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{defaultChecked:!0,onClick:function(e){return p()},type:"checkbox",id:"like_button_label "+r+a}),Object(c.jsx)("label",{for:"like_button_label "+r+a,children:Object(c.jsxs)("li",{className:"like",children:[Object(c.jsx)(Me.a,{})," ",j]})})]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{defaultChecked:j,onClick:function(e){return p()},type:"checkbox",id:"like_button_label "+r+a}),Object(c.jsx)("label",{for:"like_button_label "+r+a,children:Object(c.jsxs)("li",{className:"like",children:[Object(c.jsx)(Re.a,{})," ",j]})})]})})},Ue=n(157),Ye=n.n(Ue);var He=function(){var e=H.getSocket(),t=Object(s.useState)(0),n=Object(b.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)(3),l=Object(b.a)(r,2),j=l[0],d=l[1],u=Object(s.useState)([]),O=Object(b.a)(u,2),x=O[0],p=O[1],f=Object(s.useState)(""),v=Object(b.a)(f,2),k=v[0],N=v[1],_=g().token;return Object(s.useEffect)((function(){m.a.get("http://localhost:2704/api/news/data?start="+a+"&end="+j+"&id="+_).then(function(){var e=Object(T.a)(B.a.mark((function e(t){var n,c,s,a,i,r,l,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data.data,c=!0,s=!1,e.prev=3,i=function(){var e=o;p((function(t){return[].concat(Object(L.a)(t),[e])}))},r=Object(Le.a)(n);case 6:return e.next=8,r.next();case 8:return l=e.sent,c=l.done,e.next=12,l.value;case 12:if(o=e.sent,c){e.next=18;break}i();case 15:c=!0,e.next=6;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),s=!0,a=e.t0;case 24:if(e.prev=24,e.prev=25,c||null==r.return){e.next=29;break}return e.next=29,r.return();case 29:if(e.prev=29,!s){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return Object(c.jsx)("div",{children:"C\xf3 l\u1ed7i \u0111\u1ea3 x\u1ea3y ra b\u1ea1n h\xe3y th\u1eed l\u1ea1i sau"})}))}),[j]),Object(c.jsxs)("div",{className:"viewBlog",children:[Object(c.jsx)(h.a,{}),0===x.length&&Object(c.jsx)(Be,{}),Object(c.jsx)(Te.a,{dataLength:x.length,next:function(){setTimeout((function(){i(a+3),d(j+3)}),1500)},hasMore:!0,loader:Object(c.jsx)(Be,{}),children:void 0!==x?x.map((function(t,n){return Object(c.jsx)("li",{className:"viewBlog_li",children:Object(c.jsxs)("div",{className:"contain_blog",children:[Object(c.jsx)("div",{className:"text_blog",children:t.text.map((function(e){return Object(c.jsx)("p",{children:e})}))}),Object(c.jsx)("div",{className:"image-blog",children:1===t.image.length?Object(c.jsx)("div",{className:"one",children:Object(c.jsx)("img",{src:t.image[0]})}):2===t.image.length?Object(c.jsxs)("div",{className:"two",children:[Object(c.jsx)("img",{src:t.image[0]}),Object(c.jsx)("img",{src:t.image[1]})]}):t.image.length>=3?Object(c.jsxs)("div",{className:"three",children:[Object(c.jsxs)("div",{className:"two",children:[Object(c.jsx)("img",{src:t.image[0]}),Object(c.jsx)("img",{src:t.image[1]})]}),Object(c.jsx)("img",{src:t.image[2]})]}):0===t.image.length?Object(c.jsx)("div",{}):{}}),Object(c.jsxs)("div",{className:"activities_blog",children:[Object(c.jsx)(Pe,{props:{value:t,i:n}}),Object(c.jsx)("div",{children:Object(c.jsx)("li",{className:"comment list",children:Object(c.jsx)(o.b,{to:"/posts/id="+t.idBlog,children:"comment"})})}),Object(c.jsx)("div",{children:Object(c.jsx)("li",{className:"share list",children:"Share"})})]}),Object(c.jsxs)("div",{className:"comment_blog_view",children:[t.comment.map((function(e,n){return Object(c.jsxs)("div",{className:"comment_blog",children:[Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)("img",{src:"./demo.jpeg"}),Object(c.jsx)("span",{children:e.value})]}),Object(c.jsxs)("div",{className:"activities",children:[Object(c.jsx)(Ae,{props:{data:e,i:n,value:t.idBlog}}),Object(c.jsx)("div",{className:"comment list",children:Object(c.jsxs)("li",{children:[Object(c.jsx)(Ye.a,{})," comment"]})})]})]},n)})),Object(c.jsx)("form",{onSubmit:function(n){!function(t,n){t.preventDefault(),N(""),e.emit("comment",{idRecieve:n.idBlog,idSent:_,value:k},(function(e){"error"===e&&h.b.error("C\xf3 l\u1ed7i \u0111\xf3 x\u1ea3y ra b\u1ea1n h\xe3y th\u1eed l\u1ea1i sau")}))}(n,t)},children:Object(c.jsx)(w.a,{onChange:function(e){return N(e.target.value)},value:k,label:"Comment"})})]})]})},n)})):{}})]})};var Je=function(){var e=g().token,t=H.getSocket(),n=Object(s.useState)(!0),a=Object(b.a)(n,2),i=a[0],r=a[1];return Object(s.useEffect)((function(){t.emit("join",{id:e})}),[]),Object(s.useEffect)((function(){t.on("activities",(function(e){h.b.success(e.type)}))})),Object(c.jsxs)("div",{className:"news_page",children:[Object(c.jsx)(h.a,{}),Object(c.jsx)("header",{children:Object(c.jsx)("div",{className:"navbar_auth",children:Object(c.jsx)("p",{children:" Recal "})})}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"navbar_right",style:!0===i?{width:"15%"}:{overflowY:"hidden",width:"0px"},children:[Object(c.jsx)("div",{onClick:function(e){r(!i)},id:"triangle-right",style:!0===i?{left:"185px"}:{left:"0",borderLeft:"20px solid yellow",borderRight:"0"}}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:[Object(c.jsx)($.a,{}),Object(c.jsx)(o.b,{to:"/",children:"Tr\xf2 chuy\u1ec7n"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(te.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"Trang ch\u1ee7"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/friend",children:"B\u1ea1n b\xe8"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"C\xe0i \u0111\u1eb7t"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"H\u1ed7 tr\u1ee3"})]}),Object(c.jsxs)("li",{children:[Object(c.jsx)(ce.a,{}),Object(c.jsx)(o.b,{to:"/news",children:"\u0110i\u1ec1u kho\u1ea3n "})]})]})]}),Object(c.jsxs)("div",{className:"main_news",children:[Object(c.jsx)(Ie,{}),Object(c.jsx)(He,{})]})]})]})};var Qe=function(){var e=Object(j.g)();return Object(c.jsx)("div",{className:"block_page",children:Object(c.jsxs)("div",{className:"paper",children:[Object(c.jsx)("div",{className:"header"}),Object(c.jsx)("div",{className:"body",children:Object(c.jsxs)("p",{children:[" B\u1ea1n \u0111\xe3 b\u1ecb kh\xf3a t\xe0i kho\u1ea3n trong v\xf2ng 30 ng\xe0y do nh\u1eefng h\xe0nh vi b\u1ea1n \u0111\xe3 ph\u1ea1m ph\u1ea3i",Object(c.jsx)("br",{}),"H\xe3y x\xe2y d\u1ef1ng 1 c\u1ed9ng \u0111\u1ed3ng th\u1ef1c s\u1ef1 l\xe0nh m\u1ea1nh xin c\u1ea3m \u01a1n"]})}),Object(c.jsx)("div",{className:"end",children:Object(c.jsx)("button",{onClick:function(){e.push("/"),k()},children:"X\xe1c nh\u1eadn"})})]})})},Ge=n(255);n(465);var We=function(e){var t=e.props,n=t.value,a=t.id,i=H.getSocket(),r=Object(s.useState)(""),l=Object(b.a)(r,2),o=l[0],j=l[1],d=Object(s.useState)(0),u=Object(b.a)(d,2),O=u[0],x=u[1],p=Object(s.useState)(10),f=Object(b.a)(p,2),g=f[0],v=f[1],k=Object(s.useState)([]),N=Object(b.a)(k,2),_=N[0],y=N[1];return Object(s.useEffect)((function(){i.emit("join",{id:a})}),[]),Object(s.useEffect)((function(){i.on("activities",(function(e){h.b.success(e.type)}))}),[]),Object(s.useEffect)((function(){m.a.get("http://localhost:2704/api/news/comment?start="+O+"&end="+g+"&id="+a+"&blog="+n.idBlog).then(function(){var e=Object(T.a)(B.a.mark((function e(t){var n,c,s,a,i,r,l,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data.data,c=!0,s=!1,e.prev=3,i=function(){var e=o;y((function(t){return[].concat(Object(L.a)(t),[e])}))},r=Object(Le.a)(n);case 6:return e.next=8,r.next();case 8:return l=e.sent,c=l.done,e.next=12,l.value;case 12:if(o=e.sent,c){e.next=18;break}i();case 15:c=!0,e.next=6;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),s=!0,a=e.t0;case 24:if(e.prev=24,e.prev=25,c||null==r.return){e.next=29;break}return e.next=29,r.return();case 29:if(e.prev=29,!s){e.next=32;break}throw a;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e),Object(c.jsx)("div",{children:"C\xf3 l\u1ed7i \u0111\u1ea3 x\u1ea3y ra b\u1ea1n h\xe3y th\u1eed l\u1ea1i sau"})}))}),[O]),Object(c.jsxs)("div",{className:"comment_a_blog",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)("form",{className:"input-container ex",onSubmit:function(e){o.length>0&&(e.preventDefault(),j(""),i.emit("comment",{idRecieve:n.idBlog,idSent:a,value:o},(function(e){"error"===e&&h.b.error("C\xf3 l\u1ed7i \u0111\xf3 x\u1ea3y ra b\u1ea1n h\xe3y th\u1eed l\u1ea1i sau")})))},children:[Object(c.jsx)("div",{suppressContentEditableWarning:!0,contentEditable:!0,id:"txtSearch",onInput:function(e){return j(e.target.innerText)}}),Object(c.jsx)("input",{type:"submit",id:"btnSearch",value:"enter"})]}),Object(c.jsx)(Te.a,{dataLength:_.length,next:function(){setTimeout((function(){x(O+10),v(g+10)}),1500)},hasMore:!0,children:_.length>0?_.map((function(e,t){return Object(c.jsxs)("div",{className:"content_comment_a_blog",children:[Object(c.jsxs)("div",{className:"value_content_comment_a_blog",children:[Object(c.jsx)("img",{src:"../demo.jpeg"}),Object(c.jsx)("div",{children:e.data.map((function(e){return Object(c.jsx)("p",{children:e})}))})]}),Object(c.jsxs)("div",{className:"activities",children:[Object(c.jsx)(Ae,{props:{data:e,i:t,value:n.idBlog}}),Object(c.jsx)("div",{className:"comment list"})]})]},t)})):console.log()})]})};var Ve=function(e){var t=g().token,n=Object(s.useState)(null),a=Object(b.a)(n,2),i=a[0],r=a[1],l=e.location.pathname.split("/");Object(s.useEffect)((function(){m.a.get("http://localhost:2704/api/news/post?"+l[2]+"&user="+t).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]);var o=function(){return Object(c.jsx)("div",{className:"slide-container flex",children:Object(c.jsx)(Ge.Slide,{className:"slide",children:i.img.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"image-container",children:Object(c.jsx)("img",{src:e})})},t)}))})})};return Object(c.jsx)("div",{className:"post_viewing",children:null!==i?Object(c.jsxs)("div",{className:"post_viewing_div",children:[void 0!==i.img?Object(c.jsx)(o,{}):Object(c.jsx)("div",{className:"slide-container flex"}),Object(c.jsxs)("div",{className:"content flex",children:[Object(c.jsxs)("div",{className:"content_div",children:[Object(c.jsx)("img",{src:"/demo.jpeg"}),Object(c.jsx)("span",{children:i.time}),i.text.map((function(e,t){return Object(c.jsx)("p",{children:e},t)}))]}),Object(c.jsxs)("div",{className:"extension_blog",children:[Object(c.jsx)(Pe,{props:{value:i,i:"1",className:"ex"}}),Object(c.jsx)("div",{className:"ex",children:"comment"}),Object(c.jsx)("div",{className:"ex",children:"share"})]}),Object(c.jsx)(We,{props:{value:i,id:t}})]})]}):console.log()})};var Xe=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(Ne,{})}),Object(c.jsx)(j.b,{path:"/users/active/:token",exact:!0,render:function(e){return Object(c.jsx)(_,Object(l.a)({},e))}}),Object(c.jsx)(j.b,{path:"/users/forget",exact:!0,render:function(e){return Object(c.jsx)(S,Object(l.a)({},e))}}),Object(c.jsx)(j.b,{path:"/users/password/forget/:token",exact:!0,render:function(e){return Object(c.jsx)(I,Object(l.a)({},e))}}),Object(c.jsx)(j.b,{path:"/chat",component:W}),Object(c.jsx)(j.b,{path:"/news",component:Je}),Object(c.jsx)(j.b,{path:"/report",component:Qe}),Object(c.jsx)(j.b,{path:"/posts/id=:id",render:function(e){return Object(c.jsx)(Ve,Object(l.a)({},e))}})]})})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,507)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(Xe,{})}),document.getElementById("root")),qe()}},[[466,1,2]]]);
//# sourceMappingURL=main.0277ab1e.chunk.js.map