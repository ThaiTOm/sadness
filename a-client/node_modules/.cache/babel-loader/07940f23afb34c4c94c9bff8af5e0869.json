{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import classNames from'classnames';import{getCookie,decryptWithAES}from'../../helpers/auth';import axios from\"axios\";import socketApp from'../../socket';import{messageLiRender,messageLiImageRender,executeScroll,Spinning,FormSend}from'../../helpers/message';function Chat(){var socket=socketApp.getSocket();var id=getCookie().token;var ipOfUser=\"Dong nai\";var _useState=useState([]),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];// len is len of rooms the user had join\nvar _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),len=_useState4[0],SetLen=_useState4[1];//This id room contain every id of the message that they have\n// waitG = wait group\nvar _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),waitG=_useState6[0],setWaitG=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),idRoom=_useState8[0],setidRoom=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),wait=_useState10[0],setWait=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),finish=_useState12[0],setFinish=_useState12[1];var myRef=useRef(null);var HanldeClickFind=function HanldeClickFind(e){if(wait!==true){socket.emit(\"joinChat\",{id:id,len:len,ipOfUser:ipOfUser},function(error){if(error===\"error\"){setWait(true);}else{console.log(error);setFinish(true);setidRoom(error);}});}else{setWait(false);socket.emit(\"joinChat\",{id:id,len:len,ipOfUser:ipOfUser},function(error){if(error!==\"error\"){console.log(error);setFinish(true);setidRoom(error);}});}};//Fetch data to recive the idRoom\nuseEffect(function(){var source=axios.CancelToken.source();var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:2704/api/msgC/getIdRoom\",{id:id}).then(function(res){SetLen(res.data.len);});case 3:_context.next=7;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);case 7:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();return function(){source.cancel();};},[id]);//load message\nuseEffect(function(){socket.on(\"message\",function(msg){if(msg.roomId){// If we have a couple together than we start to chat\nconsole.log(msg);setWait(false);setFinish(true);setidRoom(msg.roomId);}if(msg.image&&idRoom===msg.idRoom){// if message send is image\nsetValue(function(img){return[].concat(_toConsumableArray(img),[msg.image]);});}else if(msg.data&&idRoom===msg.idRoom){setValue(function(msgs){return[].concat(_toConsumableArray(msgs),[msg.data]);});executeScroll(myRef);}});},[socket,idRoom]);//defined button find partner classname\nvar btnClassFind=classNames({\"onclic\":wait});console.log(idRoom);var changeStateWaitGroup=function changeStateWaitGroup(){if(waitG===null){setWaitG(\"active\");socket.emit(\"joinChatGroup\",{id:id,len:len,ipOfUser:ipOfUser},function(callback){if(callback!==\"error\"){setFinish(true);setidRoom(callback);}});}else{setWaitG(null);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"message_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container_button\",style:finish===true?{display:\"none\"}:{},children:[/*#__PURE__*/_jsx(\"div\",{className:\"part_1\",children:/*#__PURE__*/_jsx(\"button\",{id:\"button_find_partner\",className:btnClassFind,onClick:HanldeClickFind,children:wait===true?/*#__PURE__*/_jsx(Spinning,{}):\"Tìm cặp\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"part_2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chat_button_group \"+waitG,children:[/*#__PURE__*/_jsx(\"span\",{id:\"group_icon\",children:\"Tham gia nh\\xF3m\"}),/*#__PURE__*/_jsx(\"div\",{onClick:changeStateWaitGroup,className:\"background\"}),/*#__PURE__*/_jsxs(\"svg\",{className:\"chat-bubble\",width:\"100\",height:\"100\",viewBox:\"0 0 100 100\",children:[/*#__PURE__*/_jsxs(\"g\",{className:\"bubble\",children:[/*#__PURE__*/_jsx(\"path\",{className:\"line line1\",d:\"M 30.7873,85.113394 30.7873,46.556405 C 30.7873,41.101961          36.826342,35.342 40.898074,35.342 H 59.113981 C 63.73287,35.342          69.29995,40.103201 69.29995,46.784744\"}),/*#__PURE__*/_jsx(\"path\",{className:\"line line2\",d:\"M 13.461999,65.039335 H 58.028684 C            63.483128,65.039335 69.243089,59.000293 69.243089,54.928561 V 45.605853 C            69.243089,40.986964 65.02087,35.419884 58.339327,35.419884\"})]}),/*#__PURE__*/_jsx(\"circle\",{className:\"circle circle1\",r:\"1.9\",cy:\"50.7\",cx:\"42.5\"}),/*#__PURE__*/_jsx(\"circle\",{className:\"circle circle2\",cx:\"49.9\",cy:\"50.7\",r:\"1.9\"}),/*#__PURE__*/_jsx(\"circle\",{className:\"circle circle3\",r:\"1.9\",cy:\"50.7\",cx:\"57.3\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"message_container_div\",style:finish===false?{display:\"none\"}:{display:\"block\"},children:[/*#__PURE__*/_jsx(\"ul\",{children:value.length>0?value.map(function(item,i){if(item.image){var imgUrl=item.image;if(item.id===idRoom)return messageLiImageRender(\"mIOwn\",i,imgUrl,myRef);else return messageLiImageRender(\"mIOther\",i,imgUrl,myRef);}else{var msgs=item.data[0]?decryptWithAES(item.data[0]):\"\";if(item.id===id)return messageLiRender(\"messageLiOwn\",\"own_message_same_div messageLiOwnm60\",\"own_message_same_div messageLiOwnl60\",msgs,i,myRef);else return messageLiRender(\"messageLiOther\",\"other_message_same_div messageLiOtherm60\",\"other_message_same_div messageLiOtherl60\",msgs,i,myRef);}}):console.log()}),idRoom?/*#__PURE__*/_jsx(FormSend,{id:idRoom,userId:id}):console.log()]})]});}export default Chat;","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/component/chatComponent/chat.js"],"names":["React","useEffect","useState","useRef","classNames","getCookie","decryptWithAES","axios","socketApp","messageLiRender","messageLiImageRender","executeScroll","Spinning","FormSend","Chat","socket","getSocket","id","token","ipOfUser","value","setValue","len","SetLen","waitG","setWaitG","idRoom","setidRoom","wait","setWait","finish","setFinish","myRef","HanldeClickFind","e","emit","error","console","log","source","CancelToken","fetchData","post","then","res","data","cancel","on","msg","roomId","image","img","msgs","btnClassFind","changeStateWaitGroup","callback","display","length","map","item","i","imgUrl"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport classNames from 'classnames';\nimport { getCookie, decryptWithAES } from '../../helpers/auth';\nimport axios from \"axios\"\nimport socketApp from '../../socket';\nimport { messageLiRender, messageLiImageRender, executeScroll, Spinning, FormSend } from '../../helpers/message';\n\nfunction Chat() {\n    let socket = socketApp.getSocket();\n    const id = getCookie().token;\n    const ipOfUser = \"Dong nai\";\n    const [value, setValue] = useState([]);\n    // len is len of rooms the user had join\n    const [len, SetLen] = useState(0);\n\n    //This id room contain every id of the message that they have\n    // waitG = wait group\n    const [waitG, setWaitG] = useState(null);\n\n    const [idRoom, setidRoom] = useState(null);\n    const [wait, setWait] = useState(false);\n    const [finish, setFinish] = useState(false);\n    const myRef = useRef(null)\n\n    const HanldeClickFind = (e) => {\n        if (wait !== true) {\n            socket.emit(\"joinChat\", { id, len, ipOfUser }, (error) => {\n                if (error === \"error\") {\n                    setWait(true)\n                } else {\n                    console.log(error)\n                    setFinish(true)\n                    setidRoom(error)\n                }\n            })\n        } else {\n            setWait(false)\n            socket.emit(\"joinChat\", { id, len, ipOfUser }, (error) => {\n                if (error !== \"error\") {\n                    console.log(error)\n                    setFinish(true)\n                    setidRoom(error)\n                }\n            })\n        }\n    }\n    //Fetch data to recive the idRoom\n    useEffect(() => {\n        const source = axios.CancelToken.source()\n        const fetchData = async () => {\n            try {\n                await axios.post(\"http://localhost:2704/api/msgC/getIdRoom\", { id })\n                    .then(res => {\n                        SetLen(res.data.len)\n                    })\n            } catch (error) {\n            }\n        }\n        fetchData()\n        return () => {\n            source.cancel()\n        }\n    }, [id])\n    //load message\n    useEffect(() => {\n        socket.on(\"message\", msg => {\n            if (msg.roomId) {\n                // If we have a couple together than we start to chat\n                console.log(msg)\n                setWait(false)\n                setFinish(true)\n                setidRoom(msg.roomId)\n            }\n            if (msg.image && idRoom === msg.idRoom) {\n                // if message send is image\n                setValue(img => [...img, msg.image])\n            }\n            else if (msg.data && idRoom === msg.idRoom) {\n                setValue(msgs => [...msgs, msg.data])\n                executeScroll(myRef)\n            }\n        })\n    }, [socket, idRoom])\n    //defined button find partner classname\n    var btnClassFind = classNames({\n        \"onclic\": wait,\n    })\n    console.log(idRoom)\n    const changeStateWaitGroup = () => {\n        if (waitG === null) {\n            setWaitG(\"active\")\n            socket.emit(\"joinChatGroup\", { id, len, ipOfUser }, (callback) => {\n                if (callback !== \"error\") {\n                    setFinish(true)\n                    setidRoom(callback)\n                }\n            })\n        }\n        else {\n            setWaitG(null)\n        }\n    }\n    return (\n        <div className=\"message_container\">\n            <div className=\"container_button\" style={finish === true ? { display: \"none\" } : {}}>\n                <div className=\"part_1\">\n                    <button\n\n                        id=\"button_find_partner\"\n                        className={btnClassFind}\n                        onClick={HanldeClickFind}\n                    >\n                        {wait === true ? < Spinning /> : \"Tìm cặp\"}\n                    </button>\n                </div>\n                <div className=\"part_2\">\n                    <div className={\"chat_button_group \" + waitG}>\n                        <span id=\"group_icon\">\n                            Tham gia nhóm\n                        </span>\n                        <div onClick={changeStateWaitGroup} className=\"background\"></div>\n                        <svg className=\"chat-bubble\" width=\"100\" height=\"100\" viewBox=\"0 0 100 100\">\n                            <g className=\"bubble\">\n                                <path className=\"line line1\" d=\"M 30.7873,85.113394 30.7873,46.556405 C 30.7873,41.101961          36.826342,35.342 40.898074,35.342 H 59.113981 C 63.73287,35.342          69.29995,40.103201 69.29995,46.784744\" />\n                                <path className=\"line line2\" d=\"M 13.461999,65.039335 H 58.028684 C            63.483128,65.039335 69.243089,59.000293 69.243089,54.928561 V 45.605853 C            69.243089,40.986964 65.02087,35.419884 58.339327,35.419884\" />\n                            </g>\n                            <circle className=\"circle circle1\" r=\"1.9\" cy=\"50.7\" cx=\"42.5\" />\n                            <circle className=\"circle circle2\" cx=\"49.9\" cy=\"50.7\" r=\"1.9\" />\n                            <circle className=\"circle circle3\" r=\"1.9\" cy=\"50.7\" cx=\"57.3\" />\n                        </svg>\n                    </div>\n                </div>\n\n            </div>\n            <div className=\"message_container_div\" style={finish === false ? { display: \"none\" } : { display: \"block\" }}>\n                <ul>\n                    {\n                        value.length > 0 ?\n                            value.map(function (item, i) {\n                                if (item.image) {\n                                    let imgUrl = item.image\n                                    if (item.id === idRoom) return messageLiImageRender(\"mIOwn\", i, imgUrl, myRef)\n                                    else return messageLiImageRender(\"mIOther\", i, imgUrl, myRef)\n                                } else {\n                                    let msgs = item.data[0] ? decryptWithAES(item.data[0]) : \"\"\n                                    if (item.id === id) return messageLiRender(\"messageLiOwn\", \"own_message_same_div messageLiOwnm60\", \"own_message_same_div messageLiOwnl60\", msgs, i, myRef)\n                                    else return messageLiRender(\"messageLiOther\", \"other_message_same_div messageLiOtherm60\", \"other_message_same_div messageLiOtherl60\", msgs, i, myRef)\n                                }\n                            }) : console.log()\n                    }\n                </ul>\n                {idRoom ? <FormSend id={idRoom} userId={id} /> : console.log()}\n            </div>\n        </div >\n    )\n}\n\nexport default Chat\n"]},"metadata":{},"sourceType":"module"}