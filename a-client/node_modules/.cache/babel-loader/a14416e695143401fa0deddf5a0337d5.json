{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import FavoriteIcon from'@material-ui/icons/Favorite';import FavoriteBorderIcon from'@material-ui/icons/FavoriteBorder';import{getCookie}from'./auth';import RequireLogin from'./requireLogin';import socketApp from'../socket';var SeeLike=function SeeLike(cb){var _cb$props=cb.props,value=_cb$props.value,i=_cb$props.i,className=_cb$props.className;var socket=socketApp.getSocket();var _useState=useState(value.likes),_useState2=_slicedToArray(_useState,2),like=_useState2[0],setLike=_useState2[1];var _useState3=useState(value.isLiked),_useState4=_slicedToArray(_useState3,2),isLiked=_useState4[0],setIsLiked=_useState4[1];var id=getCookie().token;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),login=_useState6[0],setLogin=_useState6[1];var handleLike=function handleLike(data){if(!id){setLogin(true);}else{socket.emit(\"like\",{value:data,id:id},function(error){if(error===\"error\"){setLike(like-1);setIsLiked(false);}else{setIsLiked(true);setLike(like+1);}});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[login===true?/*#__PURE__*/_jsx(RequireLogin,{onClick:function onClick(value){return setLogin(value);}}):console.log(),isLiked===true?/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsx(\"input\",{defaultChecked:true,onClick:function onClick(e){return handleLike(value.idBlog);},type:\"checkbox\",id:\"like_button_label\"+i}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"like_button_label\"+i,children:/*#__PURE__*/_jsxs(\"span\",{className:\"like\",children:[/*#__PURE__*/_jsx(FavoriteIcon,{}),\" \",like]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsx(\"input\",{onClick:function onClick(e){return handleLike(value.idBlog);},type:\"checkbox\",id:\"like_button_label\"+i}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"like_button_label\"+i,children:/*#__PURE__*/_jsxs(\"span\",{className:\"like\",children:[/*#__PURE__*/_jsx(FavoriteBorderIcon,{}),\" \",like]})})]})]});};export default SeeLike;","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/helpers/seeLike.js"],"names":["React","useState","FavoriteIcon","FavoriteBorderIcon","getCookie","RequireLogin","socketApp","SeeLike","cb","props","value","i","className","socket","getSocket","likes","like","setLike","isLiked","setIsLiked","id","token","login","setLogin","handleLike","data","emit","error","console","log","e","idBlog"],"mappings":"4SAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,mCAA/B,CACA,OAASC,SAAT,KAA0B,QAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,EAAD,CAAQ,eACYA,EAAE,CAACC,KADf,CACZC,KADY,WACZA,KADY,CACLC,CADK,WACLA,CADK,CACFC,SADE,WACFA,SADE,CAEpB,GAAIC,CAAAA,MAAM,CAAGP,SAAS,CAACQ,SAAV,EAAb,CAFoB,cAGIb,QAAQ,CAACS,KAAK,CAACK,KAAP,CAHZ,wCAGbC,IAHa,eAGPC,OAHO,8BAIUhB,QAAQ,CAACS,KAAK,CAACQ,OAAP,CAJlB,yCAIbA,OAJa,eAIJC,UAJI,eAKpB,GAAMC,CAAAA,EAAE,CAAGhB,SAAS,GAAGiB,KAAvB,CALoB,eAMMpB,QAAQ,CAAC,KAAD,CANd,yCAMbqB,KANa,eAMNC,QANM,eAQpB,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAU,CACzB,GAAI,CAACL,EAAL,CAAS,CACLG,QAAQ,CAAC,IAAD,CAAR,CACH,CAFD,IAEO,CACHV,MAAM,CAACa,IAAP,CAAY,MAAZ,CAAoB,CAAEhB,KAAK,CAAEe,IAAT,CAAeL,EAAE,CAAFA,EAAf,CAApB,CAAyC,SAAAO,KAAK,CAAI,CAC9C,GAAIA,KAAK,GAAK,OAAd,CAAuB,CACnBV,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACAG,UAAU,CAAC,KAAD,CAAV,CACH,CAHD,IAGO,CACHA,UAAU,CAAC,IAAD,CAAV,CACAF,OAAO,CAACD,IAAI,CAAG,CAAR,CAAP,CACH,CACJ,CARD,EASH,CACJ,CAdD,CAeA,mBACI,2BACKM,KAAK,GAAK,IAAV,cAAiB,KAAC,YAAD,EAAc,OAAO,CAAE,iBAACZ,KAAD,QAAWa,CAAAA,QAAQ,CAACb,KAAD,CAAnB,EAAvB,EAAjB,CAAyEkB,OAAO,CAACC,GAAR,EAD9E,CAGQX,OAAO,GAAK,IAAZ,cACI,aAAK,SAAS,CAAEN,SAAhB,wBACI,cACI,cAAc,CAAE,IADpB,CAEI,OAAO,CAAE,iBAAAkB,CAAC,QAAIN,CAAAA,UAAU,CAACd,KAAK,CAACqB,MAAP,CAAd,EAFd,CAGI,IAAI,CAAC,UAHT,CAII,EAAE,CAAE,oBAAsBpB,CAJ9B,EADJ,cAMI,cAAO,OAAO,CAAE,oBAAsBA,CAAtC,uBACI,cAAM,SAAS,CAAC,MAAhB,wBACI,KAAC,YAAD,IADJ,KACsBK,IADtB,GADJ,EANJ,GADJ,cAaI,aAAK,SAAS,CAAEJ,SAAhB,wBACI,cACI,OAAO,CAAE,iBAAAkB,CAAC,QAAIN,CAAAA,UAAU,CAACd,KAAK,CAACqB,MAAP,CAAd,EADd,CAEI,IAAI,CAAC,UAFT,CAGI,EAAE,CAAE,oBAAsBpB,CAH9B,EADJ,cAKI,cAAO,OAAO,CAAE,oBAAsBA,CAAtC,uBACI,cAAM,SAAS,CAAC,MAAhB,wBACI,KAAC,kBAAD,IADJ,KAC4BK,IAD5B,GADJ,EALJ,GAhBZ,GADJ,CA+BH,CAtDD,CAwDA,cAAeT,CAAAA,OAAf","sourcesContent":["import React, { useState } from 'react'\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport { getCookie } from './auth';\nimport RequireLogin from './requireLogin';\nimport socketApp from '../socket';\n\nconst SeeLike = (cb) => {\n    const { value, i, className } = cb.props\n    let socket = socketApp.getSocket();\n    const [like, setLike] = useState(value.likes)\n    const [isLiked, setIsLiked] = useState(value.isLiked)\n    const id = getCookie().token\n    const [login, setLogin] = useState(false)\n\n    const handleLike = (data) => {\n        if (!id) {\n            setLogin(true)\n        } else {\n            socket.emit(\"like\", { value: data, id }, error => {\n                if (error === \"error\") {\n                    setLike(like - 1)\n                    setIsLiked(false)\n                } else {\n                    setIsLiked(true)\n                    setLike(like + 1)\n                }\n            })\n        }\n    }\n    return (\n        <>\n            {login === true ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            {\n                isLiked === true ?\n                    <div className={className}>\n                        <input\n                            defaultChecked={true}\n                            onClick={e => handleLike(value.idBlog)}\n                            type=\"checkbox\"\n                            id={\"like_button_label\" + i} />\n                        <label htmlFor={\"like_button_label\" + i} >\n                            <span className=\"like\" >\n                                <FavoriteIcon /> {like}\n                            </span>\n                        </label>\n                    </div> :\n                    <div className={className}>\n                        <input\n                            onClick={e => handleLike(value.idBlog)}\n                            type=\"checkbox\"\n                            id={\"like_button_label\" + i} />\n                        <label htmlFor={\"like_button_label\" + i} >\n                            <span className=\"like\">\n                                <FavoriteBorderIcon /> {like}\n                            </span>\n                        </label>\n                    </div>\n            }\n        </>\n    )\n}\n\nexport default SeeLike"]},"metadata":{},"sourceType":"module"}