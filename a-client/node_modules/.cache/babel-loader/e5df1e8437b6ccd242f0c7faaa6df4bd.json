{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import jwt from\"jsonwebtoken\";import{ToastContainer,toast}from\"react-toastify\";import axios from\"axios\";import{Redirect}from\"react-router-dom\";import{isAuth,authenicate}from\"../../helpers/auth\";function ActivatePage(props){var _useState=useState({name:\"\",token:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];useEffect(function(){var token=props.match.params.token;var name=jwt.decode(token);if(token){setFormData(_objectSpread(_objectSpread({},formData),{},{name:name,token:token}));}},[]);var token=formData.token;var hanldeSubmit=function hanldeSubmit(e){e.preventDefault();axios.post(\"http://localhost:2704/api/activision\",{token:token}).then(function(res){toast.success(res.data.message);authenicate(res);}).catch(function(err){toast.error(\"Something went wrong please try again\");});};return/*#__PURE__*/_jsxs(_Fragment,{children:[isAuth()?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):null,/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"active_page\",onSubmit:hanldeSubmit,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Active page\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{backgroundColor:\"rgba(46, 229, 156, 0.788)\"},className:\"facebook_login\",children:\"X\\xE1c nh\\u1EADn\"})]})]});}export default ActivatePage;","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/component/loginComponent/activate.js"],"names":["React","useState","useEffect","jwt","ToastContainer","toast","axios","Redirect","isAuth","authenicate","ActivatePage","props","name","token","formData","setFormData","match","params","decode","hanldeSubmit","e","preventDefault","post","then","res","success","data","message","catch","err","error","backgroundColor"],"mappings":"0cAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,MAAT,CAAiBC,WAAjB,KAAoC,oBAApC,CAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,eACKV,QAAQ,CAAC,CACvCW,IAAI,CAAE,EADiC,CAEvCC,KAAK,CAAE,EAFgC,CAAD,CADb,wCACpBC,QADoB,eACVC,WADU,eAK3Bb,SAAS,CAAC,UAAM,CACd,GAAIW,CAAAA,KAAK,CAAGF,KAAK,CAACK,KAAN,CAAYC,MAAZ,CAAmBJ,KAA/B,CACA,GAAID,CAAAA,IAAI,CAAGT,GAAG,CAACe,MAAJ,CAAWL,KAAX,CAAX,CACA,GAAIA,KAAJ,CAAW,CACTE,WAAW,gCAAMD,QAAN,MAAgBF,IAAI,CAAJA,IAAhB,CAAsBC,KAAK,CAALA,KAAtB,GAAX,CACD,CACF,CANQ,CAMN,EANM,CAAT,CAL2B,GAYnBA,CAAAA,KAZmB,CAYTC,QAZS,CAYnBD,KAZmB,CAa3B,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAf,KAAK,CACFgB,IADH,CACQ,sCADR,CACgD,CAC5CT,KAAK,CAALA,KAD4C,CADhD,EAIGU,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbnB,KAAK,CAACoB,OAAN,CAAcD,GAAG,CAACE,IAAJ,CAASC,OAAvB,EACAlB,WAAW,CAACe,GAAD,CAAX,CACD,CAPH,EAQGI,KARH,CAQS,SAACC,GAAD,CAAS,CACdxB,KAAK,CAACyB,KAAN,CAAY,uCAAZ,EACD,CAVH,EAWD,CAbD,CAcA,mBACE,2BACGtB,MAAM,gBAAK,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAL,CAA2B,IADpC,cAEE,KAAC,cAAD,IAFF,cAGE,cAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAEW,YAAxC,wBACE,kCADF,cAEE,eACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAE,CAAEY,eAAe,CAAE,2BAAnB,CAFT,CAGE,SAAS,CAAC,gBAHZ,8BAFF,GAHF,GADF,CAgBD,CAED,cAAerB,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\nimport { isAuth, authenicate } from \"../../helpers/auth\";\n\nfunction ActivatePage(props) {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    token: \"\",\n  });\n  useEffect(() => {\n    let token = props.match.params.token;\n    let name = jwt.decode(token);\n    if (token) {\n      setFormData({ ...formData, name, token });\n    }\n  }, []);\n  const { token } = formData;\n  const hanldeSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post(\"http://localhost:2704/api/activision\", {\n        token,\n      })\n      .then((res) => {\n        toast.success(res.data.message);\n        authenicate(res);\n      })\n      .catch((err) => {\n        toast.error(\"Something went wrong please try again\");\n      });\n  };\n  return (\n    <>\n      {isAuth() ? <Redirect to=\"/\" /> : null}\n      <ToastContainer />\n      <form className=\"active_page\" onSubmit={hanldeSubmit}>\n        <p>Active page</p>\n        <button\n          type=\"submit\"\n          style={{ backgroundColor: \"rgba(46, 229, 156, 0.788)\" }}\n          className=\"facebook_login\"\n        >\n          Xác nhận\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default ActivatePage;\n"]},"metadata":{},"sourceType":"module"}