{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import{ToastContainer,toast}from'react-toastify';import Paper from'@material-ui/core/Paper';import{Link}from'react-router-dom';function ChangePassword(_ref){var match=_ref.match;var _useState=useState({password1:'',password2:\"\",token:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var password1=formData.password1,password2=formData.password2,token=formData.token;useEffect(function(){var token=match.params.token;if(token){setFormData(_objectSpread(_objectSpread({},formData),{},{token:token}));}},[token]);var handleChange=function handleChange(text){return function(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},text,e.target.value)));};};var handleSubmit=function handleSubmit(e){e.preventDefault();if(password1===password2&&password1){axios.put(\"http://localhost:2704/api/change/password\",{newPassword:password1,passwordLink:token}).then(function(res){setFormData({password1:\"\",password2:\"\"});toast.success(res.data.message);}).catch(function(err){console.log(err);toast.error(err.response.data.error);});}else{toast.error(\"Password does not match\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"forget_password_page\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(Paper,{elevation:3,children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Thay \\u0111\\u1ED5i m\\u1EADt kh\\u1EA9u c\\u1EE7a b\\u1EA1n \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form__group field\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"changePassword_input_div\",children:[/*#__PURE__*/_jsx(\"input\",{value:password1,onChange:handleChange(\"password1\"),type:\"password\",className:\"form__field\",placeholder:\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\",name:\"name\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form__label\",children:\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{value:password2,onChange:handleChange(\"password2\"),type:\"password\",className:\"form__field\",placeholder:\"Nh\\u1EADp l\\u1EA1i\",name:\"password\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form__label\",children:\"Nh\\u1EADp l\\u1EA1i\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-sign\",children:/*#__PURE__*/_jsx(\"button\",{id:\"button_change_password\",className:\"treat-button\",type:\"submit\",children:\"Thay \\u0111\\u1ED5i\"})}),/*#__PURE__*/_jsx(Link,{className:\"href_link\",to:\"/\",children:\"Quay tr\\u1EDF l\\u1EA1i trang ch\\u1EE7\"})]})]})]});}export default ChangePassword;","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/component/loginComponent/changePassword.js"],"names":["axios","React","useEffect","useState","ToastContainer","toast","Paper","Link","ChangePassword","match","password1","password2","token","formData","setFormData","params","handleChange","text","e","target","value","handleSubmit","preventDefault","put","newPassword","passwordLink","then","res","success","data","message","catch","err","console","log","error","response"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Paper from '@material-ui/core/Paper';\nimport { Link } from 'react-router-dom';\n\nfunction ChangePassword({ match }) {\n    const [formData, setFormData] = useState({\n        password1: '',\n        password2: \"\",\n        token: \"\"\n    });\n    const { password1, password2, token } = formData;\n    useEffect(() => {\n        let token = match.params.token;\n        if (token) {\n            setFormData({ ...formData, token });\n        }\n    }, [token])\n    const handleChange = text => e => {\n        setFormData({ ...formData, [text]: e.target.value })\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (password1 === password2 && password1) {\n            axios.put(\"http://localhost:2704/api/change/password\", {\n                newPassword: password1,\n                passwordLink: token\n            }).then(res => {\n                setFormData({ password1: \"\", password2: \"\" });\n                toast.success(res.data.message);\n            }).catch(err => {\n                console.log(err)\n                toast.error(err.response.data.error)\n            })\n        } else {\n            toast.error(\"Password does not match\")\n        }\n    }\n    return (\n        <div className=\"forget_password_page\">\n            <ToastContainer />\n            <Paper elevation={3} >\n                <h6>Thay đổi mật khẩu của bạn </h6>\n                <form onSubmit={handleSubmit} className=\"form__group field\">\n                    <div className=\"changePassword_input_div\">\n                        <input\n                            value={password1}\n                            onChange={handleChange(\"password1\")}\n                            type=\"password\"\n                            className=\"form__field\"\n                            placeholder=\"Mật khẩu mới\"\n                            name=\"name\" />\n                        <label className=\"form__label\">Mật khẩu mới</label>\n                    </div>\n                    <div>\n                        <input\n                            value={password2}\n                            onChange={handleChange(\"password2\")}\n                            type=\"password\"\n                            className=\"form__field\"\n                            placeholder=\"Nhập lại\"\n                            name=\"password\" />\n                        <label className=\"form__label\">Nhập lại</label>\n                    </div>\n                    <div className=\"button-sign\">\n                        <button id=\"button_change_password\" className=\"treat-button\" type=\"submit\">Thay đổi</button>\n                    </div>\n                    <Link className=\"href_link\" to=\"/\">Quay trở lại trang chủ</Link>\n                </form>\n\n            </Paper>\n        </div >\n    )\n}\n\nexport default ChangePassword\n"]},"metadata":{},"sourceType":"module"}