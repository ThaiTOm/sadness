{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"../style/homepage.css\";import TextField from'@material-ui/core/TextField';import GoogleLogin from'react-google-login';import FacebookLogin from'react-facebook-login';import{makeStyles}from'@material-ui/core/styles';import{ToastContainer,toast}from\"react-toastify\";import{authenicate}from\"../../helpers/auth\";import axios from\"axios\";require(\"dotenv\").config({\"path\":\"./config/config.env\"});var useStyles=makeStyles(function(theme){return{floatingLabelFocusStyle:{color:\"rgb(167, 166, 166);\"}};});function RegisterForm(){var _useState=useState({email:\"\",name:\"\",password1:\"\",password2:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var email=formData.email,name=formData.name,password1=formData.password1,password2=formData.password2;var handleChange=function handleChange(text){return function(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},text,e.target.value)));};};var handleSubmit=function handleSubmit(e){e.preventDefault();if(name&&email&&password1){if(password1!==password2){toast.error(\"Password does not match\");}else{axios.post(\"http://localhost:2704/api/register\",{name:name,email:email,password:password1}).then(function(res){setFormData(_objectSpread(_objectSpread({},formData),{},{name:\"\",email:\"\",password1:\"\",password2:\"\"}));toast.success(res.data.message);}).catch(function(err){toast.error(err.response.data.error);});}}else{toast.error(\"Please fill all text field\");}};var classes=useStyles();var responseGoogle=function responseGoogle(response){console.log(response);};var sendFacebookToken=function sendFacebookToken(userID,accessToken){axios.post(\"http://localhost:2704/api/facebooklogin\",{userID:userID,accessToken:accessToken}).then(function(res){authenicate(res);window.location.reload(false);}).catch(function(err){toast.error(\"Login with Facebook failed\");});};var responseFacebook=function responseFacebook(response){sendFacebookToken(response.userID,response.accessToken);};return/*#__PURE__*/_jsxs(\"form\",{className:\"form_signIn\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"p\",{className:\"sign_in_title\",children:\"\\u0110\\u0103ng k\\xFD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inputField\",children:/*#__PURE__*/_jsx(TextField,{value:email,onChange:handleChange(\"email\"),id:\"outlined-basic\",label:\"Email \",variant:\"outlined\",InputLabelProps:{className:classes.floatingLabelFocusStyle}})}),/*#__PURE__*/_jsx(\"div\",{className:\"inputField\",children:/*#__PURE__*/_jsx(TextField,{value:name,onChange:handleChange(\"name\"),id:\"outlined-basic-name\",label:\"T\\xEAn \\u0111\\u0103ng nh\\u1EADp \",variant:\"outlined\",InputLabelProps:{className:classes.floatingLabelFocusStyle}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputField\",children:[/*#__PURE__*/_jsx(TextField,{value:password1,onChange:handleChange(\"password1\"),id:\"outlined-password-input\",label:\"M\\u1EADt kh\\u1EA9u\",type:\"password\",variant:\"outlined\",InputLabelProps:{className:classes.floatingLabelFocusStyle}}),/*#__PURE__*/_jsx(\"div\",{className:\"inputField\",children:/*#__PURE__*/_jsx(TextField,{value:password2,onChange:handleChange(\"password2\"),id:\"outlined-repeatPassword-input\",label:\"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\",type:\"password\",variant:\"outlined\",InputLabelProps:{className:classes.floatingLabelFocusStyle}})}),/*#__PURE__*/_jsx(\"div\",{className:\"button-sign\",children:/*#__PURE__*/_jsx(\"button\",{className:\"treat-button\",type:\"submit\",children:\"\\u0110\\u0103ng k\\xFD\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsx(GoogleLogin,{className:\"google_login\",clientId:\"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\",buttonText:\"Login with Google\",onSuccess:responseGoogle,onFailure:responseGoogle,cookiePolicy:'single_host_origin'}),/*#__PURE__*/_jsx(FacebookLogin,{appId:\"688117411891893\",fields:\"name,email,picture\",callback:responseFacebook,cssClass:\"facebook_login\",icon:\"fa-facebook\"})]})]})]});}export default RegisterForm;","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/component/loginComponent/RegisterForm.js"],"names":["React","useState","TextField","GoogleLogin","FacebookLogin","makeStyles","ToastContainer","toast","authenicate","axios","require","config","useStyles","theme","floatingLabelFocusStyle","color","RegisterForm","email","name","password1","password2","formData","setFormData","handleChange","text","e","target","value","handleSubmit","preventDefault","error","post","password","then","res","success","data","message","catch","err","response","classes","responseGoogle","console","log","sendFacebookToken","userID","accessToken","window","location","reload","responseFacebook","className"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport \"../style/homepage.css\"\nimport TextField from '@material-ui/core/TextField';\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { authenicate } from \"../../helpers/auth\";\nimport axios from \"axios\";\n\n\n\nrequire(\"dotenv\").config({\n    \"path\": \"./config/config.env\"\n})\n\nconst useStyles = makeStyles((theme) => ({\n    floatingLabelFocusStyle: {\n        color: \"rgb(167, 166, 166);\"\n    }\n}));\n\nfunction RegisterForm() {\n    const [formData, setFormData] = useState({\n        email: \"\",\n        name: \"\",\n        password1: \"\",\n        password2: \"\"\n    });\n    const { email, name, password1, password2 } = formData;\n    const handleChange = text => e => {\n        setFormData({ ...formData, [text]: e.target.value })\n    }\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (name && email && password1) {\n            if (password1 !== password2) {\n                toast.error(\"Password does not match\");\n            } else {\n                axios.post(`http://localhost:2704/api/register`, {\n                    name, email, password: password1\n                }).then(res => {\n                    setFormData({\n                        ...formData,\n                        name: \"\",\n                        email: \"\",\n                        password1: \"\",\n                        password2: \"\"\n                    })\n                    toast.success(res.data.message)\n                }).catch(err => {\n                    toast.error(err.response.data.error)\n                })\n            }\n        }\n        else {\n            toast.error(\"Please fill all text field\")\n        }\n    }\n\n    const classes = useStyles();\n    const responseGoogle = (response) => {\n        console.log(response);\n    }\n    const sendFacebookToken = (userID, accessToken) => {\n        axios.post(\"http://localhost:2704/api/facebooklogin\", {\n            userID, accessToken\n        }).then(res => {\n            authenicate(res)\n            window.location.reload(false);\n        }).catch(err => {\n            toast.error(\"Login with Facebook failed\")\n        })\n    }\n    const responseFacebook = (response) => {\n        sendFacebookToken(response.userID, response.accessToken)\n    }\n    return (\n        <form className=\"form_signIn\" onSubmit={handleSubmit}>\n            <ToastContainer />\n            <p className=\"sign_in_title\">Đăng ký</p>\n            <div className=\"row\">\n                <div className=\"col-sm-6\">\n                    <div className=\"inputField\">\n                        <TextField\n                            value={email}\n                            onChange={handleChange(\"email\")}\n                            id=\"outlined-basic\"\n                            label=\"Email \"\n                            variant=\"outlined\"\n                            InputLabelProps={{\n                                className: classes.floatingLabelFocusStyle,\n                            }}\n                        />\n                    </div>\n                    <div className=\"inputField\">\n                        <TextField\n                            value={name}\n                            onChange={handleChange(\"name\")}\n                            id=\"outlined-basic-name\"\n                            label=\"Tên đăng nhập \"\n                            variant=\"outlined\"\n                            InputLabelProps={{\n                                className: classes.floatingLabelFocusStyle,\n                            }}\n                        />\n                    </div>\n                    <div className=\"inputField\">\n                        <TextField\n                            value={password1}\n                            onChange={handleChange(\"password1\")}\n                            id=\"outlined-password-input\"\n                            label=\"Mật khẩu\"\n                            type=\"password\"\n                            variant=\"outlined\"\n                            InputLabelProps={{\n                                className: classes.floatingLabelFocusStyle,\n                            }}\n                        />\n                        <div className=\"inputField\">\n                            <TextField\n                                value={password2}\n                                onChange={handleChange(\"password2\")}\n                                id=\"outlined-repeatPassword-input\"\n                                label=\"Nhập lại mật khẩu\"\n                                type=\"password\"\n                                variant=\"outlined\"\n                                InputLabelProps={{\n                                    className: classes.floatingLabelFocusStyle,\n                                }}\n                            />\n                        </div>\n                        <div className=\"button-sign\">\n                            <button className=\"treat-button\" type=\"submit\">Đăng ký</button>\n                        </div>\n\n                    </div>\n                </div>\n\n                <div className=\"col-sm-6\">\n\n                    <GoogleLogin\n                        className=\"google_login\"\n                        clientId=\"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com\"\n                        buttonText=\"Login with Google\"\n                        onSuccess={responseGoogle}\n                        onFailure={responseGoogle}\n                        cookiePolicy={'single_host_origin'}\n                    />\n                    <FacebookLogin\n                        appId=\"688117411891893\"\n                        fields=\"name,email,picture\"\n                        callback={responseFacebook}\n                        cssClass=\"facebook_login\"\n                        icon=\"fa-facebook\"\n                    />\n                </div>\n            </div>\n        </form>\n\n    )\n}\n\nexport default RegisterForm\n"]},"metadata":{},"sourceType":"module"}