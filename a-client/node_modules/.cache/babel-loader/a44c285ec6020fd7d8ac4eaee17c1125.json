{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{getCookie}from'../../helpers/auth';// This function is use for send and view message\nimport ChatCouple from\"./miniChatCom/chatCouple\";import ChatGroup from'./miniChatCom/chatGroup';import Peer from\"peerjs\";function SendContact(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),peer=_useState2[0],setPeer=_useState2[1];var userId=getCookie().token;var newNull=function newNull(){peer.destroy();};var createPeer=function createPeer(){var peerJS=new Peer(userId,{host:\"/\",port:2704,path:\"/peerjs\"});return peerJS;};useEffect(function(){peer&&newNull();var peerJS=createPeer();setPeer(peerJS);},[props.id]);return/*#__PURE__*/_jsx(_Fragment,{children:peer?props.id[props.id.length-1]===\"a\"?/*#__PURE__*/_jsx(ChatCouple,{onClick:function onClick(value){return props.onClick(value);},peerJS:peer,id:props.id}):/*#__PURE__*/_jsx(ChatGroup,{onClick:function onClick(value){return props.onClick(value);},peerJS:peer,id:props.id}):console.log()});}export default SendContact;","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/component/chatComponent/sendContact.js"],"names":["React","useState","useEffect","getCookie","ChatCouple","ChatGroup","Peer","SendContact","props","peer","setPeer","userId","token","newNull","destroy","createPeer","peerJS","host","port","path","id","length","value","onClick","console","log"],"mappings":"+PAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,oBAA1B,CACA;AACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,eACAP,QAAQ,CAAC,IAAD,CADR,wCACjBQ,IADiB,eACXC,OADW,eAExB,GAAMC,CAAAA,MAAM,CAAGR,SAAS,GAAGS,KAA3B,CACA,GAAIC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAChBJ,IAAI,CAACK,OAAL,GACH,CAFD,CAGA,GAAIC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACnB,GAAIC,CAAAA,MAAM,CAAG,GAAIV,CAAAA,IAAJ,CAASK,MAAT,CAAiB,CAC1BM,IAAI,CAAE,GADoB,CAE1BC,IAAI,CAAE,IAFoB,CAG1BC,IAAI,CAAE,SAHoB,CAAjB,CAAb,CAKA,MAAOH,CAAAA,MAAP,CACH,CAPD,CAQAd,SAAS,CAAC,UAAM,CACZO,IAAI,EAAII,OAAO,EAAf,CACA,GAAIG,CAAAA,MAAM,CAAGD,UAAU,EAAvB,CACAL,OAAO,CAACM,MAAD,CAAP,CACH,CAJQ,CAIN,CAACR,KAAK,CAACY,EAAP,CAJM,CAAT,CAMA,mBACI,yBACKX,IAAI,CACDD,KAAK,CAACY,EAAN,CAASZ,KAAK,CAACY,EAAN,CAASC,MAAT,CAAkB,CAA3B,IAAkC,GAAlC,cACI,KAAC,UAAD,EAAY,OAAO,CAAE,iBAACC,KAAD,QAAWd,CAAAA,KAAK,CAACe,OAAN,CAAcD,KAAd,CAAX,EAArB,CAAsD,MAAM,CAAEb,IAA9D,CAAoE,EAAE,CAAED,KAAK,CAACY,EAA9E,EADJ,cAEI,KAAC,SAAD,EAAW,OAAO,CAAE,iBAACE,KAAD,QAAWd,CAAAA,KAAK,CAACe,OAAN,CAAcD,KAAd,CAAX,EAApB,CAAqD,MAAM,CAAEb,IAA7D,CAAmE,EAAE,CAAED,KAAK,CAACY,EAA7E,EAHH,CAIDI,OAAO,CAACC,GAAR,EALR,EADJ,CAUH,CAED,cAAelB,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { getCookie } from '../../helpers/auth';\n// This function is use for send and view message\nimport ChatCouple from \"./miniChatCom/chatCouple\"\nimport ChatGroup from './miniChatCom/chatGroup'\nimport Peer from \"peerjs\"\n\nfunction SendContact(props) {\n    const [peer, setPeer] = useState(null)\n    const userId = getCookie().token;\n    let newNull = () => {\n        peer.destroy()\n    }\n    let createPeer = () => {\n        var peerJS = new Peer(userId, {\n            host: \"/\",\n            port: 2704,\n            path: \"/peerjs\"\n        })\n        return peerJS\n    }\n    useEffect(() => {\n        peer && newNull()\n        let peerJS = createPeer()\n        setPeer(peerJS)\n    }, [props.id])\n\n    return (\n        <>\n            {peer ?\n                props.id[props.id.length - 1] === \"a\" ?\n                    <ChatCouple onClick={(value) => props.onClick(value)} peerJS={peer} id={props.id} /> :\n                    <ChatGroup onClick={(value) => props.onClick(value)} peerJS={peer} id={props.id} /> :\n                console.log()\n            }\n        </>\n    )\n}\n\nexport default SendContact"]},"metadata":{},"sourceType":"module"}