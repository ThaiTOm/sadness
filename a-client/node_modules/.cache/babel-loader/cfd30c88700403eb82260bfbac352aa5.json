{"ast":null,"code":"let db;\nlet dbReq = indexedDB.open('myDatabase', 3);\n\nfunction addStickyNote(db, message) {\n  // Start a database transaction and get the notes object store\n  let tx = db.transaction(['notes'], 'readwrite');\n  let store = tx.objectStore('notes'); // Put the sticky note into the object store\n  // let note = { text: message, timestamp: Date.now() };\n  // store.add(note);\n  // Wait for the database transaction to complete\n  // tx.oncomplete = function () { console.log('stored note!') }\n  // tx.onerror = function (event) {\n  //     alert('error storing note ' + event.target.errorCode);\n  // }\n\n  let req = store.get(1);\n  req.onsuccess(e => {\n    let data = e.target.value;\n    console.log(data);\n  });\n}\n\ndbReq.onupgradeneeded = function (event) {\n  // Set the db variable to our database so we can use it!  \n  db = event.target.result; // Create an object store named notes. Object stores\n  // in databases are where data are stored.\n\n  let notes = db.createObjectStore('notes', {\n    autoIncrement: true\n  });\n};\n\ndbReq.onsuccess = function (event) {\n  db = event.target.result;\n  addStickyNote(db, 'Sloths are awesome!');\n  addStickyNote(db, 'Order more hibiscus tea');\n  addStickyNote(db, 'And Green Sheen shampoo, the best for sloth fur algae grooming!');\n};\n\ndbReq.onerror = function (event) {\n  alert('error opening database ' + event.target.errorCode);\n};","map":{"version":3,"sources":["/home/dthai/sadness/a-client/src/helpers/indexeddb.js"],"names":["db","dbReq","indexedDB","open","addStickyNote","message","tx","transaction","store","objectStore","req","get","onsuccess","e","data","target","value","console","log","onupgradeneeded","event","result","notes","createObjectStore","autoIncrement","onerror","alert","errorCode"],"mappings":"AAAA,IAAIA,EAAJ;AACA,IAAIC,KAAK,GAAGC,SAAS,CAACC,IAAV,CAAe,YAAf,EAA6B,CAA7B,CAAZ;;AAEA,SAASC,aAAT,CAAuBJ,EAAvB,EAA2BK,OAA3B,EAAoC;AAChC;AACA,MAAIC,EAAE,GAAGN,EAAE,CAACO,WAAH,CAAe,CAAC,OAAD,CAAf,EAA0B,WAA1B,CAAT;AACA,MAAIC,KAAK,GAAGF,EAAE,CAACG,WAAH,CAAe,OAAf,CAAZ,CAHgC,CAKhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAIC,GAAG,GAAGF,KAAK,CAACG,GAAN,CAAU,CAAV,CAAV;AACAD,EAAAA,GAAG,CAACE,SAAJ,CAAeC,CAAD,IAAO;AACjB,QAAIC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAApB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACH,GAHD;AAIH;;AACDb,KAAK,CAACkB,eAAN,GAAwB,UAAUC,KAAV,EAAiB;AACrC;AACApB,EAAAA,EAAE,GAAGoB,KAAK,CAACL,MAAN,CAAaM,MAAlB,CAFqC,CAIrC;AACA;;AACA,MAAIC,KAAK,GAAGtB,EAAE,CAACuB,iBAAH,CAAqB,OAArB,EAA8B;AAAEC,IAAAA,aAAa,EAAE;AAAjB,GAA9B,CAAZ;AACH,CAPD;;AAQAvB,KAAK,CAACW,SAAN,GAAkB,UAAUQ,KAAV,EAAiB;AAC/BpB,EAAAA,EAAE,GAAGoB,KAAK,CAACL,MAAN,CAAaM,MAAlB;AACAjB,EAAAA,aAAa,CAACJ,EAAD,EAAK,qBAAL,CAAb;AACAI,EAAAA,aAAa,CAACJ,EAAD,EAAK,yBAAL,CAAb;AACAI,EAAAA,aAAa,CAACJ,EAAD,EAAK,iEAAL,CAAb;AACH,CALD;;AAOAC,KAAK,CAACwB,OAAN,GAAgB,UAAUL,KAAV,EAAiB;AAC7BM,EAAAA,KAAK,CAAC,4BAA4BN,KAAK,CAACL,MAAN,CAAaY,SAA1C,CAAL;AACH,CAFD","sourcesContent":["let db;\nlet dbReq = indexedDB.open('myDatabase', 3);\n\nfunction addStickyNote(db, message) {\n    // Start a database transaction and get the notes object store\n    let tx = db.transaction(['notes'], 'readwrite');\n    let store = tx.objectStore('notes');\n\n    // Put the sticky note into the object store\n    // let note = { text: message, timestamp: Date.now() };\n    // store.add(note);\n    // Wait for the database transaction to complete\n    // tx.oncomplete = function () { console.log('stored note!') }\n    // tx.onerror = function (event) {\n    //     alert('error storing note ' + event.target.errorCode);\n    // }\n    let req = store.get(1)\n    req.onsuccess((e) => {\n        let data = e.target.value\n        console.log(data)\n    })\n}\ndbReq.onupgradeneeded = function (event) {\n    // Set the db variable to our database so we can use it!  \n    db = event.target.result;\n\n    // Create an object store named notes. Object stores\n    // in databases are where data are stored.\n    let notes = db.createObjectStore('notes', { autoIncrement: true });\n}\ndbReq.onsuccess = function (event) {\n    db = event.target.result;\n    addStickyNote(db, 'Sloths are awesome!');\n    addStickyNote(db, 'Order more hibiscus tea');\n    addStickyNote(db, 'And Green Sheen shampoo, the best for sloth fur algae grooming!');\n}\n\ndbReq.onerror = function (event) {\n    alert('error opening database ' + event.target.errorCode);\n}"]},"metadata":{},"sourceType":"module"}