{"ast":null,"code":"import _objectSpread from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/duythai/Developer/sadness/a-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Dropzone from'react-dropzone';import Modal from'@material-ui/core/Modal';import Backdrop from'@material-ui/core/Backdrop';import Fade from'@material-ui/core/Fade';import CreateOutlinedIcon from'@material-ui/icons/CreateOutlined';import CloudUploadIcon from'@material-ui/icons/CloudUpload';import axios from\"axios\";import{getCookie}from'./auth';import RequireLogin from'./requireLogin';// import { emoji } from '../../../helpers/emoji';\nimport{IconButton,Menu}from'@material-ui/core';import{toast}from\"react-toastify\";function Index(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];// const [dataFile, setDataFile] = useState(\"\")\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),login=_useState8[0],setLogin=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),anchorEl=_useState10[0],setAnchorEl=_useState10[1];var id=getCookie().token;var dragFile=function dragFile(file){var data=file[0];var reader=new FileReader();reader.readAsDataURL(data);reader.onloadend=function(){setFile(function(value){return[].concat(_toConsumableArray(value),[reader.result]);});};};var handleSubmit=function handleSubmit(e){e.preventDefault();text&&axios.post(\"http://localhost:2704/api/news/post\",{text:text,file:file,id:id}).then(function(data){toast.success(\"Bài viết của ban đã được đăng\");handleClose();}).catch(function(err){console.log(err);});};var handleOpen=function handleOpen(){if(!id){setLogin(true);}else{setOpen(true);}};var handleClose=function handleClose(){setOpen(false);};var handleDeleteImamge=function handleDeleteImamge(index){var arr=_toConsumableArray(file);arr.splice(index,1);setFile(arr);};var handleChangeText=function handleChangeText(e){setText(e);};var handleLineBreak=function handleLineBreak(e){if(e.key===\"Enter\"){var value=text+\"<br/>\";setText(value);}};var handleOpenEmo=function handleOpenEmo(event){setAnchorEl(event.currentTarget);};var handleCloseEmo=function handleCloseEmo(){setAnchorEl(null);};var emojiSubmit=function emojiSubmit(e,emo){var value=text+\" &#\"+emo+\";\";handleChangeText(value);handleCloseEmo();};return/*#__PURE__*/_jsxs(\"div\",{className:\"post_data inner_title\",children:[login===true?/*#__PURE__*/_jsx(RequireLogin,{onClick:function onClick(value){return setLogin(value);}}):console.log(),/*#__PURE__*/_jsx(\"button\",{className:\"post_data_button\",type:\"button\",onClick:handleOpen,children:/*#__PURE__*/_jsx(CreateOutlinedIcon,{})}),/*#__PURE__*/_jsx(\"span\",{className:\"title\",id:\"post_blog_title\",children:\"\\u0110\\u0103ng t\\u1EA3i b\\xE0i vi\\u1EBFt c\\u1EE7a b\\u1EA1n\"}),/*#__PURE__*/_jsx(Modal,{className:\"modal_post_blog\",\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\"// className={classes.modal}\n,open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form_post_blog\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"close_form_button\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleClose,children:\"x\"})}),/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0110\\u0103ng t\\u1EA3i \"}),/*#__PURE__*/_jsxs(\"div\",{id:\"form_post_blog_div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input_extension\",children:[/*#__PURE__*/_jsx(IconButton,{\"aria-controls\":\"simple_menu_emoji\",\"aria-haspopup\":\"true\",onClick:handleOpenEmo,children:/*#__PURE__*/_jsx(\"img\",{alt:\"emoji_image\",src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABmJLR0QA/wD/AP+gvaeTAAAC/klEQVRIie2SX2jVdRjGn+9vO5PTFuMcK9ESFHXIiiQmjUDCYDbXRX9uRjACwwuhP8JCuoiiIxRUohdBfxbDi9kIpIv+UyAhrjDoJGp6IVoMzTnz7HjmdP9+7/M+XvzOOW47u/Vuz9WX7/t+n8/L+3yBJS3pbilUDkeem2iNQpR2V9zxXdPpuU0/dU201kVMOzXW9XNm+HBHsTnFaH2lTnA6Jm6cO5a9nEPwhZDoziF8IikfAk4defbm9sr9j8+UNst1Jo5DPrbwKgA0ePSBpDxdeTPlGYczwcLFlieKxUOPF74cbP9/w6KQENDrAkkhNvVW7mVhL12B1FWa3gcAc6VIgJToum7UJF0g1eyOntjCiYNthfYayFPfNJ10qp8U3PX0953XN327rbSZVBcpOH3PC0czJQAwA8qm4y/+ns32HF/eCNo60gdIwUxNNsuDOSiaB0mm9rdIjZGCW9jtjvdIBad+e/5oZrDaRwcpkKq+7flzxb/Df93/Mqk/yrXWBzZeeawGsv2X5qI79pabXqKpk4RReiUgVB1tEQgA5BDcXANWrsUeHqmBAMD0rRv9pCZJpMpGQ93Hsn/P7SEBWwQCAIw1QiqpGxoXhYSGxl5S91AaJwW6tg60F7fMMzKBlhgtVExfa5YM4NRoDeTrJ8c30PB2kom/Q2KIVHDj531tSlUhQrIuW7Curap3+k53QQ5rSIWheRBBYTa2T0mlSY3Wh6l+M99nycQPByu8Xum12GEUjHfeHlh3aX3T8MiglOSACF/svrDy2jzIV+3FHU51lL/gh93HV0/tOHHfD6ROJuvx3GcthQeTTCrBe/P+tZeL+9eM3HJG5wF0l+1+jWLfU/GOAGBwSyljrn3JdBptXDbdBwABQTH93SREv3c2zH5UzmTGzEEqSMgASAMQgFNBeO3mmlWdb/y3eqqaMwD0tSm1TIVHYwA+U3dt19nsxbm7/rjl6iaR9TOhrvTmhRX/HHjoUjpEDSsrdU9ZPDEVxnIjqyZrfsKSlnRXdRsr+i4fv8vwiwAAAABJRU5ErkJggg==\"})}),/*#__PURE__*/_jsxs(IconButton,{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"setting_image\",src:\"data:image/png;base64,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\"}),\"                                \"]}),/*#__PURE__*/_jsx(Menu,{id:\"simple_menu_emoji\",anchorEl:anchorEl,keepMounted:true,open:Boolean(anchorEl),onClose:handleCloseEmo})]}),/*#__PURE__*/_jsx(\"div\",{contentEditable:true,onKeyPress:handleLineBreak,id:\"type_text_div\",onInput:function onInput(e){return handleChangeText(e.target.innerText);}})]}),/*#__PURE__*/_jsx(Dropzone,{className:\"inner_title\",onDrop:function onDrop(acceptedFiles){return dragFile(acceptedFiles);},children:function children(_ref){var getRootProps=_ref.getRootProps,getInputProps=_ref.getInputProps;return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:\"drag_file\"},getRootProps()),{},{children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({},getInputProps())),/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:/*#__PURE__*/_jsx(CloudUploadIcon,{})})]}))});}}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"image_post_news\",children:typeof file!=='undefined'?Object.values(file).map(function(value,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"img\",{alt:\"image_upload\",src:value}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return handleDeleteImamge(index);},children:\"\\u2715\"})]},index);}):{}})}),/*#__PURE__*/_jsx(IconButton,{id:\"upload_submit_button\",type:\"submit\",children:/*#__PURE__*/_jsx(\"img\",{alt:\"upload_image\",src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABWUlEQVRoge2XPU7DQBBGZ1AoENAhhUOEboVEQx0uQ86A0kAHFRUiZwAKJCoaKPAJqEC0CA4A6NEswjiOf0I2XsM8aaX1eOT5niXbsohhGIZhRAqwCtz7tdJ0nqkAloAbvrkDlpvOVQsvccU4162RKZBoj0yOxElqf9wKmRyJA6CXOu4Be9HLABepkENf+yHia8NU7bzZ1BkABV7SEr4+JuLrXzKvgDaTegLABtDP1HJF/LmdbC1aikRmzULIi88TE4kNE4kNE4kNE4kNE4mNTuDrP4rIk4ggIg+BZ4UF6AChb5iU/gskSbKmqlvApXPuLXSgzOxFVe0Dt86556LeKs/ICDgTkd3ZxKvFwM8+LWssFQG6frv+21RT0PUZSmf/mbeWicSGicRGnQ/VdpIk+8GSTJhZtbFURFU//HbTr7mTyjCRUhHgSFUHVXoD8Q4cNjTbMAzD+Cd8AmWxfs2z9GiSAAAAAElFTkSuQmCC\"})})]})})})]});}export default Index;","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/helpers/postBlog.js"],"names":["React","useState","Dropzone","Modal","Backdrop","Fade","CreateOutlinedIcon","CloudUploadIcon","axios","getCookie","RequireLogin","IconButton","Menu","toast","Index","text","setText","file","setFile","open","setOpen","login","setLogin","anchorEl","setAnchorEl","id","token","dragFile","data","reader","FileReader","readAsDataURL","onloadend","value","result","handleSubmit","e","preventDefault","post","then","success","handleClose","catch","err","console","log","handleOpen","handleDeleteImamge","index","arr","splice","handleChangeText","handleLineBreak","key","handleOpenEmo","event","currentTarget","handleCloseEmo","emojiSubmit","emo","timeout","Boolean","target","innerText","acceptedFiles","getRootProps","getInputProps","Object","values","map"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Dropzone from 'react-dropzone'\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport Fade from '@material-ui/core/Fade';\nimport CreateOutlinedIcon from '@material-ui/icons/CreateOutlined';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport axios from \"axios\";\nimport { getCookie } from './auth';\nimport RequireLogin from './requireLogin';\n// import { emoji } from '../../../helpers/emoji';\nimport { IconButton, Menu } from '@material-ui/core';\nimport { toast } from \"react-toastify\"\n\nfunction Index() {\n    const [text, setText] = useState(\"\")\n    const [file, setFile] = useState([])\n    // const [dataFile, setDataFile] = useState(\"\")\n    const [open, setOpen] = useState(false)\n    const [login, setLogin] = useState(false)\n    const [anchorEl, setAnchorEl] = useState(null)\n    const id = getCookie().token;\n\n    const dragFile = (file) => {\n        let data = file[0];\n        let reader = new FileReader()\n        reader.readAsDataURL(data)\n        reader.onloadend = () => {\n            setFile(value => [...value, reader.result])\n        }\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        text && axios.post(\"http://localhost:2704/api/news/post\", { text, file, id })\n            .then(data => {\n                toast.success(\"Bài viết của ban đã được đăng\")\n                handleClose()\n            }).catch(err => {\n                console.log(err)\n            })\n    }\n    const handleOpen = () => {\n        if (!id) {\n            setLogin(true)\n        } else {\n            setOpen(true);\n        }\n\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const handleDeleteImamge = (index) => {\n        const arr = [...file]\n        arr.splice(index, 1)\n        setFile(arr)\n    }\n    const handleChangeText = e => {\n        setText(e)\n    }\n    const handleLineBreak = e => {\n        if (e.key === \"Enter\") {\n            let value = text + \"<br/>\"\n            setText(value)\n        }\n    }\n    const handleOpenEmo = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleCloseEmo = () => {\n        setAnchorEl(null);\n    };\n    const emojiSubmit = (e, emo) => {\n        let value = text + \" &#\" + emo + \";\"\n        handleChangeText(value)\n        handleCloseEmo()\n    }\n\n    return (\n        <div className=\"post_data inner_title\">\n            {login === true ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            <button className=\"post_data_button\" type=\"button\" onClick={handleOpen}>\n                <CreateOutlinedIcon />\n            </button>\n            <span className=\"title\" id=\"post_blog_title\">\n                Đăng tải bài viết của bạn\n                </span>\n            <Modal\n                className=\"modal_post_blog\"\n                aria-labelledby=\"transition-modal-title\"\n                aria-describedby=\"transition-modal-description\"\n                // className={classes.modal}\n                open={open}\n                onClose={handleClose}\n                closeAfterTransition\n                BackdropComponent={Backdrop}\n                BackdropProps={{\n                    timeout: 500,\n                }}\n            >\n                <Fade in={open}>\n                    <form onSubmit={handleSubmit} className=\"form_post_blog\">\n                        <div className=\"close_form_button\">\n                            <IconButton onClick={handleClose}>\n                                x\n                            </IconButton>\n                        </div>\n                        <h4>Đăng tải </h4>\n                        <div id=\"form_post_blog_div\">\n                            <div className=\"input_extension\">\n                                <IconButton aria-controls=\"simple_menu_emoji\" aria-haspopup=\"true\" onClick={handleOpenEmo}>\n                                    <img alt=\"emoji_image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABmJLR0QA/wD/AP+gvaeTAAAC/klEQVRIie2SX2jVdRjGn+9vO5PTFuMcK9ESFHXIiiQmjUDCYDbXRX9uRjACwwuhP8JCuoiiIxRUohdBfxbDi9kIpIv+UyAhrjDoJGp6IVoMzTnz7HjmdP9+7/M+XvzOOW47u/Vuz9WX7/t+n8/L+3yBJS3pbilUDkeem2iNQpR2V9zxXdPpuU0/dU201kVMOzXW9XNm+HBHsTnFaH2lTnA6Jm6cO5a9nEPwhZDoziF8IikfAk4defbm9sr9j8+UNst1Jo5DPrbwKgA0ePSBpDxdeTPlGYczwcLFlieKxUOPF74cbP9/w6KQENDrAkkhNvVW7mVhL12B1FWa3gcAc6VIgJToum7UJF0g1eyOntjCiYNthfYayFPfNJ10qp8U3PX0953XN327rbSZVBcpOH3PC0czJQAwA8qm4y/+ns32HF/eCNo60gdIwUxNNsuDOSiaB0mm9rdIjZGCW9jtjvdIBad+e/5oZrDaRwcpkKq+7flzxb/Df93/Mqk/yrXWBzZeeawGsv2X5qI79pabXqKpk4RReiUgVB1tEQgA5BDcXANWrsUeHqmBAMD0rRv9pCZJpMpGQ93Hsn/P7SEBWwQCAIw1QiqpGxoXhYSGxl5S91AaJwW6tg60F7fMMzKBlhgtVExfa5YM4NRoDeTrJ8c30PB2kom/Q2KIVHDj531tSlUhQrIuW7Curap3+k53QQ5rSIWheRBBYTa2T0mlSY3Wh6l+M99nycQPByu8Xum12GEUjHfeHlh3aX3T8MiglOSACF/svrDy2jzIV+3FHU51lL/gh93HV0/tOHHfD6ROJuvx3GcthQeTTCrBe/P+tZeL+9eM3HJG5wF0l+1+jWLfU/GOAGBwSyljrn3JdBptXDbdBwABQTH93SREv3c2zH5UzmTGzEEqSMgASAMQgFNBeO3mmlWdb/y3eqqaMwD0tSm1TIVHYwA+U3dt19nsxbm7/rjl6iaR9TOhrvTmhRX/HHjoUjpEDSsrdU9ZPDEVxnIjqyZrfsKSlnRXdRsr+i4fv8vwiwAAAABJRU5ErkJggg==\" />\n                                </IconButton>\n                                <IconButton>\n                                    <img alt=\"setting_image\" src=\"data:image/png;base64,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\" />                                </IconButton>\n                                <Menu\n                                    id=\"simple_menu_emoji\"\n                                    anchorEl={anchorEl}\n                                    keepMounted\n                                    open={Boolean(anchorEl)}\n                                    onClose={handleCloseEmo}>\n                                </Menu>\n                            </div>\n                            <div\n                                contentEditable={true}\n                                onKeyPress={handleLineBreak}\n                                id=\"type_text_div\"\n                                onInput={e => handleChangeText(e.target.innerText)} >\n                            </div>\n                        </div>\n                        <Dropzone\n                            className=\"inner_title\"\n                            onDrop={acceptedFiles => dragFile(acceptedFiles)}>\n                            {({ getRootProps, getInputProps }) => (\n                                <section >\n                                    <div className=\"drag_file\" {...getRootProps()}>\n                                        <input {...getInputProps()} />\n                                        <div className=\"icon\">\n                                            <CloudUploadIcon />\n                                        </div>\n                                    </div>\n                                </section>\n\n                            )}\n                        </Dropzone>\n                        <div>\n                            <div className=\"image_post_news\">\n                                {\n                                    typeof file !== 'undefined' ? Object.values(file).map(function (value, index) {\n                                        return <li key={index}>\n                                            <img alt=\"image_upload\" src={value}></img>\n                                            <span onClick={() => handleDeleteImamge(index)}>&#10005;</span>\n                                        </li>\n                                    }) : {}}\n                            </div>\n                        </div>\n                        <IconButton id=\"upload_submit_button\" type=\"submit\">\n                            <img alt=\"upload_image\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABWUlEQVRoge2XPU7DQBBGZ1AoENAhhUOEboVEQx0uQ86A0kAHFRUiZwAKJCoaKPAJqEC0CA4A6NEswjiOf0I2XsM8aaX1eOT5niXbsohhGIZhRAqwCtz7tdJ0nqkAloAbvrkDlpvOVQsvccU4162RKZBoj0yOxElqf9wKmRyJA6CXOu4Be9HLABepkENf+yHia8NU7bzZ1BkABV7SEr4+JuLrXzKvgDaTegLABtDP1HJF/LmdbC1aikRmzULIi88TE4kNE4kNE4kNE4kNE4mNTuDrP4rIk4ggIg+BZ4UF6AChb5iU/gskSbKmqlvApXPuLXSgzOxFVe0Dt86556LeKs/ICDgTkd3ZxKvFwM8+LWssFQG6frv+21RT0PUZSmf/mbeWicSGicRGnQ/VdpIk+8GSTJhZtbFURFU//HbTr7mTyjCRUhHgSFUHVXoD8Q4cNjTbMAzD+Cd8AmWxfs2z9GiSAAAAAElFTkSuQmCC\" />\n                        </IconButton>\n                    </form>\n                </Fade>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}