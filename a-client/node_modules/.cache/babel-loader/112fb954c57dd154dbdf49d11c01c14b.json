{"ast":null,"code":"let db;\nlet dbReq = indexedDB.open('myDatabase', 3);\n\nfunction addStickyNote(db, message) {\n  // Start a database transaction and get the notes object store\n  let tx = db.transaction(['notes'], 'readwrite');\n  let store = tx.objectStore('notes'); // Put the sticky note into the object store\n\n  let note = {\n    text: message,\n    timestamp: Date.now()\n  };\n  store.add(note); // Wait for the database transaction to complete\n\n  tx.oncomplete = function () {\n    console.log('stored note!');\n  };\n\n  tx.onerror = function (event) {\n    alert('error storing note ' + event.target.errorCode);\n  };\n}\n\ndbReq.onupgradeneeded = function (event) {\n  // Set the db variable to our database so we can use it!  \n  db = event.target.result; // Create an object store named notes. Object stores\n  // in databases are where data are stored.\n\n  let notes = db.createObjectStore('notes', {\n    autoIncrement: true\n  });\n};\n\ndbReq.onsuccess = function (event) {\n  db = event.target.result;\n};\n\ndbReq.onerror = function (event) {\n  alert('error opening database ' + event.target.errorCode);\n};","map":{"version":3,"sources":["/home/dthai/sadness/a-client/src/helpers/indexeddb.js"],"names":["db","dbReq","indexedDB","open","addStickyNote","message","tx","transaction","store","objectStore","note","text","timestamp","Date","now","add","oncomplete","console","log","onerror","event","alert","target","errorCode","onupgradeneeded","result","notes","createObjectStore","autoIncrement","onsuccess"],"mappings":"AAAA,IAAIA,EAAJ;AACA,IAAIC,KAAK,GAAGC,SAAS,CAACC,IAAV,CAAe,YAAf,EAA6B,CAA7B,CAAZ;;AAEA,SAASC,aAAT,CAAuBJ,EAAvB,EAA2BK,OAA3B,EAAoC;AAChC;AACA,MAAIC,EAAE,GAAGN,EAAE,CAACO,WAAH,CAAe,CAAC,OAAD,CAAf,EAA0B,WAA1B,CAAT;AACA,MAAIC,KAAK,GAAGF,EAAE,CAACG,WAAH,CAAe,OAAf,CAAZ,CAHgC,CAKhC;;AACA,MAAIC,IAAI,GAAG;AAAEC,IAAAA,IAAI,EAAEN,OAAR;AAAiBO,IAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL;AAA5B,GAAX;AACAN,EAAAA,KAAK,CAACO,GAAN,CAAUL,IAAV,EAPgC,CAShC;;AACAJ,EAAAA,EAAE,CAACU,UAAH,GAAgB,YAAY;AAAEC,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAA6B,GAA3D;;AACAZ,EAAAA,EAAE,CAACa,OAAH,GAAa,UAAUC,KAAV,EAAiB;AAC1BC,IAAAA,KAAK,CAAC,wBAAwBD,KAAK,CAACE,MAAN,CAAaC,SAAtC,CAAL;AACH,GAFD;AAGH;;AACDtB,KAAK,CAACuB,eAAN,GAAwB,UAAUJ,KAAV,EAAiB;AACrC;AACApB,EAAAA,EAAE,GAAGoB,KAAK,CAACE,MAAN,CAAaG,MAAlB,CAFqC,CAIrC;AACA;;AACA,MAAIC,KAAK,GAAG1B,EAAE,CAAC2B,iBAAH,CAAqB,OAArB,EAA8B;AAAEC,IAAAA,aAAa,EAAE;AAAjB,GAA9B,CAAZ;AACH,CAPD;;AAQA3B,KAAK,CAAC4B,SAAN,GAAkB,UAAUT,KAAV,EAAiB;AAC/BpB,EAAAA,EAAE,GAAGoB,KAAK,CAACE,MAAN,CAAaG,MAAlB;AACH,CAFD;;AAIAxB,KAAK,CAACkB,OAAN,GAAgB,UAAUC,KAAV,EAAiB;AAC7BC,EAAAA,KAAK,CAAC,4BAA4BD,KAAK,CAACE,MAAN,CAAaC,SAA1C,CAAL;AACH,CAFD","sourcesContent":["let db;\nlet dbReq = indexedDB.open('myDatabase', 3);\n\nfunction addStickyNote(db, message) {\n    // Start a database transaction and get the notes object store\n    let tx = db.transaction(['notes'], 'readwrite');\n    let store = tx.objectStore('notes');\n\n    // Put the sticky note into the object store\n    let note = { text: message, timestamp: Date.now() };\n    store.add(note);\n\n    // Wait for the database transaction to complete\n    tx.oncomplete = function () { console.log('stored note!') }\n    tx.onerror = function (event) {\n        alert('error storing note ' + event.target.errorCode);\n    }\n}\ndbReq.onupgradeneeded = function (event) {\n    // Set the db variable to our database so we can use it!  \n    db = event.target.result;\n\n    // Create an object store named notes. Object stores\n    // in databases are where data are stored.\n    let notes = db.createObjectStore('notes', { autoIncrement: true });\n}\ndbReq.onsuccess = function (event) {\n    db = event.target.result;\n}\n\ndbReq.onerror = function (event) {\n    alert('error opening database ' + event.target.errorCode);\n}"]},"metadata":{},"sourceType":"module"}