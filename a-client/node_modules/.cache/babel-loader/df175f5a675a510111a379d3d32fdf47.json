{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/duythai/Developer/sadness/a-client/src/component/newsComponents/viewBlog/viewBlog.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Skeleton from \"../exNews/Skeleton\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"../../style/viewBlog.css\";\nimport { getCookie } from '../../../helpers/auth';\nimport socketApp from '../../../socket';\nimport SeeLike from '../exNews/seeLike';\nimport LikeComment from '../exOne/likeComment';\nimport RequireLogin from '../../../helpers/requireLogin';\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\nimport { TextField } from '@material-ui/core';\nimport ShareBlog from '../exOne/shareBlog';\n\nfunction ViewBlog() {\n  _s();\n\n  let socket = socketApp.getSocket();\n  const [start, setStart] = useState(0);\n  const [end, setEnd] = useState(3);\n  const [blog, setBlog] = useState([]);\n  const [comment, setComment] = useState(\"\");\n  const id = getCookie().token;\n  const [login, setLogin] = useState(false);\n\n  const handleSubmit = (e, value) => {\n    e.preventDefault();\n    setComment(\"\");\n    socket.emit(\"comment\", {\n      idRecieve: value.idBlog,\n      idSent: id,\n      value: comment\n    }, error => {});\n  };\n\n  const fetchData = () => {\n    setTimeout(() => {\n      setStart(start + 3);\n      setEnd(end + 3);\n    }, 1500);\n  };\n\n  const handleValidateLogin = () => {\n    if (id) setLogin(null);else setLogin(\"ok\");\n  };\n\n  useEffect(() => {\n    let fn = () => {\n      const setBlogRes = async res => {\n        let a = res.data.data;\n\n        for await (let value of a) {\n          setBlog(a => [...a, value]);\n        }\n      };\n\n      const handleError = () => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"C\\xF3 l\\u1ED7i \\u0111\\u1EA3 x\\u1EA3y ra b\\u1EA1n h\\xE3y th\\u1EED l\\u1EA1i sau\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this);\n      };\n\n      if (id) {\n        axios.get(\"http://localhost:2704/api/news/data?start=\" + start + \"&end=\" + end + \"&id=\" + id).then(res => {\n          setBlogRes(res);\n        }).catch(err => {\n          handleError();\n        });\n      } else {\n        axios.get(\"http://localhost:2704/api/news/dataNo?start=\" + start + \"&end=\" + end).then(res => {\n          setBlogRes(res);\n        }).catch(err => {\n          handleError();\n        });\n      }\n    };\n\n    fn();\n  }, [end]);\n\n  const ImageRender = cb => {\n    const {\n      value\n    } = cb.props;\n\n    switch (value.image.length) {\n      case 0:\n        return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 24\n        }, this);\n\n      case 1:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"one\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/posts/id=\" + value.idBlog,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: value.image[0].slice(100, 110),\n              style: {\n                borderTopLeftRadius: \"25px\",\n                borderBottomLeftRadius: \"25px\",\n                borderTopRightRadius: \"25px\",\n                borderBottomRightRadius: \"25px\"\n              },\n              src: value.image[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"two\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/posts/id=\" + value.idBlog,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              alt: value.image[0].slice(100, 110),\n              style: {\n                borderTopLeftRadius: \"25px\",\n                borderBottomLeftRadius: \"25px\"\n              },\n              src: value.image[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: value.image[1].slice(100, 110),\n              style: {\n                borderTopRightRadius: \"25px\",\n                borderBottomRightRadius: \"25px\"\n              },\n              src: value.image[1]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 24\n        }, this);\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"three\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/posts/id=\" + value.idBlog,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"two\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: value.image[0].slice(100, 110),\n                style: {\n                  borderTopLeftRadius: \"25px\"\n                },\n                src: value.image[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  borderTopRightRadius: \"25px\"\n                },\n                alt: value.image[1].slice(100, 110),\n                src: value.image[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: value.image[2].slice(100, 110),\n              style: {\n                borderBottomLeftRadius: \"25px\",\n                borderBottomRightRadius: \"25px\"\n              },\n              src: value.image[2]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 24\n        }, this);\n\n      case 4:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"three\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/posts/id=\" + value.idBlog,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"two\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: value.image[0].slice(100, 110),\n                style: {\n                  borderTopLeftRadius: \"25px\"\n                },\n                src: value.image[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: value.image[1].slice(100, 110),\n                style: {\n                  borderTopRightRadius: \"25px\"\n                },\n                src: value.image[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"two\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: value.image[2].slice(100, 110),\n                style: {\n                  borderBottomLeftRadius: \"25px\"\n                },\n                src: value.image[2]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: value.image[3].slice(100, 110),\n                style: {\n                  borderBottomRightRadius: \"25px\"\n                },\n                src: value.image[3]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 24\n        }, this);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"three\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/posts/id=\" + value.idBlog,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"two\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: value.image[0].slice(100, 110),\n                style: {\n                  borderTopLeftRadius: \"25px\"\n                },\n                src: value.image[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                style: {\n                  borderTopRightRadius: \"25px\"\n                },\n                src: value.image[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"two\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                alt: value.image[1].slice(100, 110),\n                style: {\n                  borderBottomLeftRadius: \"25px\"\n                },\n                src: value.image[2]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  position: \"relative\",\n                  width: \"90%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: value.image[2].slice(100, 110),\n                  style: {\n                    borderBottomRightRadius: \"25px\"\n                  },\n                  className: \"more_image\",\n                  src: value.image[3]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"last_image\",\n                  children: [\"+ \", value.image.length - 4]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 24\n        }, this);\n    }\n  };\n\n  const CommentRender = cb => {\n    const {\n      value,\n      i\n    } = cb.props;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: value.comment[i] !== undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment_blog\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"./demo.jpeg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: value.comment[i].value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"activities\",\n          children: [/*#__PURE__*/_jsxDEV(LikeComment, {\n            props: {\n              data: value.comment[i],\n              i: value.comment[i].id + i,\n              value: value.idBlog\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment list\",\n            children: /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(ChatBubbleOutlineIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this), \" comment\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 50\n      }, this) : console.log()\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"viewBlog\",\n    children: [blog.length === 0 && /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 35\n    }, this), login ? /*#__PURE__*/_jsxDEV(RequireLogin, {\n      onClick: value => setLogin(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 22\n    }, this) : console.log(), /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n      dataLength: blog.length,\n      next: fetchData,\n      hasMore: true,\n      loader: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 25\n      }, this),\n      children: blog !== undefined ? blog.map(function (value, i) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"viewBlog_li\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"contain_blog\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"./demo.jpeg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile_text\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Ng\\u01B0\\u1EDDi t\\u1ECFa s\\xE1ng nh\\u1EA5t l\\xE0 ng\\u01B0\\u1EDDi c\\xF4 \\u0111\\u1ED9c nh\\u1EA5t\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text_blog\",\n                  children: value.text.map(function (data, i) {\n                    return /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: data\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 64\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-blog\",\n              children: /*#__PURE__*/_jsxDEV(ImageRender, {\n                props: {\n                  value\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activities_blog\",\n              children: [/*#__PURE__*/_jsxDEV(SeeLike, {\n                props: {\n                  value,\n                  i,\n                  className: \"inner\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inner\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/posts/id=\" + value.idBlog,\n                  children: /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"comment list\",\n                    children: [/*#__PURE__*/_jsxDEV(ChatBubbleOutlineIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 53\n                    }, this), \"   Comment\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inner share\",\n                children: /*#__PURE__*/_jsxDEV(ShareBlog, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment_blog_view\",\n              children: [/*#__PURE__*/_jsxDEV(CommentRender, {\n                props: {\n                  value,\n                  i: 0\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(CommentRender, {\n                props: {\n                  value,\n                  i: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(CommentRender, {\n                props: {\n                  value,\n                  i: 2\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: e => {\n                  handleSubmit(e, value);\n                },\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  onClick: handleValidateLogin,\n                  onChange: e => setComment(e.target.value),\n                  value: comment,\n                  label: \"Comment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 33\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 29\n        }, this);\n      }) : {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ViewBlog, \"Su9gND4tYihM2EAF8TJz3s6ZqVU=\");\n\n_c = ViewBlog;\nexport default ViewBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewBlog\");","map":{"version":3,"sources":["/home/duythai/Developer/sadness/a-client/src/component/newsComponents/viewBlog/viewBlog.js"],"names":["React","useState","useEffect","Link","axios","Skeleton","InfiniteScroll","getCookie","socketApp","SeeLike","LikeComment","RequireLogin","ChatBubbleOutlineIcon","TextField","ShareBlog","ViewBlog","socket","getSocket","start","setStart","end","setEnd","blog","setBlog","comment","setComment","id","token","login","setLogin","handleSubmit","e","value","preventDefault","emit","idRecieve","idBlog","idSent","error","fetchData","setTimeout","handleValidateLogin","fn","setBlogRes","res","a","data","handleError","get","then","catch","err","ImageRender","cb","props","image","length","slice","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","position","width","CommentRender","i","undefined","console","log","map","text","className","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport Skeleton from \"../exNews/Skeleton\"\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"../../style/viewBlog.css\"\nimport { getCookie } from '../../../helpers/auth';\nimport socketApp from '../../../socket';\nimport SeeLike from '../exNews/seeLike';\nimport LikeComment from '../exOne/likeComment';\nimport RequireLogin from '../../../helpers/requireLogin';\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\nimport { TextField } from '@material-ui/core';\nimport ShareBlog from '../exOne/shareBlog';\n\nfunction ViewBlog() {\n    let socket = socketApp.getSocket();\n    const [start, setStart] = useState(0)\n    const [end, setEnd] = useState(3)\n    const [blog, setBlog] = useState([])\n    const [comment, setComment] = useState(\"\")\n\n    const id = getCookie().token\n    const [login, setLogin] = useState(false)\n\n\n    const handleSubmit = (e, value) => {\n        e.preventDefault()\n        setComment(\"\")\n        socket.emit(\"comment\", { idRecieve: value.idBlog, idSent: id, value: comment }, (error) => {\n        })\n    }\n    const fetchData = () => {\n        setTimeout(() => {\n            setStart(start + 3)\n            setEnd(end + 3)\n        }, 1500);\n    }\n    const handleValidateLogin = () => {\n        if (id) setLogin(null)\n        else setLogin(\"ok\")\n\n    }\n    useEffect(() => {\n        let fn = () => {\n            const setBlogRes = async (res) => {\n                let a = res.data.data\n                for await (let value of a) {\n                    setBlog(a => [...a, value])\n                }\n            }\n            const handleError = () => {\n                return (\n                    <div>\n                        Có lỗi đả xảy ra bạn hãy thử lại sau\n                    </div>\n                )\n            }\n            if (id) {\n                axios.get(\"http://localhost:2704/api/news/data?start=\" + start + \"&end=\" + end + \"&id=\" + id)\n                    .then(res => {\n                        setBlogRes(res)\n                    })\n                    .catch(err => {\n                        handleError()\n                    })\n            } else {\n                axios.get(\"http://localhost:2704/api/news/dataNo?start=\" + start + \"&end=\" + end)\n                    .then(res => {\n                        setBlogRes(res)\n                    })\n                    .catch(err => {\n                        handleError()\n                    })\n            }\n        }\n        fn()\n    }, [end])\n\n    const ImageRender = (cb) => {\n        const { value } = cb.props\n        switch (value.image.length) {\n            case 0:\n                return <div></div>\n\n            case 1:\n                return <div className=\"one\">\n                    <Link to={\"/posts/id=\" + value.idBlog}>\n                        <img\n                            alt={value.image[0].slice(100, 110)}\n                            style={{\n                                borderTopLeftRadius: \"25px\",\n                                borderBottomLeftRadius: \"25px\",\n                                borderTopRightRadius: \"25px\",\n                                borderBottomRightRadius: \"25px\"\n                            }}\n                            src={value.image[0]} />\n                    </Link>\n                </div>\n\n            case 2:\n                return <div className=\"two\">\n                    <Link to={\"/posts/id=\" + value.idBlog}>\n                        <img\n                            alt={value.image[0].slice(100, 110)}\n                            style={{\n                                borderTopLeftRadius: \"25px\",\n                                borderBottomLeftRadius: \"25px\"\n                            }}\n                            src={value.image[0]}></img>\n                        <img\n                            alt={value.image[1].slice(100, 110)}\n                            style={{\n                                borderTopRightRadius: \"25px\",\n                                borderBottomRightRadius: \"25px\"\n                            }}\n                            src={value.image[1]}></img>\n                    </Link>\n                </div>\n\n            case 3:\n                return <div className=\"three\">\n                    <Link to={\"/posts/id=\" + value.idBlog}>\n                        <div className=\"two\">\n                            <img\n                                alt={value.image[0].slice(100, 110)}\n                                style={{\n                                    borderTopLeftRadius: \"25px\"\n                                }}\n                                src={value.image[0]}></img>\n                            <img\n                                style={{\n                                    borderTopRightRadius: \"25px\"\n                                }}\n                                alt={value.image[1].slice(100, 110)}\n                                src={value.image[1]}></img>\n                        </div>\n                        <img\n                            alt={value.image[2].slice(100, 110)}\n                            style={{\n                                borderBottomLeftRadius: \"25px\",\n                                borderBottomRightRadius: \"25px\"\n                            }}\n                            src={value.image[2]}></img>\n                    </Link>\n                </div>\n\n            case 4:\n                return <div className=\"three\">\n                    <Link to={\"/posts/id=\" + value.idBlog}>\n                        <div className=\"two\">\n                            <img\n                                alt={value.image[0].slice(100, 110)}\n                                style={{\n                                    borderTopLeftRadius: \"25px\",\n                                }}\n                                src={value.image[0]}></img>\n                            <img\n                                alt={value.image[1].slice(100, 110)}\n                                style={{\n                                    borderTopRightRadius: \"25px\",\n                                }}\n                                src={value.image[1]}></img>\n                        </div>\n                        <div className=\"two\">\n                            <img\n                                alt={value.image[2].slice(100, 110)}\n                                style={{\n                                    borderBottomLeftRadius: \"25px\",\n                                }}\n                                src={value.image[2]}></img>\n                            <img\n                                alt={value.image[3].slice(100, 110)}\n                                style={{\n                                    borderBottomRightRadius: \"25px\",\n                                }}\n                                src={value.image[3]}></img>\n                        </div>\n                    </Link>\n                </div>\n\n            default:\n                return <div className=\"three\">\n                    <Link to={\"/posts/id=\" + value.idBlog}>\n                        <div className=\"two\">\n                            <img\n                                alt={value.image[0].slice(100, 110)}\n                                style={{\n                                    borderTopLeftRadius: \"25px\",\n                                }}\n                                src={value.image[0]}></img>\n                            <img\n                                style={{\n                                    borderTopRightRadius: \"25px\",\n                                }}\n                                src={value.image[1]}></img>\n                        </div>\n                        <div className=\"two\" >\n                            <img\n                                alt={value.image[1].slice(100, 110)}\n                                style={{\n                                    borderBottomLeftRadius: \"25px\",\n                                }}\n                                src={value.image[2]}></img>\n                            <div style={{ position: \"relative\", width: \"90%\" }}>\n                                <img\n                                    alt={value.image[2].slice(100, 110)}\n                                    style={{\n                                        borderBottomRightRadius: \"25px\",\n                                    }}\n                                    className=\"more_image\"\n                                    src={value.image[3]}></img>\n                                <span className=\"last_image\">\n                                    + {value.image.length - 4}\n                                </span>\n                            </div>\n                        </div>\n                    </Link>\n                </div>\n        }\n    }\n    const CommentRender = (cb) => {\n        const { value, i } = cb.props\n        return <>\n            {\n                value.comment[i] !== undefined ? <div\n                    className=\"comment_blog\"\n                >\n                    <div className=\"content\">\n                        <img src=\"./demo.jpeg\"></img>\n                        <span>{value.comment[i].value}</span>\n                    </div>\n                    <div className=\"activities\">\n                        <LikeComment props={{ data: value.comment[i], i: value.comment[i].id + i, value: value.idBlog }} />\n                        <div className=\"comment list\">\n                            <li >\n                                <ChatBubbleOutlineIcon /> comment\n                </li>\n                        </div>\n                    </div>\n                </div> : console.log()\n            }\n        </>\n    }\n    return (\n        <div className=\"viewBlog\">\n            {blog.length === 0 && <Skeleton />}\n            {login ? <RequireLogin onClick={(value) => setLogin(value)} /> : console.log()}\n            <InfiniteScroll\n                dataLength={blog.length}\n                next={fetchData}\n                hasMore={true}\n                loader={<Skeleton />}\n            >\n                {\n                    blog !== undefined ? blog.map(function (value, i) {\n                        return (\n                            <div className=\"viewBlog_li\" key={i}>\n                                <div className=\"contain_blog\" >\n                                    <div className=\"profile\">\n                                        <img src=\"./demo.jpeg\"></img>\n                                        <div className=\"profile_text\">\n                                            <span>Người tỏa sáng nhất là người cô độc nhất</span>\n                                            <div className=\"text_blog\">\n                                                {\n                                                    value.text.map(function (data, i) {\n                                                        return <p key={i}>{data}</p>\n                                                    })\n                                                }\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Render Image */}\n                                    <div className=\"image-blog\">\n                                        <ImageRender props={{ value }} />\n                                    </div>\n                                    <div className=\"activities_blog\">\n                                        <SeeLike props={{ value, i, className: \"inner\" }} />\n                                        <div className=\"inner\">\n                                            <Link to={\"/posts/id=\" + value.idBlog}>\n                                                <li className=\"comment list\">\n                                                    <ChatBubbleOutlineIcon />   Comment\n                                                </li>\n                                            </Link>\n                                        </div>\n                                        <div className=\"inner share\">\n                                            <ShareBlog />\n                                        </div>\n                                    </div>\n                                    <div className=\"comment_blog_view\">\n                                        {/* Render comment */}\n                                        <CommentRender props={{ value, i: 0 }} />\n                                        <CommentRender props={{ value, i: 1 }} />\n                                        <CommentRender props={{ value, i: 2 }} />\n                                        <form onSubmit={e => { handleSubmit(e, value) }}>\n                                            <TextField\n                                                onClick={handleValidateLogin}\n                                                onChange={e => setComment(e.target.value)}\n                                                value={comment}\n                                                label=\"Comment\" />\n                                        </form>\n                                    </div>\n                                </div>\n                            </div>\n                        )\n                    }) : {}\n                }\n            </InfiniteScroll>\n        </div>\n    )\n}\n\nexport default ViewBlog"]},"metadata":{},"sourceType":"module"}